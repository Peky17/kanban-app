"use strict";(self.webpackChunkilp_task_manager=self.webpackChunkilp_task_manager||[]).push([[310],{4310:(lx,bs,U)=>{U.r(bs),U.d(bs,{TaskModule:()=>ax});var I=U(6814),m=U(95),rt=U(5345),s=U(9468),rl=U(3519),k=U.n(rl);const vs=function(){return["/dashboard/home"]},al=function(){return["/dashboard/my-tasks"]},ll=function(){return["/dashboard/my-projects"]},cl=function(){return["/dashboard/my-profile"]};let dl=(()=>{var n;class i{constructor(t){this.router=t}logOut(){k().fire({title:"Do you want to exit?",text:"The application erase your session",icon:"warning",showCancelButton:!0,confirmButtonText:"Exit",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&(localStorage.clear(),this.router.navigateByUrl("auth/login"))})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(rt.F0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-navbar"]],decls:32,vars:10,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-primary"],[1,"container"],["routerLinkActive","active",1,"navbar-brand",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",2,"cursor","pointer",3,"routerLink"],[1,"fa","fa-house",2,"margin-left","5px"],[1,"fa","fa-check-circle",2,"margin-left","5px"],[1,"fa","fa-clipboard",2,"margin-left","5px"],[1,"fa","fa-user",2,"margin-left","5px"],["type","button",1,"btn","btn-secondary","my-2","my-sm-0",3,"click"],[1,"fa","fa-power-off",2,"margin-left","5px"]],template:function(t,o){1&t&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2)(3,"b"),s._uU(4,"ILP Task Manager"),s.qZA()(),s.TgZ(5,"button",3),s._UZ(6,"span",4),s.qZA(),s.TgZ(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8)(11,"b"),s._uU(12,"Home"),s.qZA(),s._UZ(13,"i",9),s.qZA()(),s.TgZ(14,"li",7)(15,"a",8)(16,"b"),s._uU(17,"My Tasks"),s.qZA(),s._UZ(18,"i",10),s.qZA()(),s.TgZ(19,"li",7)(20,"a",8)(21,"b"),s._uU(22,"Assigned Projects"),s.qZA(),s._UZ(23,"i",11),s.qZA()(),s.TgZ(24,"li",7)(25,"a",8)(26,"b"),s._uU(27," My profile"),s.qZA(),s._UZ(28,"i",12),s.qZA()()(),s.TgZ(29,"button",13),s.NdJ("click",function(){return o.logOut()}),s._uU(30," Logout "),s._UZ(31,"i",14),s.qZA()()()()),2&t&&(s.xp6(2),s.Q6J("routerLink",s.DdM(5,vs)),s.xp6(8),s.Q6J("routerLink",s.DdM(6,vs)),s.xp6(5),s.Q6J("routerLink",s.DdM(7,al)),s.xp6(5),s.Q6J("routerLink",s.DdM(8,ll)),s.xp6(5),s.Q6J("routerLink",s.DdM(9,cl)))},dependencies:[rt.rH,rt.Od]}),i})(),hl=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:2,vars:0,consts:[["data-bs-theme","light",1,"bg-light","text-dark","text-center"]],template:function(t,o){1&t&&(s.TgZ(0,"footer",0),s._uU(1," ILP Program TCS \xa9 | ebgvdeveloper [2928650]\n"),s.qZA())},styles:["footer[_ngcontent-%COMP%]{color:#fff;padding:8px 0;width:100%}"]}),i})(),ul=(()=>{var n;class i{constructor(t){this.router=t}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(rt.F0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main-task"]],decls:5,vars:0,consts:[[1,"main-content"]],template:function(t,o){1&t&&(s._UZ(0,"app-navbar")(1,"br"),s.TgZ(2,"div",0),s._UZ(3,"router-outlet"),s.qZA(),s._UZ(4,"app-footer"))},dependencies:[rt.lC,dl,hl],styles:[".main-content[_ngcontent-%COMP%]{margin-bottom:20px;min-height:calc(100vh - 150px)}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.card[_ngcontent-%COMP%]{flex:1;margin:10px}"]}),i})();var q=U(1391);class Wt{constructor(i=[],e=5){this.items=[],this.pageSize=5,this.currentPage=1,this.items=i,this.pageSize=e}setItems(i){this.items=i,this.currentPage>this.totalPages&&(this.currentPage=this.totalPages||1)}get totalPages(){return Math.ceil(this.items.length/this.pageSize)}get pagedItems(){const i=(this.currentPage-1)*this.pageSize;return this.items.slice(i,i+this.pageSize)}goToPage(i){i>=1&&i<=this.totalPages&&(this.currentPage=i)}}var nt=U(9862),Zt=U(5619),J=U(5592),At=U(1594);let Ot=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/users",this.administratorsSubject=new Zt.X([]),this.administrators$=this.administratorsSubject.asObservable(),this.loadAdministrators()}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}createAdministrator(t){return new J.y(o=>{this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadAdministrators(),o.next(r),o.complete()},error:r=>o.error(r)})})}getAdministrators(){return this.administrators$}loadAdministrators(){this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()}).subscribe({next:t=>this.administratorsSubject.next(t),error:()=>this.administratorsSubject.next([])})}getAdministratorById(t){return this.httpClient.get(`${this.baseUrl}/${t}`,{headers:this.getAuthHeaders()})}updateAdministrator(t,o){return new J.y(r=>{this.httpClient.put(`${this.baseUrl}/${t}`,o,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.loadAdministrators(),r.next(a),r.complete()},error:a=>r.error(a)})})}deleteAdministrator(t){return new J.y(o=>{this.httpClient.delete(`${this.baseUrl}/${t}`,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadAdministrators(),o.next(r),o.complete()},error:r=>o.error(r)})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();var P=U(2154);function fl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Create New User"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.addAdmin())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"label",11)(13,"b"),s._uU(14,"Email"),s.qZA()(),s._UZ(15,"input",12),s.qZA(),s.TgZ(16,"div",8)(17,"label",13)(18,"b"),s._uU(19,"Phone"),s.qZA()(),s._UZ(20,"input",14),s.qZA(),s.TgZ(21,"div",8)(22,"label",15)(23,"b"),s._uU(24,"Password"),s.qZA()(),s._UZ(25,"input",16),s.qZA(),s.TgZ(26,"div",8)(27,"label",17)(28,"b"),s._uU(29,"WON"),s.qZA()(),s._UZ(30,"input",18),s.qZA(),s.TgZ(31,"div",8)(32,"label",19)(33,"b"),s._uU(34,"Employee Number"),s.qZA()(),s._UZ(35,"input",20),s.qZA(),s.TgZ(36,"div",21)(37,"label",22)(38,"b"),s._uU(39,"Role"),s.qZA()(),s.TgZ(40,"select",23)(41,"option",24),s._uU(42,"Administrator"),s.qZA(),s.TgZ(43,"option",25),s._uU(44,"Associate"),s.qZA(),s.TgZ(45,"option",26),s._uU(46,"Manager"),s.qZA()()(),s._UZ(47,"br"),s.TgZ(48,"button",27),s._uU(49," Create Administrator "),s._UZ(50,"i",28),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario)}}let pl=(()=>{var n;class i{constructor(t,o,r,a){this.fb=t,this.activeModal=o,this.modalService=r,this.administratorService=a,this.addFormulario=this.fb.group({name:["",[m.kI.required,m.kI.minLength(4)]],email:["",[m.kI.required,m.kI.email]],cellphone:["",[m.kI.required,m.kI.minLength(10),m.kI.maxLength(10)]],password:["",[m.kI.required]],won:["",[m.kI.required]],employeeNumber:["",[m.kI.required]],role:this.fb.group({id:[1,m.kI.required]})})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}ngOnInit(){}addAdmin(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.administratorService.createAdministrator(t).subscribe(o=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"User created successfully",icon:"success"})},o=>{k().fire({title:"FAILED ACTION!",text:o.error.message,icon:"error"}),this.modalService.dismissAll()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Ot))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-admin-modal"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-user",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Administrator name",1,"form-control"],["for","email"],["formControlName","email","type","email","id","email","placeholder","Administrator email",1,"form-control"],["for","cellphone"],["formControlName","cellphone","type","text","id","cellphone","placeholder","Administrator phone",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password","placeholder","Administrator password",1,"form-control"],["for","won"],["formControlName","won","type","text","id","won","placeholder","WON identifier",1,"form-control"],["for","employeeNumber"],["formControlName","employeeNumber","type","text","id","employeeNumber","placeholder","Employee number",1,"form-control"],["formGroupName","role",1,"form-group"],["for","role"],["formControlName","id",1,"form-control"],["value","1"],["value","2"],["value","3"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-plus",2,"margin-left","5px"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,fl,51,1,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Create New User "),s._UZ(4,"i",2),s.qZA()}},dependencies:[m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u,m.x0]}),i})();function gl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"button",19),s.NdJ("click",function(){s.CHM(e);const o=s.oxw().$implicit,r=s.oxw();return s.KtG(r.confirmDelete(o.id,o.name))}),s._uU(2," Delete "),s._UZ(3,"i",20),s.qZA()()}}function ml(n,i){1&n&&(s.TgZ(0,"td")(1,"a"),s._uU(2,"Actions not allowed! "),s._UZ(3,"i",21),s.qZA()())}function _l(n,i){if(1&n&&(s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.YNc(13,gl,4,0,"td",18),s.YNc(14,ml,4,0,"td",18),s.qZA()),2&n){const e=i.$implicit,t=s.oxw();s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.cellphone),s.xp6(2),s.Oqu(e.won),s.xp6(2),s.Oqu(e.employeeNumber),s.xp6(1),s.Q6J("ngIf",!t.isCurrentUserEmail(e.email)),s.xp6(1),s.Q6J("ngIf",t.isCurrentUserEmail(e.email))}}function bl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){const r=s.CHM(e).index,a=s.oxw();return s.KtG(a.onPageChange(r+1))}),s._uU(1),s.qZA()}if(2&n){const e=i.index,t=s.oxw();s.ekj("active",t.paginator.currentPage===e+1),s.xp6(1),s.hij(" ",e+1," ")}}const vl=function(){return[]};let xl=(()=>{var n;class i{constructor(t,o){this.administratorService=t,this.modalService=o,this.administrators=[],this.paginator=new Wt([],5),this.searchTerm="",this.filteredAdministrators=[]}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch the administrators.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.administratorService.getAdministrators().subscribe({next:t=>{this.administrators=t,this.filterData(),setTimeout(()=>k().close(),500)},error:()=>{k().fire("Error","Failed to load administrators.","error")}})}filterData(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();this.filteredAdministrators=this.administrators.filter(o=>Object.values(o).some(r=>r&&r.toString().toLowerCase().includes(t)))}else this.filteredAdministrators=this.administrators;this.paginator.setItems(this.filteredAdministrators),this.paginator.goToPage(1)}onPageChange(t){this.paginator.goToPage(t)}isCurrentUserEmail(t){return localStorage.getItem("email").replace(/['"]/g,"")==t}confirmDelete(t,o){k().fire({title:"Are you sure you want to delete this record?",text:`Administrator: ${o}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete",cancelButtonText:"No, cancel"}).then(r=>{r.isConfirmed&&this.deleteAdministrator(t)})}deleteAdministrator(t){this.administratorService.deleteAdministrator(t).subscribe(()=>{k().fire("Deleted","The administrator has been deleted.","success")},o=>{k().fire("Error","There was a problem deleting the administrator.","error")})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Ot),s.Y36(P.FF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-administrators"]],decls:42,vars:4,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"mb-3"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-3"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","Page group",1,"btn-group","me-2"],["type","button","class","btn btn-secondary",3,"active","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"fa","fa-ban"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"Mange Users"),s.qZA(),s.TgZ(5,"p",4),s._uU(6," Here you can manage all the users. Here you can Add, Delete, Complete and Update users "),s.qZA()(),s._UZ(7,"app-add-admin-modal"),s.qZA(),s._UZ(8,"br"),s.TgZ(9,"section",2)(10,"div",5)(11,"div",6)(12,"div",7)(13,"h5"),s._uU(14,"User List"),s.qZA()(),s.TgZ(15,"div",8)(16,"div",9)(17,"input",10),s.NdJ("ngModelChange",function(a){return o.searchTerm=a})("ngModelChange",function(){return o.filterData()}),s.qZA()(),s.TgZ(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th"),s._uU(23,"ID"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"Nombre"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Email"),s.qZA(),s.TgZ(28,"th"),s._uU(29,"Tel\xe9fono"),s.qZA(),s.TgZ(30,"th"),s._uU(31,"WON"),s.qZA(),s.TgZ(32,"th"),s._uU(33,"Employee Number"),s.qZA(),s.TgZ(34,"th"),s._uU(35,"Acci\xf3n"),s.qZA()()(),s.TgZ(36,"tbody"),s.YNc(37,_l,15,8,"tr",13),s.qZA()()()(),s.TgZ(38,"div",14)(39,"div",15)(40,"div",16),s.YNc(41,bl,2,3,"button",17),s.qZA()()()()()()()),2&t&&(s.xp6(17),s.Q6J("ngModel",o.searchTerm),s.xp6(20),s.Q6J("ngForOf",o.paginator.pagedItems),s.xp6(4),s.Q6J("ngForOf",s.DdM(3,vl).constructor(o.paginator.totalPages)))},dependencies:[I.sg,I.O5,m.Fj,m.JJ,m.On,pl]}),i})(),Et=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/boards",this.boardsSubject=new Zt.X([]),this.boards$=this.boardsSubject.asObservable(),this.loadBoards()}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getBoards(){return this.boards$}loadBoards(){this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()}).subscribe({next:t=>this.boardsSubject.next(t),error:()=>this.boardsSubject.next([])})}getBoardById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}getBoardsByProjectId(t){return this.httpClient.get(this.baseUrl+"/project-boards/"+t,{headers:this.getAuthHeaders()})}createBoard(t){return new J.y(o=>{this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadBoards(),o.next(r),o.complete()},error:r=>o.error(r)})})}updateBoard(t,o){return new J.y(r=>{this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.loadBoards(),r.next(a),r.complete()},error:a=>r.error(a)})})}deleteBoardById(t){return new J.y(o=>{this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadBoards(),o.next(r),o.complete()},error:r=>o.error(r)})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),Jt=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/projects",this.projectsSubject=new Zt.X([]),this.projects$=this.projectsSubject.asObservable(),this.loadProjects()}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getProjects(){return this.projects$}loadProjects(){this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()}).subscribe({next:t=>this.projectsSubject.next(t),error:()=>this.projectsSubject.next([])})}getProjectById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}createProject(t){return new J.y(o=>{this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadProjects(),o.next(r),o.complete()},error:r=>o.error(r)})})}updateProject(t,o){return new J.y(r=>{this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.loadProjects(),r.next(a),r.complete()},error:a=>r.error(a)})})}deleteProjectById(t){return new J.y(o=>{this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadProjects(),o.next(r),o.complete()},error:r=>o.error(r)})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function yl(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",19),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function kl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"New Kanban Board"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.createBoard())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"div",8)(19,"label",9)(20,"b"),s._uU(21,"Select the project"),s.qZA()(),s.TgZ(22,"select",12)(23,"option",13),s._uU(24,"Select the origin project"),s.qZA(),s.YNc(25,yl,3,2,"div",14),s.qZA()()(),s.TgZ(26,"div",15)(27,"div",8)(28,"label",9)(29,"b"),s._uU(30,"CreatedAt"),s.qZA()(),s._UZ(31,"input",16),s.qZA()(),s._UZ(32,"br"),s.TgZ(33,"button",17),s._uU(34," Save Kanban Board "),s._UZ(35,"i",18),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario),s.xp6(20),s.Q6J("ngForOf",e.projects)}}let Tl=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.boardService=a,this.projectService=l,this.projects=[]}ngOnInit(){this.getAllProjects();const o=(new Date).toISOString().slice(0,10);this.addFormulario=this.fb.group({name:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],description:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(40)]],createdAt:[o,[m.kI.required,m.kI.minLength(3),m.kI.maxLength(10)]],project:[-17,[m.kI.required]]})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}createBoard(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid||-17==this.addFormulario.value.project?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.boardService.createBoard(t).subscribe(r=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Board created successfully",icon:"success"})},r=>{k().fire({title:"FAILED ACTION!",text:r.error.message,icon:"error"}),this.modalService.dismissAll()})}getAllProjects(){this.projectService.getProjects().subscribe({next:t=>{this.projects=t},error:t=>{console.error("Error fetching data:",t)}})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Et),s.Y36(Jt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-kanban-modal"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-table",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Kanban name",1,"form-control"],["formControlName","description","placeholder","Board description",1,"form-control"],["formControlName","project",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["formControlName","createdAt","value","1","type","date",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-table",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,kl,36,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Create New Board "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})();function Cl(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",19),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function Al(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Update Kanban Board"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.updateBoard())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"div",8)(19,"label",9)(20,"b"),s._uU(21,"Select the project"),s.qZA()(),s.TgZ(22,"select",12)(23,"option",13),s._uU(24,"Select the origin project"),s.qZA(),s.YNc(25,Cl,3,2,"div",14),s.qZA()()(),s.TgZ(26,"div",15)(27,"div",8)(28,"label",9)(29,"b"),s._uU(30,"CreatedAt"),s.qZA()(),s._UZ(31,"input",16),s.qZA()(),s._UZ(32,"br"),s.TgZ(33,"button",17),s._uU(34," Update Kanban Board "),s._UZ(35,"i",18),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.updateFormulario),s.xp6(20),s.Q6J("ngForOf",e.projects)}}let Sl=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.boardService=a,this.projectService=l,this.projects=[]}ngOnInit(){this.getAllProjects(),this.updateFormulario=this.fb.group({name:[this.board.name,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(50)]],description:[this.board.description,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(40)]],createdAt:[this.board.createdAt,[m.kI.required,m.kI.minLength(3),m.kI.maxLength(10)]],project:[this.board.project.id,[m.kI.required]]})}getAllProjects(){this.projectService.getProjects().subscribe({next:t=>{this.projects=t},error:t=>{console.error("Error fetching data:",t)}})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}updateBoard(){let t=this.updateFormulario.value;console.log(t),this.updateFormulario.invalid||-17==this.updateFormulario.value.project?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.boardService.updateBoard(this.board.id,t).subscribe(r=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Board created successfully",icon:"success"})},r=>{k().fire({title:"FAILED ACTION!",text:r.error.message,icon:"error"}),this.modalService.dismissAll()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Et),s.Y36(Jt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-kanban-modal"]],inputs:{board:"board"},features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-pen",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Kanban name",1,"form-control"],["formControlName","description","placeholder","Board description",1,"form-control"],["formControlName","project",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["formControlName","createdAt","value","1","type","date",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-pen",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,Al,36,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Update Board "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})();function wl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td")(10,"button",20),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.redirectToBoard(r))}),s._uU(11," View "),s._UZ(12,"i",21),s.qZA(),s._UZ(13,"app-update-kanban-modal",22),s.TgZ(14,"button",23),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.confirmDelete(r.id,r.name))}),s._uU(15," Delete "),s._UZ(16,"i",24),s.qZA()()()}if(2&n){const e=i.$implicit;s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Oqu(e.createdAt),s.xp6(2),s.Oqu(e.project.id),s.xp6(5),s.Q6J("board",e)}}function Ml(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){const r=s.CHM(e).index,a=s.oxw();return s.KtG(a.onPageChange(r+1))}),s._uU(1),s.qZA()}if(2&n){const e=i.index,t=s.oxw();s.ekj("active",t.paginator.currentPage===e+1),s.xp6(1),s.hij(" ",e+1," ")}}const Dl=function(){return[]};let Pl=(()=>{var n;class i{constructor(t,o){this.router=t,this.boardService=o,this.boards=[],this.filteredBoards=[],this.paginator=new Wt([],5),this.searchTerm=""}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch the boards.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.boardService.getBoards().subscribe({next:t=>{this.boards=t,this.filteredBoards=t,this.paginator.setItems(t),setTimeout(()=>k().close(),500)},error:t=>{console.error("Error al obtener datos:",t),k().fire("Error","Failed to load boards.","error")}})}onPageChange(t){this.paginator.goToPage(t)}filterData(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();this.filteredBoards=this.boards.filter(o=>o.name.toLowerCase().includes(t)||o.id.toString().includes(t)||o.project.id.toString().includes(t)||o.createdAt&&o.createdAt.toLowerCase().includes(t))}else this.filteredBoards=this.boards;this.paginator.setItems(this.filteredBoards)}confirmDelete(t,o){k().fire({title:"Do you want to delete this Board?",text:`Board: ${o}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete!",cancelButtonText:"No, cancel"}).then(r=>{r.isConfirmed&&this.deleteBoard(t)})}deleteBoard(t){this.boardService.deleteBoardById(t).subscribe(()=>{k().fire("Deleted","The board has been deleted successfully","success")},o=>{k().fire("Error","There was a problem deleting the board.","error")})}redirectToBoard(t){this.router.navigate(["/dashboard/board",t])}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(rt.F0),s.Y36(Et))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-kanban"]],decls:40,vars:4,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-4"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-end"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","Page group",1,"btn-group","me-2"],["type","button","class","btn btn-secondary",3,"active","click",4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-eye"],[3,"board"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"Kanban Boards"),s.qZA(),s.TgZ(5,"p",4),s._uU(6," Here you can manage all the Kanban Boards. Here you can Add, Delete, and Update boards for task management. "),s.qZA()()(),s._UZ(7,"br"),s.TgZ(8,"section",2)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5"),s._uU(13,"Kanban boards list"),s.qZA()(),s.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"input",11),s.NdJ("ngModelChange",function(a){return o.searchTerm=a})("ngModelChange",function(){return o.filterData()}),s.qZA()()(),s.TgZ(18,"div",12)(19,"table",13)(20,"thead")(21,"tr")(22,"th"),s._uU(23,"ID"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"Name"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Created At"),s.qZA(),s.TgZ(28,"th"),s._uU(29,"Project Id"),s.qZA(),s.TgZ(30,"th"),s._uU(31,"Action"),s.qZA()()(),s.TgZ(32,"tbody"),s.YNc(33,wl,17,5,"tr",14),s.qZA()()()(),s.TgZ(34,"div",15),s._UZ(35,"app-add-kanban-modal"),s.TgZ(36,"div",16)(37,"div",17)(38,"div",18),s.YNc(39,Ml,2,3,"button",19),s.qZA()()()()()()()()),2&t&&(s.xp6(17),s.Q6J("ngModel",o.searchTerm),s.xp6(16),s.Q6J("ngForOf",o.paginator.pagedItems),s.xp6(6),s.Q6J("ngForOf",s.DdM(3,Dl).constructor(o.paginator.totalPages)))},dependencies:[I.sg,m.Fj,m.JJ,m.On,Tl,Sl]}),i})(),pt=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/tasks",this.tasksSubject=new Zt.X([]),this.tasks$=this.tasksSubject.asObservable(),this.loadTasks()}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getTasks(){return this.tasks$}loadTasks(){this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()}).subscribe({next:t=>this.tasksSubject.next(t),error:()=>this.tasksSubject.next([])})}getTasksByBucket(t){return this.httpClient.get(this.baseUrl+"/tasks-bucket/"+t,{headers:this.getAuthHeaders()})}getTaskById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}createTask(t){return new J.y(o=>{this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadTasks(),o.next(r),o.complete()},error:r=>o.error(r)})})}updateTask(t,o){return new J.y(r=>{this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.loadTasks(),r.next(a),r.complete()},error:a=>r.error(a)})})}deleteTaskById(t){return new J.y(o=>{this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadTasks(),o.next(r),o.complete()},error:r=>o.error(r)})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),Kt=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/buckets",this.bucketsSubject=new Zt.X([]),this.buckets$=this.bucketsSubject.asObservable(),this.loadBuckets()}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getBuckets(){return this.buckets$}loadBuckets(){this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()}).subscribe({next:t=>this.bucketsSubject.next(t),error:()=>this.bucketsSubject.next([])})}getBucketById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}getBucketsByBoard(t){return this.httpClient.get(this.baseUrl+"/buckets-board/"+t,{headers:this.getAuthHeaders()})}createBucket(t){return new J.y(o=>{this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadBuckets(),o.next(r),o.complete()},error:r=>o.error(r)})})}updateBucket(t,o){return new J.y(r=>{this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.loadBuckets(),r.next(a),r.complete()},error:a=>r.error(a)})})}deleteBucketById(t){return new J.y(o=>{this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadBuckets(),o.next(r),o.complete()},error:r=>o.error(r)})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function Il(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",26),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function Zl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"New Task"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.createTask())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"div",8)(19,"label",9)(20,"b"),s._uU(21,"Priority"),s.qZA()(),s.TgZ(22,"select",12)(23,"option",13),s._uU(24,"Select the priority"),s.qZA(),s.TgZ(25,"option",14),s._uU(26,"High"),s.qZA(),s.TgZ(27,"option",15),s._uU(28,"Medium"),s.qZA(),s.TgZ(29,"option",16),s._uU(30,"Low"),s.qZA()()()(),s.TgZ(31,"div",8)(32,"div",8)(33,"label",9)(34,"b"),s._uU(35,"Start Date"),s.qZA()(),s._UZ(36,"input",17),s.qZA()(),s.TgZ(37,"div",8)(38,"div",8)(39,"label",9)(40,"b"),s._uU(41,"Due Date"),s.qZA()(),s._UZ(42,"input",18),s.qZA()(),s.TgZ(43,"div",8)(44,"div",8)(45,"label",9)(46,"b"),s._uU(47,"Assigned Bucket"),s.qZA()(),s.TgZ(48,"select",19)(49,"option",20),s._uU(50,"Select the origin bucket"),s.qZA(),s.YNc(51,Il,3,2,"div",21),s.qZA()()(),s.TgZ(52,"div",22)(53,"div",8)(54,"label",9)(55,"b"),s._uU(56,"Created At"),s.qZA()(),s._UZ(57,"input",23),s.qZA()(),s._UZ(58,"br"),s.TgZ(59,"button",24),s._uU(60," Save task "),s._UZ(61,"i",25),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario),s.xp6(46),s.Q6J("ngForOf",e.buckets)}}let Ol=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.taskService=a,this.bucketService=l,this.buckets=[]}ngOnInit(){this.bucketService.getBuckets().subscribe({next:r=>{this.buckets=r},error:r=>{console.error("Error al obtener datos:",r)}});const o=(new Date).toISOString().slice(0,10);this.addFormulario=this.fb.group({name:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],priority:["-17",[m.kI.required,m.kI.maxLength(20)]],description:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(90)]],startDate:[o,[m.kI.required]],dueDate:[o,[m.kI.required]],createdAt:[o,[m.kI.required]],bucket:["-17",[m.kI.required]]})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}createTask(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.taskService.createTask(t).subscribe(o=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Task saved successfully",icon:"success"})},o=>{k().fire({title:"FAILED ACTION!",text:o.error.message,icon:"error"}),this.modalService.dismissAll()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(pt),s.Y36(Kt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-task-modal"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-tasks",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Task name",1,"form-control"],["formControlName","description","placeholder","Task description",1,"form-control"],["formControlName","priority",1,"form-control"],["selected","","value","-17","disabled",""],["value","High"],["value","Medium"],["value","Low"],["type","date","formControlName","startDate",1,"form-control"],["type","date","formControlName","dueDate",1,"form-control"],["formControlName","bucket",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["type","text","formControlName","createdAt"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,Zl,62,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Create New Task "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})();function El(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",26),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function Ul(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Update Task"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.updateTask())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"div",8)(19,"label",9)(20,"b"),s._uU(21,"Priority"),s.qZA()(),s.TgZ(22,"select",12)(23,"option",13),s._uU(24,"Select the priority"),s.qZA(),s.TgZ(25,"option",14),s._uU(26,"High"),s.qZA(),s.TgZ(27,"option",15),s._uU(28,"Medium"),s.qZA(),s.TgZ(29,"option",16),s._uU(30,"Low"),s.qZA()()()(),s.TgZ(31,"div",8)(32,"div",8)(33,"label",9)(34,"b"),s._uU(35,"Start Date"),s.qZA()(),s._UZ(36,"input",17),s.qZA()(),s.TgZ(37,"div",8)(38,"div",8)(39,"label",9)(40,"b"),s._uU(41,"Due Date"),s.qZA()(),s._UZ(42,"input",18),s.qZA()(),s.TgZ(43,"div",8)(44,"div",8)(45,"label",9)(46,"b"),s._uU(47,"Assigned Bucket"),s.qZA()(),s.TgZ(48,"select",19)(49,"option",20),s._uU(50,"Select the origin bucket"),s.qZA(),s.YNc(51,El,3,2,"div",21),s.qZA()()(),s.TgZ(52,"div",22)(53,"div",8)(54,"label",9)(55,"b"),s._uU(56,"Created At"),s.qZA()(),s._UZ(57,"input",23),s.qZA()(),s._UZ(58,"br"),s.TgZ(59,"button",24),s._uU(60," Update task "),s._UZ(61,"i",25),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.updateFormulario),s.xp6(46),s.Q6J("ngForOf",e.buckets)}}let Fl=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.taskService=a,this.bucketService=l,this.buckets=[]}ngOnInit(){this.bucketService.getBuckets().subscribe({next:r=>{this.buckets=r},error:r=>{console.error("Error al obtener datos:",r)}}),(new Date).toISOString().slice(0,10),this.updateFormulario=this.fb.group({name:[this.task.name,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],priority:[this.task.priority,[m.kI.required,m.kI.maxLength(20)]],description:[this.task.description,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(90)]],startDate:[this.task.startDate,[m.kI.required]],dueDate:[this.task.dueDate,[m.kI.required]],createdAt:[this.task.createdAt,[m.kI.required]],bucket:[this.task.bucket.id,[m.kI.required]]})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}updateTask(){const t=this.updateFormulario.value;console.log(t),this.updateFormulario.invalid?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.taskService.updateTask(this.task.id,t).subscribe(o=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Task updated successfully",icon:"success"})},o=>{k().fire({title:"FAILED ACTION!",text:o.error.message,icon:"error"}),this.modalService.dismissAll()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(pt),s.Y36(Kt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-task-modal"]],inputs:{task:"task"},features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-pen",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Task name",1,"form-control"],["formControlName","description","placeholder","Task description",1,"form-control"],["formControlName","priority",1,"form-control"],["selected","","value","-17","disabled",""],["value","High"],["value","Medium"],["value","Low"],["type","date","formControlName","startDate",1,"form-control"],["type","date","formControlName","dueDate",1,"form-control"],["formControlName","bucket",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["type","text","formControlName","createdAt"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,Ul,62,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Update Task "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})(),Ut=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/user-tasks"}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getAllAssignations(){return this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()})}getAssignationById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}getTaskAssignationByUserId(t){return this.httpClient.get(this.baseUrl+"/getAssociationsByUserId/"+t,{headers:this.getAuthHeaders()})}getAssignationsByTaskId(t){return this.httpClient.get(this.baseUrl+"/users/"+t,{headers:this.getAuthHeaders()})}getAssignationsByUserId(t){return this.httpClient.get(this.baseUrl+"/tasks/"+t,{headers:this.getAuthHeaders()})}createAssignation(t){return this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()})}updateAssignation(t,o){return this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()})}deleteAssignationById(t){return this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function Ll(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",16),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function Rl(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",16),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function jl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Assign user task"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.assignUser())}),s.TgZ(6,"div",8)(7,"div",8)(8,"label",9)(9,"b"),s._uU(10,"Select the task"),s.qZA()(),s.TgZ(11,"select",10)(12,"option",11),s._uU(13,"Select the origin task"),s.qZA(),s.YNc(14,Ll,3,2,"div",12),s.qZA()()(),s._UZ(15,"br"),s.TgZ(16,"div",8)(17,"div",8)(18,"label",9)(19,"b"),s._uU(20,"User to assign"),s.qZA()(),s.TgZ(21,"select",13)(22,"option",11),s._uU(23,"Select the user to assign"),s.qZA(),s.YNc(24,Rl,3,2,"div",12),s.qZA()()(),s._UZ(25,"br"),s.TgZ(26,"button",14),s._uU(27," Set assignation "),s._UZ(28,"i",15),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario),s.xp6(9),s.Q6J("ngForOf",e.tasks),s.xp6(10),s.Q6J("ngForOf",e.users)}}let Nl=(()=>{var n;class i{constructor(t,o,r,a,l,c){this.fb=t,this.activeModal=o,this.modalService=r,this.administratorService=a,this.taskService=l,this.taskAssignationService=c,this.users=[],this.tasks=[]}ngOnInit(){this.getAllTasks(),this.getAllUsers(),this.addFormulario=this.fb.group({task:[-17,[m.kI.required]],user:[-17,[m.kI.required]]})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}assignUser(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid||-17==this.addFormulario.value.project?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.taskAssignationService.createAssignation(t).subscribe(r=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"user assigned successfully",icon:"success"})},r=>{k().fire({title:"FAILED ACTION!",text:r.error.message,icon:"error"}),this.modalService.dismissAll()})}getAllTasks(){this.taskService.getTasks().subscribe({next:t=>{this.tasks=t},error:t=>{console.error("Error fetching data:",t)}})}getAllUsers(){this.administratorService.getAdministrators().subscribe({next:t=>{this.users=t},error:t=>{console.error("Error fetching data:",t)}})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Ot),s.Y36(pt),s.Y36(Ut))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-assign-task"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-warning",3,"click"],[1,"fa","fa-link",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","task",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["formControlName","user",1,"form-control"],["type","submit",1,"btn","btn-warning"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,jl,29,3,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Assign Task "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})();function Bl(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",23),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.priority)}}function ql(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",24),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.priority)}}function zl(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",25),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.priority)}}function Hl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s.YNc(8,Bl,3,1,"div",19),s.YNc(9,ql,3,1,"div",19),s.YNc(10,zl,3,1,"div",19),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA(),s.TgZ(17,"td"),s._uU(18),s.qZA(),s.TgZ(19,"td")(20,"div"),s._UZ(21,"app-update-task-modal",20),s.TgZ(22,"button",21),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.confirmDelete(r.id,r.name,r.description))}),s._uU(23," Delete "),s._UZ(24,"i",22),s.qZA()()()()}if(2&n){const e=i.$implicit,t=s.oxw();s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Oqu(e.description),s.xp6(2),s.Q6J("ngIf",1==t.getPriorityColor(e.priority)),s.xp6(1),s.Q6J("ngIf",2==t.getPriorityColor(e.priority)),s.xp6(1),s.Q6J("ngIf",3==t.getPriorityColor(e.priority)),s.xp6(2),s.Oqu(e.startDate),s.xp6(2),s.Oqu(e.dueDate),s.xp6(2),s.Oqu(e.bucket.id),s.xp6(2),s.Oqu(e.createdAt),s.xp6(3),s.Q6J("task",e)}}function Vl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){const r=s.CHM(e).index,a=s.oxw();return s.KtG(a.onPageChange(r+1))}),s._uU(1),s.qZA()}if(2&n){const e=i.index,t=s.oxw();s.ekj("active",t.paginator.currentPage===e+1),s.xp6(1),s.hij(" ",e+1," ")}}const Yl=function(){return[]};let Wl=(()=>{var n;class i{constructor(t){this.taskService=t,this.tasks=[],this.paginator=new Wt([],5),this.searchTerm="",this.filteredTasks=[],this.isLoading=!1}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch the tasks.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.taskService.getTasks().subscribe({next:t=>{this.tasks=t,this.filterData(),setTimeout(()=>k().close(),500)},error:()=>{k().fire("Error","Failed to load tasks.","error")}})}filterData(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();this.filteredTasks=this.tasks.filter(o=>Object.values(o).some(r=>r&&r.toString().toLowerCase().includes(t)))}else this.filteredTasks=this.tasks;this.paginator.setItems(this.filteredTasks),this.paginator.goToPage(1)}onPageChange(t){this.paginator.goToPage(t)}confirmDelete(t,o,r){k().fire({title:"Do you want to delete this task?",text:`${o}: ${r}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete",cancelButtonText:"No, Cancel"}).then(a=>{a.isConfirmed&&this.deleteTask(t)})}deleteTask(t){this.taskService.deleteTaskById(t).subscribe(()=>{k().fire("Deleted","Task deleted!","success")},o=>{k().fire("Error","An error has occurred","error"),console.log(o)})}getPriorityColor(t){let o=0;switch(t){case"High":o=1;break;case"Medium":o=2;break;case"Low":o=3}return o}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(pt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tasks"]],decls:48,vars:4,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"mb-3"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-end"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","Page group",1,"btn-group","me-2"],["type","button","class","btn btn-secondary",3,"active","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"task"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-success"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"Tasks"),s.qZA(),s.TgZ(5,"p",4),s._uU(6,"Here you can manage all the ILP tasks"),s.qZA(),s._UZ(7,"app-assign-task"),s.qZA()(),s._UZ(8,"br"),s.TgZ(9,"section",2)(10,"div",5)(11,"div",6)(12,"div",7)(13,"h5"),s._uU(14,"Tasks list"),s.qZA()(),s.TgZ(15,"div",8)(16,"div",9)(17,"input",10),s.NdJ("ngModelChange",function(a){return o.searchTerm=a})("ngModelChange",function(){return o.filterData()}),s.qZA()(),s.TgZ(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th"),s._uU(23,"ID"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"Name"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Description"),s.qZA(),s.TgZ(28,"th"),s._uU(29,"Priority"),s.qZA(),s.TgZ(30,"th"),s._uU(31,"Start Date"),s.qZA(),s.TgZ(32,"th"),s._uU(33,"Due Date"),s.qZA(),s.TgZ(34,"th"),s._uU(35,"Bucket ID"),s.qZA(),s.TgZ(36,"th"),s._uU(37,"Created At"),s.qZA(),s.TgZ(38,"th"),s._uU(39,"Action"),s.qZA()()(),s.TgZ(40,"tbody"),s.YNc(41,Hl,25,11,"tr",13),s.qZA()()()(),s.TgZ(42,"div",14),s._UZ(43,"app-add-task-modal"),s.TgZ(44,"div",15)(45,"div",16)(46,"div",17),s.YNc(47,Vl,2,3,"button",18),s.qZA()()()()()()()()),2&t&&(s.xp6(17),s.Q6J("ngModel",o.searchTerm),s.xp6(24),s.Q6J("ngForOf",o.paginator.pagedItems),s.xp6(6),s.Q6J("ngForOf",s.DdM(3,Yl).constructor(o.paginator.totalPages)))},dependencies:[I.sg,I.O5,m.Fj,m.JJ,m.On,Ol,Fl,Nl]}),i})();var Gt=U(2333),Jl=U(2214);function Kl(n,i){if(1&n&&(s.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h1"),s._UZ(4,"i"),s.qZA(),s.TgZ(5,"h4",8),s._uU(6),s.qZA(),s.TgZ(7,"p",9),s._uU(8),s.qZA(),s.TgZ(9,"button",10),s._uU(10," Open module "),s.qZA()()()()),2&n){const e=i.$implicit;s.xp6(4),s.Tol(e.icon),s.xp6(2),s.hij(" ",e.title," "),s.xp6(2),s.Oqu(e.description),s.xp6(1),s.s9C("routerLink",e.redirection)}}let Gl=(()=>{var n;class i{constructor(t,o){this.authService=t,this.accesRole=o,this.cards=[],this.modules=[]}ngOnInit(){this.cards=this.accesRole.getAccessItems(),this.authService.getUserRole().subscribe({next:t=>{this.cards.forEach(o=>{o.roleAccess.forEach(r=>{r===t.role.name&&this.modules.push(o)})})},error:t=>{console.error("Error al obtener datos:",t)}})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Gt.e),s.Y36(Jl.K))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:1,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"row"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"col-lg-3"],[1,"card-module","card","card-animation","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3),s.YNc(4,Kl,11,6,"div",4),s.qZA()()()(),s._UZ(5,"br")(6,"br")),2&t&&(s.xp6(4),s.Q6J("ngForOf",o.modules))},dependencies:[I.sg,rt.rH],styles:[".card-animation[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.card-animation[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}"]}),i})();function $l(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"New Project"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.createProject())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"div",8)(19,"label",9)(20,"b"),s._uU(21,"Start Date"),s.qZA()(),s._UZ(22,"input",12),s.qZA()(),s.TgZ(23,"div",8)(24,"div",8)(25,"label",9)(26,"b"),s._uU(27,"Due Date"),s.qZA()(),s._UZ(28,"input",13),s.qZA()(),s.TgZ(29,"div",14)(30,"div",8)(31,"label",9)(32,"b"),s._uU(33,"Created At"),s.qZA()(),s._UZ(34,"input",15),s.qZA()(),s._UZ(35,"br"),s.TgZ(36,"button",16),s._uU(37," Save project "),s._UZ(38,"i",17),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario)}}let Ql=(()=>{var n;class i{constructor(t,o,r,a){this.fb=t,this.activeModal=o,this.modalService=r,this.projectService=a;const c=(new Date).toISOString().slice(0,10);this.addFormulario=this.fb.group({name:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],description:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(90)]],startDate:[c,[m.kI.required]],dueDate:[c,[m.kI.required]],createdAt:[c,[m.kI.required]]})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}createProject(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.projectService.createProject(t).subscribe(o=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Project saved successfully",icon:"success"})},o=>{k().fire({title:"FAILED ACTION!",text:o.error.message,icon:"error"}),this.modalService.dismissAll()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Jt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-project"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-clipboard",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","project name",1,"form-control"],["formControlName","description","placeholder","project description",1,"form-control"],["type","date","formControlName","startDate",1,"form-control"],["type","date","formControlName","dueDate",1,"form-control"],["hidden","",1,"form-group"],["type","text","formControlName","createdAt"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,$l,39,1,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Create New Project "),s._UZ(4,"i",2),s.qZA()}},dependencies:[m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]}),i})();function Xl(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Update Project"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.updateProject())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"div",8)(19,"label",9)(20,"b"),s._uU(21,"Start Date"),s.qZA()(),s._UZ(22,"input",12),s.qZA()(),s.TgZ(23,"div",8)(24,"div",8)(25,"label",9)(26,"b"),s._uU(27,"Due Date"),s.qZA()(),s._UZ(28,"input",13),s.qZA()(),s.TgZ(29,"div",14)(30,"div",8)(31,"label",9)(32,"b"),s._uU(33,"Created At"),s.qZA()(),s._UZ(34,"input",15),s.qZA()(),s._UZ(35,"br"),s.TgZ(36,"button",16),s.NdJ("click",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.updateProject())}),s._uU(37," Update project "),s._UZ(38,"i",17),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.updateFormulario)}}let tc=(()=>{var n;class i{constructor(t,o,r,a){this.fb=t,this.activeModal=o,this.modalService=r,this.projectService=a}ngOnInit(){this.updateFormulario=this.fb.group({name:[this.project?.name,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],description:[this.project?.description,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(90)]],startDate:[this.project?.startDate,[m.kI.required]],dueDate:[this.project?.dueDate,[m.kI.required]],createdAt:[this.project?.createdAt,[m.kI.required]]})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}updateProject(){const t=this.updateFormulario.value;console.log(t),this.updateFormulario.invalid?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.projectService.updateProject(this.project.id,t).subscribe(o=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Project saved successfully",icon:"success"})},o=>{k().fire({title:"FAILED ACTION!",text:o.error.message,icon:"error"}),this.modalService.dismissAll()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Jt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-project"]],inputs:{project:"project"},features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-pen",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","project name",1,"form-control"],["formControlName","description","placeholder","project description",1,"form-control"],["type","date","formControlName","startDate",1,"form-control"],["type","date","formControlName","dueDate",1,"form-control"],["hidden","",1,"form-group"],["type","text","formControlName","createdAt"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fa","fa-check",2,"margin-left","4px"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,Xl,39,1,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Update "),s._UZ(4,"i",2),s.qZA()}},dependencies:[m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]}),i})(),ce=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/project-users"}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getAllAssignations(){return this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()})}getAssignationById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}getAssignationsByProjectId(t){return this.httpClient.get(this.baseUrl+"/users/"+t,{headers:this.getAuthHeaders()})}getAssignationsByUserId(t){return this.httpClient.get(this.baseUrl+"/projects/"+t,{headers:this.getAuthHeaders()})}createAssignation(t){return this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()})}updateAssignation(t,o){return this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()})}deleteAssignationById(t){return this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function xs(n,i,e,t,o,r,a){try{var l=n[r](a),c=l.value}catch(d){return void e(d)}l.done?i(c):Promise.resolve(c).then(t,o)}function Ft(n){return function(){var i=this,e=arguments;return new Promise(function(t,o){var r=n.apply(i,e);function a(c){xs(r,t,o,a,l,"next",c)}function l(c){xs(r,t,o,a,l,"throw",c)}a(void 0)})}}function ec(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"div",4),s._uU(3),s.qZA()(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td")(7,"button",5),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.removeMember(r))}),s._UZ(8,"i",6),s._uU(9," Remove "),s.qZA()()()}if(2&n){const e=i.$implicit,t=s.oxw();s.xp6(3),s.hij(" ",t.getUserInitial(e)," "),s.xp6(2),s.Oqu(e.name)}}let ic=(()=>{var n;class i{constructor(t,o){this.assignationService=t,this.administratorService=o,this.memberRemoved=new s.vpe,this.members=[]}ngOnInit(){this.projectId&&this.loadMembers()}ngOnChanges(t){t.projectId&&this.projectId&&this.loadMembers()}loadMembers(){var t=this;return Ft(function*(){var o;t.members=[],t.projectId&&t.assignationService.getAssignationsByProjectId(t.projectId).subscribe({next:(o=Ft(function*(r){if(!r||0===r.length)return void(t.members=[]);const a=[];for(let l=0;l<r.length;l++){const c=r[l];let d=null;if(c&&c.user&&c.user.id)d=c.user.id;else{if(!c||!c.id)continue;d=c.id}if(d)try{const h=yield t.administratorService.getAdministratorById(d.toString()).toPromise();h&&a.push({...h,assignationId:c.id})}catch{}}t.members=a}),function(a){return o.apply(this,arguments)}),error:()=>{t.members=[]}})})()}getUserInitial(t){return t?.name?t.name.charAt(0).toUpperCase():"?"}removeMember(t){k().fire({title:"Remove assignment?",text:`Are you sure you want to remove ${t.name} from the project?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove",cancelButtonText:"Cancel"}).then(o=>{o.isConfirmed&&this.assignationService.deleteAssignationById(t.assignationId).subscribe(()=>{k().fire("Removed","The user was removed from the project","success"),this.members=this.members.filter(r=>r.assignationId!==t.assignationId),this.memberRemoved.emit()})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(ce),s.Y36(Ot))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-project-team-table"]],inputs:{projectId:"projectId"},outputs:{memberRemoved:"memberRemoved"},features:[s.TTD],decls:12,vars:1,consts:[[1,"table-responsive"],[1,"table","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"avatar","bg-primary","text-white","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px","font-size","14px"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fa","fa-trash"]],template:function(t,o){1&t&&(s.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Name"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"Actions"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,ec,10,2,"tr",3),s.qZA()()()),2&t&&(s.xp6(11),s.Q6J("ngForOf",o.members))},dependencies:[I.sg],styles:[".avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:50%;width:32px;height:32px;font-size:14px;background:#007bff;color:#fff}"]}),i})(),nc=(()=>{var n;class i{constructor(t,o,r){this.router=t,this.assignationService=o,this.administratorService=r}ngOnInit(){}ngOnChanges(t){}redirectToProjectBoards(){this.router.navigate(["/dashboard/project-boards",this.project])}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(rt.F0),s.Y36(ce),s.Y36(Ot))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-project-info"]],inputs:{project:"project"},features:[s.TTD],decls:36,vars:10,consts:[["data-bs-toggle","offcanvas","role","button","aria-controls","offcanvasExample",1,"btn","btn-secondary",3,"href"],[1,"fa","fa-eye",2,"margin-left","5px"],["tabindex","-1","aria-labelledby","offcanvasExampleLabel",1,"offcanvas","offcanvas-start",3,"id"],[1,"offcanvas-header"],["id","offcanvasExampleLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"btn-group"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-eye"],["data-bs-toggle","collapse","role","button","aria-expanded","false",1,"btn","btn-secondary",3,"href"],[1,"fa","fa-users"],[1,"collapse","mt-3",3,"id"],[3,"projectId"]],template:function(t,o){1&t&&(s.TgZ(0,"a",0),s._uU(1," View "),s._UZ(2,"i",1),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"h3",4),s._uU(6),s.qZA(),s._UZ(7,"button",5),s.qZA(),s.TgZ(8,"div",6)(9,"p")(10,"b"),s._uU(11,"Start Date:"),s.qZA(),s._uU(12),s.qZA(),s.TgZ(13,"p")(14,"b"),s._uU(15,"Due Date:"),s.qZA(),s._uU(16),s.qZA(),s.TgZ(17,"p")(18,"b"),s._uU(19,"Created At:"),s.qZA(),s._uU(20),s.qZA(),s._UZ(21,"br"),s.TgZ(22,"h5"),s._uU(23,"Project description:"),s.qZA(),s.TgZ(24,"div"),s._uU(25),s.qZA(),s._UZ(26,"br"),s.TgZ(27,"div",7)(28,"a",8),s.NdJ("click",function(){return o.redirectToProjectBoards()}),s._uU(29,"View Boards "),s._UZ(30,"i",9),s.qZA(),s.TgZ(31,"a",10),s._uU(32," View team members "),s._UZ(33,"i",11),s.qZA()(),s.TgZ(34,"div",12),s._UZ(35,"app-project-team-table",13),s.qZA()()()),2&t&&(s.MGl("href","#offcanvasExample",o.project.id,"",s.LSH),s.xp6(3),s.MGl("id","offcanvasExample",o.project.id,""),s.xp6(3),s.hij(" ",o.project.name," "),s.xp6(6),s.hij(" ",o.project.startDate,""),s.xp6(4),s.hij(" ",o.project.dueDate,""),s.xp6(4),s.hij(" ",o.project.createdAt,""),s.xp6(5),s.Oqu(o.project.description),s.xp6(6),s.MGl("href","#teamMembersTable",o.project.id,"",s.LSH),s.xp6(3),s.MGl("id","teamMembersTable",o.project.id,""),s.xp6(1),s.Q6J("projectId",o.project.id))},dependencies:[ic]}),i})();function sc(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",16),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function oc(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",16),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function rc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Assign user"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.assignUser())}),s.TgZ(6,"div",8)(7,"div",8)(8,"label",9)(9,"b"),s._uU(10,"Select the project"),s.qZA()(),s.TgZ(11,"select",10)(12,"option",11),s._uU(13,"Select the origin project"),s.qZA(),s.YNc(14,sc,3,2,"div",12),s.qZA()()(),s._UZ(15,"br"),s.TgZ(16,"div",8)(17,"div",8)(18,"label",9)(19,"b"),s._uU(20,"User to assign"),s.qZA()(),s.TgZ(21,"select",13)(22,"option",11),s._uU(23,"Select the user to assign"),s.qZA(),s.YNc(24,oc,3,2,"div",12),s.qZA()()(),s._UZ(25,"br"),s.TgZ(26,"button",14),s._uU(27," Set assignation "),s._UZ(28,"i",15),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario),s.xp6(9),s.Q6J("ngForOf",e.projects),s.xp6(10),s.Q6J("ngForOf",e.users)}}let ac=(()=>{var n;class i{constructor(t,o,r,a,l,c){this.fb=t,this.activeModal=o,this.modalService=r,this.administratorService=a,this.projectService=l,this.projectAssignationService=c,this.projects=[],this.users=[]}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}ngOnInit(){this.getAllProjects(),this.getAllUsers(),this.addFormulario=this.fb.group({project:[-17,[m.kI.required]],user:[-17,[m.kI.required]]})}assignUser(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid||-17==this.addFormulario.value.project?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.projectAssignationService.createAssignation(t).subscribe(r=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"user assigned successfully",icon:"success"})},r=>{k().fire({title:"FAILED ACTION!",text:r.error.message,icon:"error"}),this.modalService.dismissAll()})}getAllProjects(){this.projectService.getProjects().subscribe({next:t=>{this.projects=t},error:t=>{console.error("Error fetching data:",t)}})}getAllUsers(){this.administratorService.getAdministrators().subscribe({next:t=>{this.users=t},error:t=>{console.error("Error fetching data:",t)}})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Ot),s.Y36(Jt),s.Y36(ce))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-assign-user"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-warning",3,"click"],[1,"fa","fa-link",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","project",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["formControlName","user",1,"form-control"],["type","submit",1,"btn","btn-warning"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,rc,29,3,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Assign User "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})();function lc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td")(12,"div"),s._UZ(13,"app-project-info",19)(14,"app-update-project",19),s.TgZ(15,"button",20),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.confirmDelete(r.id.toString(),r.name,r.description))}),s._uU(16," Delete "),s._UZ(17,"i",21),s.qZA()()()()}if(2&n){const e=i.$implicit;s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Oqu(e.startDate),s.xp6(2),s.Oqu(e.dueDate),s.xp6(2),s.Oqu(e.createdAt),s.xp6(3),s.Q6J("project",e),s.xp6(1),s.Q6J("project",e)}}function cc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){const r=s.CHM(e).index,a=s.oxw();return s.KtG(a.onPageChange(r+1))}),s._uU(1),s.qZA()}if(2&n){const e=i.index,t=s.oxw();s.ekj("active",t.paginator.currentPage===e+1),s.xp6(1),s.hij(" ",e+1," ")}}const dc=function(){return[]};let hc=(()=>{var n;class i{constructor(t){this.projectService=t,this.projects=[],this.paginator=new Wt([],5),this.searchTerm="",this.filteredProjects=[]}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch the projects.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.projectService.getProjects().subscribe({next:t=>{this.projects=t,this.filterData(),setTimeout(()=>k().close(),500)},error:()=>{k().fire("Error","Failed to load projects.","error")}})}filterData(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();this.filteredProjects=this.projects.filter(o=>Object.values(o).some(r=>r&&r.toString().toLowerCase().includes(t)))}else this.filteredProjects=this.projects;this.paginator.setItems(this.filteredProjects),this.paginator.goToPage(1)}onPageChange(t){this.paginator.goToPage(t)}confirmDelete(t,o,r){k().fire({title:"Do you want to delete this project?",text:`${o}: ${r}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete",cancelButtonText:"No, Cancel"}).then(a=>{a.isConfirmed&&this.deleteProject(t)})}deleteProject(t){this.projectService.deleteProjectById(t).subscribe(()=>{k().fire("Deleted","Project deleted","success")},o=>{k().fire("Error","An error has occurred","error"),console.log(o)})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Jt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-projects"]],decls:42,vars:4,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"mb-3"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-end"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","Page group",1,"btn-group","me-2"],["type","button","class","btn btn-secondary",3,"active","click",4,"ngFor","ngForOf"],[3,"project"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"ILP Projects"),s.qZA(),s.TgZ(5,"p",4),s._uU(6,"Here you can manage all the ILP projects."),s.qZA(),s._UZ(7,"app-assign-user"),s.qZA()(),s._UZ(8,"br"),s.TgZ(9,"section",2)(10,"div",5)(11,"div",6)(12,"div",7)(13,"h5"),s._uU(14,"Project list"),s.qZA()(),s.TgZ(15,"div",8)(16,"div",9)(17,"input",10),s.NdJ("ngModelChange",function(a){return o.searchTerm=a})("ngModelChange",function(){return o.filterData()}),s.qZA()(),s.TgZ(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th"),s._uU(23,"ID"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"Name"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Start Date"),s.qZA(),s.TgZ(28,"th"),s._uU(29,"Due Date"),s.qZA(),s.TgZ(30,"th"),s._uU(31,"Created At"),s.qZA(),s.TgZ(32,"th"),s._uU(33,"Action"),s.qZA()()(),s.TgZ(34,"tbody"),s.YNc(35,lc,18,7,"tr",13),s.qZA()()()(),s.TgZ(36,"div",14),s._UZ(37,"app-add-project"),s.TgZ(38,"div",15)(39,"div",16)(40,"div",17),s.YNc(41,cc,2,3,"button",18),s.qZA()()()()()()()()),2&t&&(s.xp6(17),s.Q6J("ngModel",o.searchTerm),s.xp6(18),s.Q6J("ngForOf",o.paginator.pagedItems),s.xp6(6),s.Q6J("ngForOf",s.DdM(3,dc).constructor(o.paginator.totalPages)))},dependencies:[I.sg,m.Fj,m.JJ,m.On,Ql,tc,nc,ac]}),i})();function uc(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",31),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function fc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"New Kanban Bucket"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.createBucket())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"label",12)(19,"b"),s._uU(20,"Choose the bucket color"),s.qZA()(),s._UZ(21,"br"),s.TgZ(22,"div",13),s._UZ(23,"input",14),s.TgZ(24,"label",15),s._uU(25,"White"),s.qZA(),s._UZ(26,"input",16),s.TgZ(27,"label",17),s._uU(28,"Green"),s.qZA(),s._UZ(29,"input",18),s.TgZ(30,"label",19),s._uU(31,"Blue"),s.qZA(),s._UZ(32,"input",20),s.TgZ(33,"label",21),s._uU(34,"Orange"),s.qZA(),s._UZ(35,"input",22),s.TgZ(36,"label",23),s._uU(37,"Red"),s.qZA()()(),s.TgZ(38,"div",8)(39,"div",8)(40,"label",9)(41,"b"),s._uU(42,"Select the assigned board"),s.qZA()(),s.TgZ(43,"select",24)(44,"option",25),s._uU(45,"Select the origin board"),s.qZA(),s.YNc(46,uc,3,2,"div",26),s.qZA()()(),s.TgZ(47,"div",27)(48,"div",8)(49,"label",9)(50,"b"),s._uU(51,"CreatedAt"),s.qZA()(),s._UZ(52,"input",28),s.qZA()(),s._UZ(53,"br"),s.TgZ(54,"button",29),s._uU(55," Save Bucket "),s._UZ(56,"i",30),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario),s.xp6(41),s.Q6J("ngForOf",e.boards)}}let pc=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.boardService=a,this.bucketService=l,this.boards=[]}ngOnInit(){this.getAllBoards();const o=(new Date).toISOString().slice(0,10);this.addFormulario=this.fb.group({name:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],description:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(40)]],color:["",[m.kI.required]],createdAt:[o,[m.kI.required,m.kI.minLength(3),m.kI.maxLength(10)]],board:[-17,[m.kI.required]]})}createBucket(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid||-17==this.addFormulario.value.board?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.bucketService.createBucket(t).subscribe(r=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Board created successfully",icon:"success"})},r=>{k().fire({title:"FAILED ACTION!",text:r.error.message,icon:"error"}),this.modalService.dismissAll()})}getAllBoards(){this.boardService.getBoards().subscribe({next:t=>{this.boards=t},error:t=>{console.error("Error fetching data:",t)}})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Et),s.Y36(Kt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-bucket-modal"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-bookmark",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Bucket name",1,"form-control"],["formControlName","description","placeholder","bucket description",1,"form-control"],["for","colorpicker"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","color","id","btnradio2","value","secondary","formControlName","color",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-secondary"],["type","radio","name","color","id","btnradio3","value","success","formControlName","color",1,"btn-check"],["for","btnradio3",1,"btn","btn-outline-success"],["type","radio","name","color","id","btnradio4","value","info","formControlName","color",1,"btn-check"],["for","btnradio4",1,"btn","btn-outline-info"],["type","radio","name","color","id","btnradio5","value","warning","formControlName","color",1,"btn-check"],["for","btnradio5",1,"btn","btn-outline-warning"],["type","radio","name","color","id","btnradio6","value","danger","formControlName","color",1,"btn-check"],["for","btnradio6",1,"btn","btn-outline-danger"],["formControlName","board",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["formControlName","createdAt","value","1","type","date",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,fc,57,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Create New Bucket "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m._,m.JJ,m.JL,m.sg,m.u]}),i})();function gc(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",31),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function mc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Update Kanban Bucket"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.updateBucket())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Description"),s.qZA()(),s._UZ(16,"textarea",11),s.qZA()(),s.TgZ(17,"div",8)(18,"label",12)(19,"b"),s._uU(20,"Choose the bucket color"),s.qZA()(),s._UZ(21,"br"),s.TgZ(22,"div",13),s._UZ(23,"input",14),s.TgZ(24,"label",15),s._uU(25,"White"),s.qZA(),s._UZ(26,"input",16),s.TgZ(27,"label",17),s._uU(28,"Green"),s.qZA(),s._UZ(29,"input",18),s.TgZ(30,"label",19),s._uU(31,"Blue"),s.qZA(),s._UZ(32,"input",20),s.TgZ(33,"label",21),s._uU(34,"Orange"),s.qZA(),s._UZ(35,"input",22),s.TgZ(36,"label",23),s._uU(37,"Red"),s.qZA()()(),s.TgZ(38,"div",8)(39,"div",8)(40,"label",9)(41,"b"),s._uU(42,"Select the assigned board"),s.qZA()(),s.TgZ(43,"select",24)(44,"option",25),s._uU(45,"Select the origin board"),s.qZA(),s.YNc(46,gc,3,2,"div",26),s.qZA()()(),s.TgZ(47,"div",27)(48,"div",8)(49,"label",9)(50,"b"),s._uU(51,"CreatedAt"),s.qZA()(),s._UZ(52,"input",28),s.qZA()(),s._UZ(53,"br"),s.TgZ(54,"button",29),s._uU(55," Update Bucket "),s._UZ(56,"i",30),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.updateFormulario),s.xp6(41),s.Q6J("ngForOf",e.boards)}}let _c=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.boardService=a,this.bucketService=l,this.boards=[]}ngOnInit(){console.log(this.bucket),this.getAllBoards(),this.updateFormulario=this.fb.group({name:[this.bucket.name,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],description:[this.bucket.description,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(40)]],color:[this.bucket.color,[m.kI.required]],createdAt:[this.bucket.createdAt,[m.kI.required,m.kI.minLength(3),m.kI.maxLength(10)]],board:[this.bucket.board.id,[m.kI.required]]})}updateBucket(){const t=this.updateFormulario.value;console.log(t),this.updateFormulario.invalid||-17==this.updateFormulario.value.board?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.bucketService.updateBucket(this.bucket.id,t).subscribe(r=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Bucket updated successfully",icon:"success"})},r=>{k().fire({title:"FAILED ACTION!",text:r.error.message,icon:"error"}),this.modalService.dismissAll()})}getAllBoards(){this.boardService.getBoards().subscribe({next:t=>{this.boards=t},error:t=>{console.error("Error fetching data:",t)}})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(Et),s.Y36(Kt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-bucket-modal"]],inputs:{bucket:"bucket"},features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-pen",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","Bucket name",1,"form-control"],["formControlName","description","placeholder","bucket description",1,"form-control"],["for","colorpicker"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","color","id","btnradio2","value","secondary","formControlName","color",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-secondary"],["type","radio","name","color","id","btnradio3","value","success","formControlName","color",1,"btn-check"],["for","btnradio3",1,"btn","btn-outline-success"],["type","radio","name","color","id","btnradio4","value","info","formControlName","color",1,"btn-check"],["for","btnradio4",1,"btn","btn-outline-info"],["type","radio","name","color","id","btnradio5","value","warning","formControlName","color",1,"btn-check"],["for","btnradio5",1,"btn","btn-outline-warning"],["type","radio","name","color","id","btnradio6","value","danger","formControlName","color",1,"btn-check"],["for","btnradio6",1,"btn","btn-outline-danger"],["formControlName","board",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["formControlName","createdAt","value","1","type","date",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,mc,57,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Update Bucket "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m._,m.JJ,m.JL,m.sg,m.u]}),i})();function bc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._UZ(12,"app-update-bucket-modal",20),s.TgZ(13,"button",21),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.confirmDelete(r.id,r.name))}),s._uU(14," Delete "),s._UZ(15,"i",22),s.qZA()()()}if(2&n){const e=i.$implicit;s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Oqu(e.description),s.xp6(2),s.Oqu(e.createdAt),s.xp6(2),s.Oqu(e.board.id),s.xp6(2),s.Q6J("bucket",e)}}function vc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"button",23),s.NdJ("click",function(){const r=s.CHM(e).index,a=s.oxw();return s.KtG(a.onPageChange(r+1))}),s._uU(1),s.qZA()}if(2&n){const e=i.index,t=s.oxw();s.ekj("active",t.paginator.currentPage===e+1),s.xp6(1),s.hij(" ",e+1," ")}}const xc=function(){return[]};let yc=(()=>{var n;class i{constructor(t){this.bucketService=t,this.buckets=[],this.filteredBuckets=[],this.paginator=new Wt([],5),this.searchTerm=""}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch the buckets.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.bucketService.getBuckets().subscribe({next:t=>{this.buckets=t,this.filteredBuckets=t,this.paginator.setItems(t),setTimeout(()=>k().close(),500)},error:t=>{k().fire("Error","Failed to load buckets.","error")}})}filterData(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();this.filteredBuckets=this.buckets.filter(o=>o.name.toLowerCase().includes(t)||o.id.toString().includes(t)||o.description&&o.description.toLowerCase().includes(t)||o.createdAt&&o.createdAt.toLowerCase().includes(t)||o.board.id.toString().includes(t))}else this.filteredBuckets=this.buckets;this.paginator.setItems(this.filteredBuckets)}onPageChange(t){this.paginator.goToPage(t)}confirmDelete(t,o){k().fire({title:"Do you want to delete this Bucket?",text:`Bucket: ${o}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete!",cancelButtonText:"No, cancel"}).then(r=>{r.isConfirmed&&this.deleteBucket(t)})}deleteBucket(t){this.bucketService.deleteBucketById(t).subscribe(()=>{k().fire("Deleted","The bucket has been deleted successfully","success"),window.location.reload()},o=>{k().fire("Error","There was a problem deleting the bucket.","error")})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Kt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-buckets"]],decls:42,vars:4,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-4"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-end"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","Page group",1,"btn-group","me-2"],["type","button","class","btn btn-secondary",3,"active","click",4,"ngFor","ngForOf"],[3,"bucket"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"Kanban Buckets"),s.qZA(),s.TgZ(5,"p",4),s._uU(6," Here you can manage all the buckets for all the kanban boards. "),s.qZA()()(),s._UZ(7,"br"),s.TgZ(8,"section",2)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5"),s._uU(13,"Bucket list"),s.qZA()(),s.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"input",11),s.NdJ("ngModelChange",function(a){return o.searchTerm=a})("ngModelChange",function(){return o.filterData()}),s.qZA()()(),s.TgZ(18,"div",12)(19,"table",13)(20,"thead")(21,"tr")(22,"th"),s._uU(23,"ID"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"Name"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Description"),s.qZA(),s.TgZ(28,"th"),s._uU(29,"Created At"),s.qZA(),s.TgZ(30,"th"),s._uU(31,"Board Id"),s.qZA(),s.TgZ(32,"th"),s._uU(33,"Action"),s.qZA()()(),s.TgZ(34,"tbody"),s.YNc(35,bc,16,6,"tr",14),s.qZA()()()(),s.TgZ(36,"div",15),s._UZ(37,"app-add-bucket-modal"),s.TgZ(38,"div",16)(39,"div",17)(40,"div",18),s.YNc(41,vc,2,3,"button",19),s.qZA()()()()()()()()),2&t&&(s.xp6(17),s.Q6J("ngModel",o.searchTerm),s.xp6(18),s.Q6J("ngForOf",o.paginator.pagedItems),s.xp6(6),s.Q6J("ngForOf",s.DdM(3,xc).constructor(o.paginator.totalPages)))},dependencies:[I.sg,m.Fj,m.JJ,m.On,pc,_c]}),i})(),ys=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/labels",this.badgesSubject=new Zt.X([]),this.badges$=this.badgesSubject.asObservable(),this.loadBadges()}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getBadges(){return this.badges$}loadBadges(){this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()}).subscribe({next:t=>this.badgesSubject.next(t),error:()=>this.badgesSubject.next([])})}getBadgeById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}createBadge(t){return new J.y(o=>{this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadBadges(),o.next(r),o.complete()},error:r=>o.error(r)})})}updateBadge(t,o){return new J.y(r=>{this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.loadBadges(),r.next(a),r.complete()},error:a=>r.error(a)})})}deleteBadgeById(t){return new J.y(o=>{this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadBadges(),o.next(r),o.complete()},error:r=>o.error(r)})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function kc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"New Badge"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.createBadge())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Label text"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s._UZ(11,"br"),s.TgZ(12,"div",8)(13,"label",11)(14,"b"),s._uU(15,"Choose the badge color"),s.qZA()(),s._UZ(16,"br"),s.TgZ(17,"div",12),s._UZ(18,"input",13),s.TgZ(19,"label",14),s._uU(20,"White"),s.qZA(),s._UZ(21,"input",15),s.TgZ(22,"label",16),s._uU(23,"Green"),s.qZA(),s._UZ(24,"input",17),s.TgZ(25,"label",18),s._uU(26,"Blue"),s.qZA(),s._UZ(27,"input",19),s.TgZ(28,"label",20),s._uU(29,"Orange"),s.qZA(),s._UZ(30,"input",21),s.TgZ(31,"label",22),s._uU(32,"Red"),s.qZA()()(),s._UZ(33,"br"),s.TgZ(34,"button",23),s._uU(35," Save label "),s._UZ(36,"i",24),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario)}}let Tc=(()=>{var n;class i{constructor(t,o,r,a){this.fb=t,this.activeModal=o,this.modalService=r,this.badgeService=a}ngOnInit(){this.addFormulario=this.fb.group({text:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(13)]],color:["",[m.kI.required]]})}createBadge(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid||-17==this.addFormulario.value.board?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.badgeService.createBadge(t).subscribe(r=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Badge created successfully",icon:"success"})},r=>{k().fire({title:"FAILED ACTION!",text:r.error.message,icon:"error"}),this.modalService.dismissAll()})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(ys))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-badge-modal"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-tag",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","text","type","text","id","name","placeholder","Label text",1,"form-control"],["for","colorpicker"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group"],["type","radio","name","color","id","btnradio2","value","secondary","formControlName","color",1,"btn-check"],["for","btnradio2",1,"btn","btn-outline-secondary"],["type","radio","name","color","id","btnradio3","value","success","formControlName","color",1,"btn-check"],["for","btnradio3",1,"btn","btn-outline-success"],["type","radio","name","color","id","btnradio4","value","info","formControlName","color",1,"btn-check"],["for","btnradio4",1,"btn","btn-outline-info"],["type","radio","name","color","id","btnradio5","value","warning","formControlName","color",1,"btn-check"],["for","btnradio5",1,"btn","btn-outline-warning"],["type","radio","name","color","id","btnradio6","value","danger","formControlName","color",1,"btn-check"],["for","btnradio6",1,"btn","btn-outline-danger"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,kc,37,1,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Create New Badge "),s._UZ(4,"i",2),s.qZA()}},dependencies:[m._Y,m.Fj,m._,m.JJ,m.JL,m.sg,m.u]}),i})();function Cc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td")(4,"span"),s._uU(5),s.qZA()(),s.TgZ(6,"td")(7,"button",20),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.confirmDelete(r.id,r.text))}),s._uU(8," Delete "),s._UZ(9,"i",21),s.qZA()()()}if(2&n){const e=i.$implicit;s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Gre("badge bg-",e.color,""),s.xp6(1),s.Oqu(e.text)}}function Ac(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){const r=s.CHM(e).index,a=s.oxw();return s.KtG(a.onPageChange(r+1))}),s._uU(1),s.qZA()}if(2&n){const e=i.index,t=s.oxw();s.ekj("active",t.paginator.currentPage===e+1),s.xp6(1),s.hij(" ",e+1," ")}}const Sc=function(){return[]};let wc=(()=>{var n;class i{constructor(t){this.badgeService=t,this.badges=[],this.filteredBadges=[],this.paginator=new Wt([],5),this.searchTerm=""}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch the badges.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.badgeService.getBadges().subscribe({next:t=>{this.badges=t,this.filteredBadges=t,this.paginator.setItems(t),setTimeout(()=>k().close(),500)},error:t=>{k().fire("Error","Failed to load badges.","error")}})}filterData(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();this.filteredBadges=this.badges.filter(o=>o.text.toLowerCase().includes(t)||o.id.toString().includes(t)||o.color&&o.color.toLowerCase().includes(t))}else this.filteredBadges=this.badges;this.paginator.setItems(this.filteredBadges)}onPageChange(t){this.paginator.goToPage(t)}confirmDelete(t,o){k().fire({title:"Do you want to delete this badge?",text:`Badge: ${o}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete!",cancelButtonText:"No, cancel"}).then(r=>{r.isConfirmed&&this.deleteBadge(t)})}deleteBadge(t){this.badgeService.deleteBadgeById(t).subscribe(()=>{k().fire("Deleted","The badge has been deleted successfully","success"),window.location.reload()},o=>{k().fire("Error","There was a problem deleting the bucket.","error")})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(ys))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-badges"]],decls:36,vars:4,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-4"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-end"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","Page group",1,"btn-group","me-2"],["type","button","class","btn btn-secondary",3,"active","click",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"Bucket Badges"),s.qZA(),s.TgZ(5,"p",4),s._uU(6," Here you can manage all the available badges for all the kanban boards. "),s.qZA()()(),s._UZ(7,"br"),s.TgZ(8,"section",2)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5"),s._uU(13,"Badges list"),s.qZA()(),s.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"input",11),s.NdJ("ngModelChange",function(a){return o.searchTerm=a})("ngModelChange",function(){return o.filterData()}),s.qZA()()(),s.TgZ(18,"div",12)(19,"table",13)(20,"thead")(21,"tr")(22,"th"),s._uU(23,"ID"),s.qZA(),s.TgZ(24,"th"),s._uU(25,"Result"),s.qZA(),s.TgZ(26,"th"),s._uU(27,"Action"),s.qZA()()(),s.TgZ(28,"tbody"),s.YNc(29,Cc,10,5,"tr",14),s.qZA()()()(),s.TgZ(30,"div",15),s._UZ(31,"app-add-badge-modal"),s.TgZ(32,"div",16)(33,"div",17)(34,"div",18),s.YNc(35,Ac,2,3,"button",19),s.qZA()()()()()()()()),2&t&&(s.xp6(17),s.Q6J("ngModel",o.searchTerm),s.xp6(12),s.Q6J("ngForOf",o.paginator.pagedItems),s.xp6(6),s.Q6J("ngForOf",s.DdM(3,Sc).constructor(o.paginator.totalPages)))},dependencies:[I.sg,m.Fj,m.JJ,m.On,Tc]}),i})(),en=(()=>{var n;class i{constructor(t){this.httpClient=t,this.baseUrl=At.N.baseUrl+"/subtasks",this.subtasksSubject=new Zt.X([]),this.subtasks$=this.subtasksSubject.asObservable(),this.loadSubtasks()}getAuthHeaders(){const t=JSON.parse(localStorage.getItem("token"));return new nt.WM({Authorization:`Bearer ${t}`})}getSubtasks(){return this.subtasks$}loadSubtasks(){this.httpClient.get(this.baseUrl,{headers:this.getAuthHeaders()}).subscribe({next:t=>this.subtasksSubject.next(t),error:()=>this.subtasksSubject.next([])})}getSubtaskById(t){return this.httpClient.get(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()})}createSubtask(t){return new J.y(o=>{this.httpClient.post(this.baseUrl,t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadSubtasks(),o.next(r),o.complete()},error:r=>o.error(r)})})}updateSubtask(t,o){return new J.y(r=>{this.httpClient.put(this.baseUrl+"/"+t,o,{headers:this.getAuthHeaders()}).subscribe({next:a=>{this.loadSubtasks(),r.next(a),r.complete()},error:a=>r.error(a)})})}deleteSubtaskById(t){return new J.y(o=>{this.httpClient.delete(this.baseUrl+"/"+t,{headers:this.getAuthHeaders()}).subscribe({next:r=>{this.loadSubtasks(),o.next(r),o.complete()},error:r=>o.error(r)})})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(nt.eN))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function Mc(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",25),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function Dc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"New Subtask"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.createSubtask())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Priority"),s.qZA()(),s.TgZ(16,"select",11)(17,"option",12),s._uU(18,"Select the priority"),s.qZA(),s.TgZ(19,"option",13),s._uU(20,"High"),s.qZA(),s.TgZ(21,"option",14),s._uU(22,"Medium"),s.qZA(),s.TgZ(23,"option",15),s._uU(24,"Low"),s.qZA()()()(),s.TgZ(25,"div",8)(26,"div",8)(27,"label",9)(28,"b"),s._uU(29,"Start Date"),s.qZA()(),s._UZ(30,"input",16),s.qZA()(),s.TgZ(31,"div",8)(32,"div",8)(33,"label",9)(34,"b"),s._uU(35,"Due Date"),s.qZA()(),s._UZ(36,"input",17),s.qZA()(),s.TgZ(37,"div",8)(38,"div",8)(39,"label",9)(40,"b"),s._uU(41,"Assigned Task"),s.qZA()(),s.TgZ(42,"select",18)(43,"option",19),s._uU(44,"Select the origin task"),s.qZA(),s.YNc(45,Mc,3,2,"div",20),s.qZA()()(),s.TgZ(46,"div",21)(47,"div",8)(48,"label",9)(49,"b"),s._uU(50,"Created At"),s.qZA()(),s._UZ(51,"input",22),s.qZA()(),s._UZ(52,"br"),s.TgZ(53,"button",23),s._uU(54," Save subtask "),s._UZ(55,"i",24),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.addFormulario),s.xp6(40),s.Q6J("ngForOf",e.tasks)}}let Pc=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.subtaskService=a,this.taskService=l,this.tasks=[]}ngOnInit(){this.taskService.getTasks().subscribe({next:r=>{this.tasks=r},error:r=>{console.error("Error al obtener datos:",r)}});const o=(new Date).toISOString().slice(0,10);this.addFormulario=this.fb.group({name:["",[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],priority:["-17",[m.kI.required,m.kI.maxLength(20)]],startdDate:[o,[m.kI.required]],dueDate:[o,[m.kI.required]],createdAt:[o,[m.kI.required]],task:["-17",[m.kI.required]]})}createSubtask(){const t=this.addFormulario.value;console.log(t),this.addFormulario.invalid?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.subtaskService.createSubtask(t).subscribe(o=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Subtask saved successfully",icon:"success"})},o=>{k().fire({title:"FAILED ACTION!",text:o.error.message,icon:"error"}),this.modalService.dismissAll()})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(en),s.Y36(pt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-add-subtask-modal"]],features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-check-circle",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","SubTask name",1,"form-control"],["formControlName","priority",1,"form-control"],["selected","","value","-17","disabled",""],["value","High"],["value","Medium"],["value","Low"],["type","date","formControlName","startdDate",1,"form-control"],["type","date","formControlName","dueDate",1,"form-control"],["formControlName","task",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["type","text","formControlName","createdAt"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,Dc,56,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Create New Subtask "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})();function Ic(n,i){if(1&n&&(s.TgZ(0,"div")(1,"option",25),s._uU(2),s.qZA()()),2&n){const e=i.$implicit;s.xp6(1),s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function Zc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Update Subtask"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const r=s.CHM(e).dismiss;return s.KtG(r("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6)(5,"form",7),s.NdJ("ngSubmit",function(){s.CHM(e);const o=s.oxw();return s.KtG(o.updateSubtask())}),s.TgZ(6,"div",8)(7,"label",9)(8,"b"),s._uU(9,"Name"),s.qZA()(),s._UZ(10,"input",10),s.qZA(),s.TgZ(11,"div",8)(12,"div",8)(13,"label",9)(14,"b"),s._uU(15,"Priority"),s.qZA()(),s.TgZ(16,"select",11)(17,"option",12),s._uU(18,"Select the priority"),s.qZA(),s.TgZ(19,"option",13),s._uU(20,"High"),s.qZA(),s.TgZ(21,"option",14),s._uU(22,"Medium"),s.qZA(),s.TgZ(23,"option",15),s._uU(24,"Low"),s.qZA()()()(),s.TgZ(25,"div",8)(26,"div",8)(27,"label",9)(28,"b"),s._uU(29,"Start Date"),s.qZA()(),s._UZ(30,"input",16),s.qZA()(),s.TgZ(31,"div",8)(32,"div",8)(33,"label",9)(34,"b"),s._uU(35,"Due Date"),s.qZA()(),s._UZ(36,"input",17),s.qZA()(),s.TgZ(37,"div",8)(38,"div",8)(39,"label",9)(40,"b"),s._uU(41,"Assigned Task"),s.qZA()(),s.TgZ(42,"select",18)(43,"option",19),s._uU(44,"Select the origin task"),s.qZA(),s.YNc(45,Ic,3,2,"div",20),s.qZA()()(),s.TgZ(46,"div",21)(47,"div",8)(48,"label",9)(49,"b"),s._uU(50,"Created At"),s.qZA()(),s._UZ(51,"input",22),s.qZA()(),s._UZ(52,"br"),s.TgZ(53,"button",23),s._uU(54," Update subtask "),s._UZ(55,"i",24),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("formGroup",e.updateFormulario),s.xp6(40),s.Q6J("ngForOf",e.tasks)}}let Oc=(()=>{var n;class i{constructor(t,o,r,a,l){this.fb=t,this.activeModal=o,this.modalService=r,this.subtaskService=a,this.taskService=l,this.tasks=[]}ngOnInit(){this.taskService.getTasks().subscribe({next:t=>{this.tasks=t},error:t=>{console.error("Error al obtener datos:",t)}}),this.updateFormulario=this.fb.group({name:[this.subtask.name,[m.kI.required,m.kI.minLength(4),m.kI.maxLength(20)]],priority:[this.subtask.priority,[m.kI.required,m.kI.maxLength(20)]],startdDate:[this.subtask.startdDate,[m.kI.required]],dueDate:[this.subtask.dueDate,[m.kI.required]],createdAt:[this.subtask.createdAt,[m.kI.required]],task:[this.subtask.task.id,[m.kI.required]]})}updateSubtask(){const t=this.updateFormulario.value;console.log(t),this.updateFormulario.invalid?k().fire({toast:!0,title:"FAILED ACTION!",text:"Please complete all the fields",icon:"error",position:"top-right",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):this.subtaskService.updateSubtask(this.subtask.id,t).subscribe(o=>{this.modalService.dismissAll(),k().fire({title:"SUCCESS",text:"Subtask updated successfully",icon:"success"})},o=>{k().fire({title:"FAILED ACTION!",text:o.error.message,icon:"error"}),this.modalService.dismissAll()})}open(t){this.modalService.open(t,{backdrop:"static",keyboard:!0})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(m.qu),s.Y36(P.Kz),s.Y36(P.FF),s.Y36(en),s.Y36(pt))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-update-subtask-modal"]],inputs:{subtask:"subtask"},features:[s._Bn([P.NM,P.FF])],decls:5,vars:0,consts:[["content",""],["type","button",1,"btn","btn-success",3,"click"],[1,"fa","fa-pen",2,"margin-left","2px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name","placeholder","SubTask name",1,"form-control"],["formControlName","priority",1,"form-control"],["selected","","value","-17","disabled",""],["value","High"],["value","Medium"],["value","Low"],["type","date","formControlName","startdDate",1,"form-control"],["type","date","formControlName","dueDate",1,"form-control"],["formControlName","task",1,"form-control"],["disabled","","value","-17"],[4,"ngFor","ngForOf"],["hidden","",1,"form-group"],["type","text","formControlName","createdAt"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-check",2,"margin-left","4px"],[3,"value"]],template:function(t,o){if(1&t){const r=s.EpF();s.YNc(0,Zc,56,2,"ng-template",null,0,s.W1O),s.TgZ(2,"button",1),s.NdJ("click",function(){s.CHM(r);const l=s.MAs(1);return s.KtG(o.open(l))}),s._uU(3," Update Subtask "),s._UZ(4,"i",2),s.qZA()}},dependencies:[I.sg,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u]}),i})();function Ec(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",23),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.priority)}}function Uc(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",24),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.priority)}}function Fc(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",25),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.priority)}}function Lc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s.YNc(6,Ec,3,1,"div",19),s.YNc(7,Uc,3,1,"div",19),s.YNc(8,Fc,3,1,"div",19),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA(),s.TgZ(17,"td")(18,"div"),s._UZ(19,"app-update-subtask-modal",20),s.TgZ(20,"button",21),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.confirmDelete(r.id,r.name))}),s._uU(21," Delete "),s._UZ(22,"i",22),s.qZA()()()()}if(2&n){const e=i.$implicit,t=s.oxw();s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Q6J("ngIf",1==t.getPriorityColor(e.priority)),s.xp6(1),s.Q6J("ngIf",2==t.getPriorityColor(e.priority)),s.xp6(1),s.Q6J("ngIf",3==t.getPriorityColor(e.priority)),s.xp6(2),s.Oqu(e.startdDate),s.xp6(2),s.Oqu(e.dueDate),s.xp6(2),s.Oqu(e.task.id),s.xp6(2),s.Oqu(e.createdAt),s.xp6(3),s.Q6J("subtask",e)}}function Rc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){const r=s.CHM(e).index,a=s.oxw();return s.KtG(a.onPageChange(r+1))}),s._uU(1),s.qZA()}if(2&n){const e=i.index,t=s.oxw();s.ekj("active",t.paginator.currentPage===e+1),s.xp6(1),s.hij(" ",e+1," ")}}const jc=function(){return[]};let Nc=(()=>{var n;class i{constructor(t){this.subtaskService=t,this.subtasks=[],this.paginator=new Wt([],5),this.searchTerm="",this.filteredSubtasks=[]}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch the subtasks.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.subtaskService.getSubtasks().subscribe({next:t=>{this.subtasks=t,this.filterData(),setTimeout(()=>k().close(),500)},error:()=>{k().fire("Error","Failed to load subtasks.","error")}})}filterData(){if(this.searchTerm){const t=this.searchTerm.toLowerCase();this.filteredSubtasks=this.subtasks.filter(o=>Object.values(o).some(r=>r&&r.toString().toLowerCase().includes(t)))}else this.filteredSubtasks=this.subtasks;this.paginator.setItems(this.filteredSubtasks),this.paginator.goToPage(1)}onPageChange(t){this.paginator.goToPage(t)}confirmDelete(t,o){k().fire({title:"Do you want to delete this subtask?",text:`${o}`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete",cancelButtonText:"No, Cancel"}).then(r=>{r.isConfirmed&&this.deleteSubtask(t)})}deleteSubtask(t){this.subtaskService.deleteSubtaskById(t).subscribe(()=>{k().fire("Deleted","Subtask deleted!","success")},o=>{k().fire("Error","An error has ocurrido","error"),console.log(o)})}getPriorityColor(t){let o=0;switch(t){case"High":o=1;break;case"Medium":o=2;break;case"Low":o=3}return o}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(en))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-subtasks"]],decls:45,vars:4,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"mb-3"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-end"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar"],["role","group","aria-label","Page group",1,"btn-group","me-2"],["type","button","class","btn btn-secondary",3,"active","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"subtask"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-success"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"Subtasks"),s.qZA(),s.TgZ(5,"p",4),s._uU(6,"Here you can manage all the ILP subtasks"),s.qZA()()(),s._UZ(7,"br"),s.TgZ(8,"section",2)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5"),s._uU(13,"SubTask list"),s.qZA()(),s.TgZ(14,"div",8)(15,"div",9)(16,"input",10),s.NdJ("ngModelChange",function(a){return o.searchTerm=a})("ngModelChange",function(){return o.filterData()}),s.qZA()(),s.TgZ(17,"div",11)(18,"table",12)(19,"thead")(20,"tr")(21,"th"),s._uU(22,"ID"),s.qZA(),s.TgZ(23,"th"),s._uU(24,"Name"),s.qZA(),s.TgZ(25,"th"),s._uU(26,"Priority"),s.qZA(),s.TgZ(27,"th"),s._uU(28,"Start Date"),s.qZA(),s.TgZ(29,"th"),s._uU(30,"Due Date"),s.qZA(),s.TgZ(31,"th"),s._uU(32,"Task ID"),s.qZA(),s.TgZ(33,"th"),s._uU(34,"Created At"),s.qZA(),s.TgZ(35,"th"),s._uU(36,"Action"),s.qZA()()(),s.TgZ(37,"tbody"),s.YNc(38,Lc,23,10,"tr",13),s.qZA()()()(),s.TgZ(39,"div",14),s._UZ(40,"app-add-subtask-modal"),s.TgZ(41,"div",15)(42,"div",16)(43,"div",17),s.YNc(44,Rc,2,3,"button",18),s.qZA()()()()()()()()),2&t&&(s.xp6(16),s.Q6J("ngModel",o.searchTerm),s.xp6(22),s.Q6J("ngForOf",o.paginator.pagedItems),s.xp6(6),s.Q6J("ngForOf",s.DdM(3,jc).constructor(o.paginator.totalPages)))},dependencies:[I.sg,I.O5,m.Fj,m.JJ,m.On,Pc,Oc]}),i})();function Bc(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h1"),s._UZ(4,"i",10),s.qZA(),s.TgZ(5,"h4",11),s._uU(6),s.qZA(),s.TgZ(7,"p",12),s._uU(8),s.qZA(),s.TgZ(9,"button",13),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.redirectToBoards(r))}),s._uU(10," View Kanban board "),s._UZ(11,"i",14),s.qZA()()()()}if(2&n){const e=i.$implicit;s.xp6(6),s.hij(" ",e.name," "),s.xp6(2),s.Oqu(e.description)}}let qc=(()=>{var n;class i{constructor(t,o,r){this.route=t,this.router=o,this.boardService=r,this.boards=[]}ngOnInit(){this.route.params.subscribe({next:t=>this.project=t,error:t=>console.error("Error:",t)}),this.boardService.getBoardsByProjectId(this.project.id).subscribe(t=>{this.boards=t})}redirectToBoards(t){this.router.navigate(["/dashboard/board",t])}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(rt.gz),s.Y36(rt.F0),s.Y36(Et))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-project-boards"]],decls:12,vars:2,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"row"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"col-lg-3"],[1,"card-module","card","mb-3"],[1,"card-body"],[1,"fa","fa-table"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4),s.qZA(),s.TgZ(5,"p",4),s._uU(6," Here you can find the associated boards for this project "),s.qZA()()(),s._UZ(7,"br"),s.TgZ(8,"section",1)(9,"div",2)(10,"div",5),s.YNc(11,Bc,12,2,"div",6),s.qZA()()()()),2&t&&(s.xp6(4),s.hij("",o.project.name," boards"),s.xp6(7),s.Q6J("ngForOf",o.boards))},dependencies:[I.sg]}),i})();function Lt(n){return null!=n&&"false"!=`${n}`}function ks(n,i=0){return function zc(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):i}function ht(n){return n instanceof s.SBq?n.nativeElement:n}var K=U(8645),Vc=U(2096),Yc=U(2438),Ts=U(1954),de=U(7394);const Se={schedule(n){let i=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:t}=Se;t&&(i=t.requestAnimationFrame,e=t.cancelAnimationFrame);const o=i(r=>{e=void 0,n(r)});return new de.w0(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:i}=Se;return(i?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:i}=Se;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Cs=U(9931);const As=new class Jc extends Cs.v{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let o;i=i||t.shift();do{if(o=i.execute(i.state,i.delay))break}while((i=t[0])&&i.id===e&&t.shift());if(this._active=!1,o){for(;(i=t[0])&&i.id===e&&t.shift();)i.unsubscribe();throw o}}}(class Wc extends Ts.o{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,t=0){return null!==t&&t>0?super.requestAsyncId(i,e,t):(i.actions.push(this),i._scheduled||(i._scheduled=Se.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,e,t=0){var o;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(i,e,t);const{actions:r}=i;null!=e&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==e&&(Se.cancelAnimationFrame(e),i._scheduled=void 0)}});let nn,Kc=1;const ai={};function Ss(n){return n in ai&&(delete ai[n],!0)}const Gc={setImmediate(n){const i=Kc++;return ai[i]=!0,nn||(nn=Promise.resolve()),nn.then(()=>Ss(i)&&n()),i},clearImmediate(n){Ss(n)}},{setImmediate:$c,clearImmediate:Qc}=Gc,li={setImmediate(...n){const{delegate:i}=li;return(i?.setImmediate||$c)(...n)},clearImmediate(n){const{delegate:i}=li;return(i?.clearImmediate||Qc)(n)},delegate:void 0};new class td extends Cs.v{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let o;i=i||t.shift();do{if(o=i.execute(i.state,i.delay))break}while((i=t[0])&&i.id===e&&t.shift());if(this._active=!1,o){for(;(i=t[0])&&i.id===e&&t.shift();)i.unsubscribe();throw o}}}(class Xc extends Ts.o{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,t=0){return null!==t&&t>0?super.requestAsyncId(i,e,t):(i.actions.push(this),i._scheduled||(i._scheduled=li.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,e,t=0){var o;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(i,e,t);const{actions:r}=i;null!=e&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==e&&(li.clearImmediate(e),i._scheduled===e&&(i._scheduled=void 0))}});var ws=U(6321),id=U(9360),nd=U(4829),Ms=U(8251),Ds=U(4825);function Ps(n,i=ws.z){return function sd(n){return(0,id.e)((i,e)=>{let t=!1,o=null,r=null,a=!1;const l=()=>{if(r?.unsubscribe(),r=null,t){t=!1;const d=o;o=null,e.next(d)}a&&e.complete()},c=()=>{r=null,a&&e.complete()};i.subscribe((0,Ms.x)(e,d=>{t=!0,o=d,r||(0,nd.Xf)(n(d)).subscribe(r=(0,Ms.x)(e,l,c))},()=>{a=!0,(!t||!r||r.closed)&&e.complete()}))})}(()=>(0,Ds.H)(n,i))}var od=U(2181);let sn;try{sn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sn=!1}let we,on,Is=(()=>{var n;class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,I.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function Me(n){return function rd(){if(null==we&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>we=!0}))}finally{we=we||!1}return we}()?n:!!n.capture}function Os(n){if(function ad(){if(null==on){const n=typeof document<"u"?document.head:null;on=!(!n||!n.createShadowRoot&&!n.attachShadow)}return on}()){const i=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function di(n){return n.composedPath?n.composedPath()[0]:n.target}let cd=(()=>{var n;class i{constructor(t,o,r){this._ngZone=t,this._platform=o,this._scrolled=new K.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new J.y(o=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Ps(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Vc.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const r=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe((0,od.h)(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&o.push(a)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let r=ht(o),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,Yc.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(Is),s.LFG(I.K0,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),hd=(()=>{var n;class i{constructor(t,o,r){this._platform=t,this._change=new K.x,this._changeListener=a=>{this._change.next(a)},this._document=r,o.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+o,height:r,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||o.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||o.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ps(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(Is),s.LFG(s.R0b),s.LFG(I.K0,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();var rn=U(3019),hi=U(9773),Md=U(7398),Ls=U(8180),an=U(7921),Rs=U(9397),Dd=U(4664);const Pd=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Id(){return(0,s.f3M)(I.K0)}}),Zd=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let js=(()=>{var n;class i{constructor(t){this.value="ltr",this.change=new s.vpe,t&&(this.value=function Od(n){const i=n?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?Zd.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(Pd,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function ln(n,i,e){for(let t in i)if(i.hasOwnProperty(t)){const o=i[t];o?n.setProperty(t,o,e?.has(t)?"important":""):n.removeProperty(t)}return n}function ue(n,i){const e=i?"":"none";ln(n.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Ns(n,i,e){ln(n.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function ui(n,i){return i&&"none"!=i?n+" "+i:n}function Bs(n){const i=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*i}function cn(n,i){return n.getPropertyValue(i).split(",").map(t=>t.trim())}function dn(n){const i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function hn(n,i,e){const{top:t,bottom:o,left:r,right:a}=n;return e>=t&&e<=o&&i>=r&&i<=a}function De(n,i,e){n.top+=i,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function qs(n,i,e,t){const{top:o,right:r,bottom:a,left:l,width:c,height:d}=n,h=c*i,u=d*i;return t>o-u&&t<a+u&&e>l-h&&e<r+h}class zs{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:dn(e)})})}handleScroll(i){const e=di(i),t=this.positions.get(e);if(!t)return null;const o=t.scrollPosition;let r,a;if(e===this._document){const d=this.getViewportScrollPosition();r=d.top,a=d.left}else r=e.scrollTop,a=e.scrollLeft;const l=o.top-r,c=o.left-a;return this.positions.forEach((d,h)=>{d.clientRect&&e!==h&&e.contains(h)&&De(d.clientRect,l,c)}),o.top=r,o.left=a,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Hs(n){const i=n.cloneNode(!0),e=i.querySelectorAll("[id]"),t=n.nodeName.toLowerCase();i.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return"canvas"===t?Ws(n,i):("input"===t||"select"===t||"textarea"===t)&&Ys(n,i),Vs("canvas",n,i,Ws),Vs("input, textarea, select",n,i,Ys),i}function Vs(n,i,e,t){const o=i.querySelectorAll(n);if(o.length){const r=e.querySelectorAll(n);for(let a=0;a<o.length;a++)t(o[a],r[a])}}let Ud=0;function Ys(n,i){"file"!==i.type&&(i.value=n.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${Ud++}`)}function Ws(n,i){const e=i.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const Js=Me({passive:!0}),fi=Me({passive:!1}),un=new Set(["position"]);class Ld{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const e=Lt(i);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ue(t,e)))}constructor(i,e,t,o,r,a){this._config=e,this._document=t,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new K.x,this._pointerMoveSubscription=de.w0.EMPTY,this._pointerUpSubscription=de.w0.EMPTY,this._scrollSubscription=de.w0.EMPTY,this._resizeSubscription=de.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new K.x,this.started=new K.x,this.released=new K.x,this.ended=new K.x,this.entered=new K.x,this.exited=new K.x,this.dropped=new K.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const p=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),g=this._dropContainer;if(!p)return void this._endDragSequence(l);(!g||!g.isDragging()&&!g.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const h=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=d.x-h.x+this._passiveTransform.x,u.y=d.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new zs(t),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(t=>ht(t)),this._handles.forEach(t=>ue(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const e=ht(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,fi),e.addEventListener("touchstart",this._pointerDown,Js),e.addEventListener("dragstart",this._nativeDragStart,fi)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?ht(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),ue(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),ue(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Pe(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,o=t.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();o.insertBefore(a,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),Ns(t,!1,un),this._document.body.appendChild(o.replaceChild(r,t)),this._getPreviewInsertionPoint(o,l).appendChild(this._preview),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();const t=this.isDragging(),o=Pe(e),r=!o&&0!==e.button,a=this._rootElement,l=di(e),c=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=o?function Ad(n){const i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}(e):function Cd(n){return 0===n.buttons||0===n.detail}(e);if(l&&l.draggable&&"mousedown"===e.type&&e.preventDefault(),t||r||c||d)return;if(this._handles.length){const f=a.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=dn(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,i,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){Ns(this._rootElement,!0,un),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,t=e.getItemIndex(this),o=this._getPointerPositionOnPage(i),r=this._getDragDistance(o),a=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:r,dropPoint:o,event:i}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:o,event:i}),e.drop(this,t,this._initialIndex,this._initialContainer,a,r,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:t,y:o}){let r=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,i,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,o),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,e=this.previewClass,t=i?i.template:null;let o;if(t&&i){const r=i.matchSize?this._initialClientRect:null,a=i.viewContainer.createEmbeddedView(t,i.context);a.detectChanges(),o=Gs(a,this._document),this._previewRef=a,i.matchSize?$s(o,r):o.style.transform=pi(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=Hs(this._rootElement),$s(o,this._initialClientRect),this._initialTransform&&(o.style.transform=this._initialTransform);return ln(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},un),ue(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>o.classList.add(r)):o.classList.add(e)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const e=function Ed(n){const i=getComputedStyle(n),e=cn(i,"transition-property"),t=e.find(l=>"transform"===l||"all"===l);if(!t)return 0;const o=e.indexOf(t),r=cn(i,"transition-duration"),a=cn(i,"transition-delay");return Bs(r[o])+Bs(a[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const o=a=>{(!a||di(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",o),t(),clearTimeout(r))},r=setTimeout(o,1.5*e);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,e=i?i.template:null;let t;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),t=Gs(this._placeholderRef,this._document)):t=Hs(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(i,e,t){const o=e===this._rootElement?null:e,r=o?o.getBoundingClientRect():i,a=Pe(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition();return{x:r.left-i.left+(a.pageX-r.left-l.left),y:r.top-i.top+(a.pageY-r.top-l.top)}}_getPointerPositionOnPage(i){const e=this._getViewportScrollPosition(),t=Pe(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=t.pageX-e.left,r=t.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=o,l.y=r,l.matrixTransform(a.inverse())}}return{x:o,y:r}}_getConstrainedPointerPosition(i){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:t,y:o}=this.constrainPosition?this.constrainPosition(i,this,this._initialClientRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===e?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:r,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),h=l.top+a,u=l.bottom-(d-a);t=Ks(t,l.left+r,l.right-(c-r)),o=Ks(o,h,u)}return{x:t,y:o}}_updatePointerDirectionDelta(i){const{x:e,y:t}=i,o=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),l=Math.abs(t-r.y);return a>this._config.pointerDirectionChangeThreshold&&(o.x=e>r.x?1:-1,r.x=e),l>this._config.pointerDirectionChangeThreshold&&(o.y=t>r.y?1:-1,r.y=t),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,ue(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,fi),i.removeEventListener("touchstart",this._pointerDown,Js),i.removeEventListener("dragstart",this._nativeDragStart,fi)}_applyRootElementTransform(i,e){const t=pi(i,e),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=ui(t,this._initialTransform)}_applyPreviewTransform(i,e){const t=this._previewTemplate?.template?void 0:this._initialTransform,o=pi(i,e);this._preview.style.transform=ui(o,t)}_getDragDistance(i){const e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(0===i&&0===e||this.isDragging()||!this._boundaryElement)return;const t=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===t.width&&0===t.height)return;const r=o.left-t.left,a=t.right-o.right,l=o.top-t.top,c=t.bottom-o.bottom;o.width>t.width?(r>0&&(i+=r),a>0&&(i-=a)):i=0,o.height>t.height?(l>0&&(e+=l),c>0&&(e-=c)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){const e=this.dragStartDelay;return"number"==typeof e?e:Pe(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){const e=this._parentPositions.handleScroll(i);if(e){const t=di(i);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&De(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Os(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){const t=this._previewContainer||"global";if("parent"===t)return i;if("global"===t){const o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return ht(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}}function pi(n,i){return`translate3d(${Math.round(n)}px, ${Math.round(i)}px, 0)`}function Ks(n,i,e){return Math.max(i,Math.min(e,n))}function Pe(n){return"t"===n.type[0]}function Gs(n,i){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===i.ELEMENT_NODE)return e[0];const t=i.createElement("div");return e.forEach(o=>t.appendChild(o)),t}function $s(n,i){n.style.width=`${i.width}px`,n.style.height=`${i.height}px`,n.style.transform=pi(i.left,i.top)}function Qs(n,i,e){const t=Ie(i,n.length-1),o=Ie(e,n.length-1);if(t===o)return;const r=n[t],a=o<t?-1:1;for(let l=t;l!==o;l+=a)n[l]=n[l+a];n[o]=r}function Xs(n,i,e,t){const o=Ie(e,n.length-1),r=Ie(t,i.length);n.length&&i.splice(r,0,n.splice(o,1)[0])}function Ie(n,i){return Math.max(0,Math.min(i,n))}class Rd{constructor(i,e){this._element=i,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,e,t,o){const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(i,e,t,o);if(-1===a&&r.length>0)return null;const l="horizontal"===this.orientation,c=r.findIndex(b=>b.drag===i),d=r[a],u=d.clientRect,f=c>a?1:-1,p=this._getItemOffsetPx(r[c].clientRect,u,f),g=this._getSiblingOffsetPx(c,r,f),_=r.slice();return Qs(r,c,a),r.forEach((b,v)=>{if(_[v]===b)return;const x=b.drag===i,C=x?p:g,T=x?i.getPlaceholderElement():b.drag.getRootElement();b.offset+=C,l?(T.style.transform=ui(`translate3d(${Math.round(b.offset)}px, 0, 0)`,b.initialTransform),De(b.clientRect,0,C)):(T.style.transform=ui(`translate3d(0, ${Math.round(b.offset)}px, 0)`,b.initialTransform),De(b.clientRect,C,0))}),this._previousSwap.overlaps=hn(u,e,t),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?o.x:o.y,{previousIndex:c,currentIndex:a}}enter(i,e,t,o){const r=null==o||o<0?this._getItemIndexFromPointerPosition(i,e,t):o,a=this._activeDraggables,l=a.indexOf(i),c=i.getPlaceholderElement();let d=a[r];if(d===i&&(d=a[r+1]),!d&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(d=a[0]),l>-1&&a.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(c,h),a.splice(r,0,i)}else ht(this._element).appendChild(c),a.push(i);c.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const e=i.getRootElement();if(e){const t=this._itemPositions.find(o=>o.drag===i)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===i)}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:t})=>{De(t,i,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:dn(t)}}).sort((e,t)=>i?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(i,e,t){const o="horizontal"===this.orientation;let r=o?e.left-i.left:e.top-i.top;return-1===t&&(r+=o?e.width-i.width:e.height-i.height),r}_getSiblingOffsetPx(i,e,t){const o="horizontal"===this.orientation,r=e[i].clientRect,a=e[i+-1*t];let l=r[o?"width":"height"]*t;if(a){const c=o?"left":"top",d=o?"right":"bottom";-1===t?l-=a.clientRect[c]-r[d]:l+=r[c]-a.clientRect[d]}return l}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;const t=this._itemPositions,o="horizontal"===this.orientation;if(t[0].drag!==this._activeDraggables[0]){const a=t[t.length-1].clientRect;return o?i>=a.right:e>=a.bottom}{const a=t[0].clientRect;return o?i<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(i,e,t,o){const r="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>l!==i&&((!o||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(r?o.x:o.y)!==this._previousSwap.delta)&&(r?e>=Math.floor(c.left)&&e<Math.floor(c.right):t>=Math.floor(c.top)&&t<Math.floor(c.bottom))));return-1!==a&&this._sortPredicate(a,i)?a:-1}}class jd{constructor(i,e,t,o,r){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new K.x,this.entered=new K.x,this.exited=new K.x,this.dropped=new K.x,this.sorted=new K.x,this.receivingStarted=new K.x,this.receivingStopped=new K.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=de.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new K.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function wd(n=0,i=ws.z){return n<0&&(n=0),(0,Ds.H)(n,n,i)}(0,As).pipe((0,hi.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=ht(i),this._document=t,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new zs(t),this._sortStrategy=new Rd(this.element,e),this._sortStrategy.withSortPredicate((a,l)=>this.sortPredicate(a,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,t,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,t,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,t,o,r,a,l,c={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:t,container:this,previousContainer:o,isPointerOverContainer:r,distance:a,dropPoint:l,event:c})}withItems(i){const e=this._draggables;return this._draggables=i,i.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>-1===i.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const e=ht(this.element);return this._scrollableElements=-1===i.indexOf(e)?[e,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,t,o){if(this.sortingDisabled||!this._clientRect||!qs(this._clientRect,.05,e,t))return;const r=this._sortStrategy.sort(i,e,t,o);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let t,o=0,r=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||t||qs(a.clientRect,.05,i,e)&&([o,r]=function Nd(n,i,e,t){const o=io(i,t),r=no(i,e);let a=0,l=0;if(o){const c=n.scrollTop;1===o?c>0&&(a=1):n.scrollHeight-c>n.clientHeight&&(a=2)}if(r){const c=n.scrollLeft;1===r?c>0&&(l=1):n.scrollWidth-c>n.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,i,e),(o||r)&&(t=l))}),!o&&!r){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};o=io(c,e),r=no(c,i),t=window}t&&(o!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=r,this._scrollNode=t,(o||r)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=ht(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=ht(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=ht(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,e){return null!=this._clientRect&&hn(this._clientRect,i,e)}_getSiblingContainerFromPosition(i,e,t){return this._siblings.find(o=>o._canReceive(i,e,t))}_canReceive(i,e,t){if(!this._clientRect||!hn(this._clientRect,e,t)||!this.enterPredicate(i,this))return!1;const o=this._getShadowRoot().elementFromPoint(e,t);if(!o)return!1;const r=ht(this.element);return o===r||r.contains(o)}_startReceiving(i,e){const t=this._activeSiblings;!t.has(i)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(t.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:e}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=Os(ht(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}}function io(n,i){const{top:e,bottom:t,height:o}=n,r=.05*o;return i>=e-r&&i<=e+r?1:i>=t-r&&i<=t+r?2:0}function no(n,i){const{left:e,right:t,width:o}=n,r=.05*o;return i>=e-r&&i<=e+r?1:i>=t-r&&i<=t+r?2:0}const gi=Me({passive:!1,capture:!0});let Bd=(()=>{var n;class i{constructor(t,o){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new K.x,this.pointerUp=new K.x,this.scroll=new K.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=o}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,gi)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,gi)}startDragging(t,o){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=o.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:gi}),r||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:gi}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,l)=>{this._document.addEventListener(l,a.handler,a.options)})})}}stopDragging(t){const o=this._activeDragInstances.indexOf(t);o>-1&&(this._activeDragInstances.splice(o,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const o=[this.scroll];return t&&t!==this._document&&o.push(new J.y(r=>this._ngZone.runOutsideAngular(()=>{const l=c=>{this._activeDragInstances.length&&r.next(c)};return t.addEventListener("scroll",l,!0),()=>{t.removeEventListener("scroll",l,!0)}}))),(0,rn.T)(...o)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,o)=>{this._document.removeEventListener(o,t.handler,t.options)}),this._globalListeners.clear()}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(I.K0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();const qd={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let so=(()=>{var n;class i{constructor(t,o,r,a){this._document=t,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=a}createDrag(t,o=qd){return new Ld(t,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new jd(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(I.K0),s.LFG(s.R0b),s.LFG(hd),s.LFG(Bd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();const fn=new s.OlP("CDK_DRAG_PARENT"),pn=new s.OlP("CdkDragHandle"),oo=new s.OlP("CdkDragPlaceholder"),ro=new s.OlP("CdkDragPreview"),ao=new s.OlP("CDK_DRAG_CONFIG"),lo=new s.OlP("CdkDropList");let co=(()=>{var n;class i{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Lt(t),this._dragRef.disabled=this._disabled}constructor(t,o,r,a,l,c,d,h,u,f,p){this.element=t,this.dropContainer=o,this._ngZone=a,this._viewContainerRef=l,this._dir=d,this._changeDetectorRef=u,this._selfHandle=f,this._parentDrag=p,this._destroyed=new K.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new J.y(g=>{const _=this._dragRef.moved.pipe((0,Md.U)(b=>({source:this,pointerPosition:b.pointerPosition,event:b.event,delta:b.delta,distance:b.distance}))).subscribe(g);return()=>{_.unsubscribe()}}),this._dragRef=h.createDrag(t,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:c?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),c&&this._assignDefaults(c),o&&(this._dragRef._withDropContainer(o._dropListRef),o.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ls.q)(1),(0,hi.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const o=t.rootElementSelector,r=t.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=i._dragInstances.indexOf(this);t>-1&&i._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let o=t;this.rootElementSelector&&(o=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):ht(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const o=this._dir,r=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:ks(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),o&&t.withDirection(o.value)}}),t.beforeStarted.pipe((0,Ls.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let o=this.element.nativeElement.parentElement;for(;o;){if(o.classList.contains("cdk-drag")){t.withParent(i._dragInstances.find(r=>r.element.nativeElement===o)?._dragRef||null);break}o=o.parentElement}})}_handleEvents(t){t.started.subscribe(o=>{this.started.emit({source:this,event:o.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(o=>{this.released.emit({source:this,event:o.event})}),t.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),t.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),t.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event})})}_assignDefaults(t){const{lockAxis:o,dragStartDelay:r,constrainPosition:a,previewClass:l,boundaryElement:c,draggingDisabled:d,rootElementSelector:h,previewContainer:u}=t;this.disabled=d??!1,this.dragStartDelay=r||0,o&&(this.lockAxis=o),a&&(this.constrainPosition=a),l&&(this.previewClass=l),c&&(this.boundaryElement=c),h&&(this.rootElementSelector=h),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe((0,an.O)(this._handles),(0,Rs.b)(t=>{const o=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),(0,Dd.w)(t=>(0,rn.T)(...t.map(o=>o._stateChanges.pipe((0,an.O)(o))))),(0,hi.R)(this._destroyed)).subscribe(t=>{const o=this._dragRef,r=t.element.nativeElement;t.disabled?o.disableHandle(r):o.enableHandle(r)})}}return(n=i)._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(lo,12),s.Y36(I.K0),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(ao,8),s.Y36(js,8),s.Y36(so),s.Y36(s.sBO),s.Y36(pn,10),s.Y36(fn,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,o,r){if(1&t&&(s.Suo(r,ro,5),s.Suo(r,oo,5),s.Suo(r,pn,5)),2&t){let a;s.iGM(a=s.CRH())&&(o._previewTemplate=a.first),s.iGM(a=s.CRH())&&(o._placeholderTemplate=a.first),s.iGM(a=s.CRH())&&(o._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,o){2&t&&s.ekj("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[s._Bn([{provide:fn,useExisting:n}]),s.TTD]}),i})();const gn=new s.OlP("CdkDropListGroup");let Jd=0,ho=(()=>{var n;class i{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Lt(t)}constructor(t,o,r,a,l,c,d){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=a,this._dir=l,this._group=c,this._destroyed=new K.x,this.connectedTo=[],this.id="cdk-drop-list-"+Jd++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=o.createDropList(t),this._dropListRef.data=this,d&&this._assignDefaults(d),this._dropListRef.enterPredicate=(h,u)=>this.enterPredicate(h.data,u.data),this._dropListRef.sortPredicate=(h,u,f)=>this.sortPredicate(h,u.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),c&&c._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,o)=>t._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=i._dropLists.indexOf(this);t>-1&&i._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,an.O)(this._dir.value),(0,hi.R)(this._destroyed)).subscribe(o=>t.withDirection(o)),t.beforeStarted.subscribe(()=>{const o=function Hc(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?i._dropLists.find(l=>l.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===o.indexOf(r)&&o.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Lt(this.sortingDisabled),t.autoScrollDisabled=Lt(this.autoScrollDisabled),t.autoScrollStep=ks(this.autoScrollStep,2),t.connectedTo(o.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),t.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),t.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),(0,rn.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:o,draggingDisabled:r,sortingDisabled:a,listAutoScrollDisabled:l,listOrientation:c}=t;this.disabled=r??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=l??!1,this.orientation=c||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return(n=i)._dropLists=[],n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(so),s.Y36(s.sBO),s.Y36(cd),s.Y36(js,8),s.Y36(gn,12),s.Y36(ao,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,o){2&t&&(s.uIk("id",o.id),s.ekj("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[s._Bn([{provide:gn,useValue:void 0},{provide:lo,useExisting:n}])]}),i})(),uo=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-loader"]],standalone:!0,features:[s.jDz],decls:2,vars:0,consts:[[1,"loader-overlay"],[1,"spinner"]],template:function(t,o){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.qZA())},styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#000;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]}),i})();function Kd(n,i){1&n&&s._UZ(0,"app-loader")}function Gd(n,i){1&n&&(s.TgZ(0,"div",4)(1,"div",5)(2,"strong"),s._uU(3,"Warning!"),s.qZA(),s._uU(4," There are no buckets to display on this board. "),s.qZA()())}function $d(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"div",13),s._uU(2),s.TgZ(3,"div",14)(4,"button",15),s._UZ(5,"i",16),s.qZA(),s.TgZ(6,"button",17),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw(3);return s.KtG(a.markTaskAsCompleted(r))}),s._UZ(7,"i",18),s.qZA()()(),s.TgZ(8,"div",19)(9,"div",20)(10,"h3",21),s._uU(11),s.qZA(),s._UZ(12,"button",22),s.qZA(),s.TgZ(13,"div",23)(14,"p")(15,"b"),s._uU(16,"Start Date:"),s.qZA(),s._uU(17),s.qZA(),s.TgZ(18,"p")(19,"b"),s._uU(20,"Due Date:"),s.qZA(),s._uU(21),s.qZA(),s.TgZ(22,"p")(23,"b"),s._uU(24,"Created At:"),s.qZA(),s._uU(25),s.qZA(),s.TgZ(26,"p")(27,"b"),s._uU(28,"Priority:"),s.qZA(),s.TgZ(29,"span",24),s._uU(30),s.qZA()(),s._UZ(31,"br"),s.TgZ(32,"h5"),s._uU(33,"Task description:"),s.qZA(),s.TgZ(34,"div"),s._uU(35),s.qZA(),s._UZ(36,"br"),s.TgZ(37,"h5"),s._uU(38,"Actions:"),s.qZA(),s.TgZ(39,"div",25)(40,"button",26),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw(3);return s.KtG(a.redirectToBoard(r))}),s._uU(41," View Board "),s._UZ(42,"i",16),s.qZA(),s.TgZ(43,"button",27),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw(3);return s.KtG(a.markTaskAsCompleted(r))}),s._uU(44," Mark as Done! "),s._UZ(45,"i",18),s.qZA()()()()()}if(2&n){const e=i.$implicit;s.xp6(2),s.hij(" ",e.name," "),s.xp6(2),s.uIk("data-bs-target","#offcanvasExample"+e.id),s.xp6(4),s.Q6J("id","offcanvasExample"+e.id),s.uIk("aria-labelledby","offcanvasExampleLabel"+e.id),s.xp6(2),s.Q6J("id","offcanvasExampleLabel"+e.id),s.xp6(1),s.hij(" ",e.name," "),s.xp6(6),s.hij(" ",e.startDate,""),s.xp6(4),s.hij(" ",e.dueDate,""),s.xp6(4),s.hij(" ",e.createdAt,""),s.xp6(4),s.ekj("bg-danger","High"===e.priority)("bg-warning","Medium"===e.priority)("bg-success","Low"===e.priority),s.xp6(1),s.hij(" ",e.priority," "),s.xp6(5),s.Oqu(e.description)}}function Qd(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",8)(1,"div",9)(2,"div")(3,"h4"),s._uU(4),s.qZA()(),s.TgZ(5,"div",10)(6,"div",11),s.NdJ("cdkDropListDropped",function(o){s.CHM(e);const r=s.oxw(2);return s.KtG(r.drop(o))}),s.YNc(7,$d,46,17,"div",12),s.qZA()()()()}if(2&n){const e=i.$implicit,t=s.oxw(2);s.xp6(2),s.Gre("card-header text-center bg-",e.color,""),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Q6J("id","list-"+e.id)("cdkDropListConnectedTo",t.getConnectedLists())("cdkDropListData",t.bucketTasks[t.getBucketPosition(e.id)].tasks),s.xp6(1),s.Q6J("ngForOf",t.bucketTasks[t.getBucketPosition(e.id)].tasks)("ngForTrackBy",t.trackByTaskId)}}function Xd(n,i){if(1&n&&(s.TgZ(0,"div",6),s.YNc(1,Qd,8,9,"div",7),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.buckets)}}let th=(()=>{var n;class i{trackByTaskId(t,o){return o.id}constructor(t,o,r,a,l,c,d){this.route=t,this.router=o,this.taskService=r,this.bucketService=a,this.authService=l,this.taskAssignationService=c,this.boardService=d,this.buckets=[],this.bucketTasks=[],this.userTaskAssignations=[],this.isLoading=!0}ngOnInit(){this.route.params.subscribe({next:t=>this.board=t,error:t=>console.error("Error:",t)}),this.authService.getUserRole().subscribe({next:t=>{this.currentUser=t,this.getUserTaskAssignations()},error:t=>{this.isLoading=!1,console.error("Error getting user:",t)}})}getUserTaskAssignations(){this.taskAssignationService.getTaskAssignationByUserId(this.currentUser.id).subscribe({next:t=>{this.userTaskAssignations=t,this.bucketService.getBucketsByBoard(this.board.id).subscribe({next:o=>{this.initBucketsAndTasks(o),this.isLoading=!1},error:o=>{this.isLoading=!1,console.error("Error:",o)}})},error:t=>{this.isLoading=!1,console.error("Error getting task assignations:",t)}})}initBucketsAndTasks(t){this.buckets=t.sort((o,r)=>o.id-r.id),this.bucketTasks=[],this.buckets.forEach(o=>{let r=this.getTasksByBucket(o.id);this.bucketTasks.push(r)})}getTasksByBucket(t){let o=[];return this.taskService.getTasksByBucket(t).subscribe({next:a=>{a.forEach(l=>{this.userTaskAssignations.some(d=>d.task.id===l.id)&&o.push(l)})}}),{id:t,tasks:o}}getBucketPosition(t){let o=0;return this.bucketTasks.forEach(r=>{r.id===t&&(o=this.bucketTasks.indexOf(r))}),o}getConnectedLists(){const t=[];return this.buckets.forEach(o=>{t.push("list-"+o.id)}),t}drop(t){if(t.previousContainer===t.container)Qs(t.container.data,t.previousIndex,t.currentIndex);else{const o=t.previousContainer.data[t.previousIndex],r=parseInt(t.container.id.replace("list-","")),a={...o,bucket:{...o.bucket,id:r}};Xs(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),this.taskService.updateTask(o.id,a).subscribe({next:l=>{console.log("Task updated successfully:",l)},error:l=>{console.error("Error updating task:",l),Xs(t.container.data,t.previousContainer.data,t.currentIndex,t.previousIndex)}})}}getUserTaskAssignationForTask(t){const o=this.userTaskAssignations.find(r=>r.task.id===t.id);return o?{id:o.id,task:t,user:this.currentUser,isCompleted:o.completed}:null}markTaskAsCompleted(t){const o=this.getUserTaskAssignationForTask(t);o?this.taskAssignationService.updateAssignation(o.id,{id:o.id,user:{id:this.currentUser.id},task:{id:t.id},completed:!0}).subscribe({next:a=>{k().fire("Task completed","Task completed successfully!","success"),this.removeTaskFromBuckets(t.id)},error:a=>{console.error("Error marking task as completed:",a),k().fire("Error","Failed to mark task as completed","error")}}):console.error("Task assignation not found")}removeTaskFromBuckets(t){this.bucketTasks.forEach(o=>{o.tasks=o.tasks.filter(r=>r.id!==t)})}redirectToBoard(t){this.bucketService.getBucketById(t.bucket.id).subscribe({next:r=>{this.boardService.getBoardById(r.board.id).subscribe({next:a=>{this.router.navigate(["/dashboard/board",a])},error:a=>console.error("Error getting board:",a)})},error:r=>console.error("Error getting bucket:",r)})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(rt.gz),s.Y36(rt.F0),s.Y36(pt),s.Y36(Kt),s.Y36(Gt.e),s.Y36(Ut),s.Y36(Et))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-kanban-board"]],standalone:!0,features:[s.jDz],decls:4,vars:3,consts:[[1,"container","overflow-auto"],[4,"ngIf"],["class","d-flex justify-content-center align-items-center mt-4",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],["role","alert",1,"alert","alert-warning","text-center","w-50"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","mb-3",2,"max-width","20rem"],[1,"card-body"],["cdkDropList","",1,"example-list",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],[4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"example-box"],[1,"btn-group","btn-sm"],["data-bs-toggle","offcanvas","aria-controls","offcanvasExample",1,"btn","btn-secondary","btn-sm"],[1,"fa","fa-eye"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-check"],["tabindex","-1",1,"offcanvas","offcanvas-start",3,"id"],[1,"offcanvas-header"],[1,"offcanvas-title",3,"id"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body",2,"text-align","left"],[1,"badge"],[1,"btn-group"],["data-bs-dismiss","offcanvas",1,"btn","btn-secondary",3,"click"],["data-bs-dismiss","offcanvas",1,"btn","btn-success",3,"click"]],template:function(t,o){1&t&&(s.TgZ(0,"div",0),s.YNc(1,Kd,1,0,"app-loader",1),s.YNc(2,Gd,5,0,"div",2),s.YNc(3,Xd,2,1,"div",3),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",o.isLoading),s.xp6(1),s.Q6J("ngIf",!o.isLoading&&0===o.buckets.length),s.xp6(1),s.Q6J("ngIf",!o.isLoading&&o.buckets.length>0))},dependencies:[ho,co,I.ax,I.O5,uo],styles:[".example-container[_ngcontent-%COMP%]{width:400px;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;overflow:hidden;display:block}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),i})();function eh(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td")(14,"div")(15,"button",12),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw();return s.KtG(a.redirectToProjectBoards(r))}),s._uU(16," View Boards "),s._UZ(17,"i",13),s.qZA()()()()}if(2&n){const e=i.$implicit;s.xp6(2),s.Oqu(e.id),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Oqu(e.description),s.xp6(2),s.Oqu(e.startDate),s.xp6(2),s.Oqu(e.dueDate),s.xp6(2),s.Oqu(e.createdAt)}}let ih=(()=>{var n;class i{constructor(t,o,r){this.router=t,this.authService=o,this.projectAssignationService=r,this.projects=[]}ngOnInit(){k().fire({title:"Loading...",html:"Please wait while we fetch your assigned projects.",allowOutsideClick:!1,didOpen:()=>{k().showLoading()}}),this.authService.getUserRole().subscribe({next:t=>{this.currentUser=t,this.getProjectsAssignation(t.id)},error:()=>{k().fire("Error","Failed to load user role.","error")}})}getProjectsAssignation(t){this.projectAssignationService.getAssignationsByUserId(t).subscribe(o=>{this.projects=o,k().close()},o=>{k().fire("Error","Failed to load assigned projects.","error")})}redirectToProjectBoards(t){this.router.navigate(["/dashboard/project-boards",t])}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(rt.F0),s.Y36(Gt.e),s.Y36(ce))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-assigned-projects"]],decls:35,vars:1,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],[1,"card-header","text-center"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","bordered","border-light"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-eye"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"My Assigned Projects"),s.qZA(),s.TgZ(5,"p",4),s._uU(6," Here you can access to your assigned projects. "),s.qZA()()(),s._UZ(7,"br"),s.TgZ(8,"section",2)(9,"div",5)(10,"div",6)(11,"div",7)(12,"h5"),s._uU(13,"My projects"),s.qZA()(),s.TgZ(14,"div",8)(15,"div",9)(16,"table",10)(17,"thead")(18,"tr")(19,"th"),s._uU(20,"ID"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Name"),s.qZA(),s.TgZ(23,"th"),s._uU(24,"Description"),s.qZA(),s.TgZ(25,"th"),s._uU(26,"Start Date"),s.qZA(),s.TgZ(27,"th"),s._uU(28,"Due Date"),s.qZA(),s.TgZ(29,"th"),s._uU(30,"Created At"),s.qZA(),s.TgZ(31,"th"),s._uU(32,"Action"),s.qZA()()(),s.TgZ(33,"tbody"),s.YNc(34,eh,18,6,"tr",11),s.qZA()()()()()()()()),2&t&&(s.xp6(34),s.Q6J("ngForOf",o.projects))},dependencies:[I.sg]}),i})(),fo=(()=>{var n;class i{constructor(t,o,r,a){this.bucketService=t,this.boardService=o,this.taskAssignationService=r,this.router=a}redirectToBoard(){this.bucketService.getBucketById(this.userTaskAssignation.task.bucket.id).subscribe(o=>{this.boardService.getBoardById(o.board.id).subscribe(r=>{this.router.navigate(["/dashboard/board",r])})})}markAsDone(){let t=this.userTaskAssignation.id;this.taskAssignationService.updateAssignation(t,{id:t,user:{id:this.userTaskAssignation.user.id},task:{id:this.userTaskAssignation.task.id},completed:!0}).subscribe(r=>{k().fire("Task completed","Task completed!","success"),window.location.reload()})}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Kt),s.Y36(Et),s.Y36(Ut),s.Y36(rt.F0))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-task-info"]],inputs:{userTaskAssignation:"userTaskAssignation"},decls:36,vars:8,consts:[["data-bs-toggle","offcanvas","role","button","aria-controls","offcanvasExample",1,"btn","btn-secondary",3,"href"],[1,"fa","fa-eye",2,"margin-left","5px"],["tabindex","-1","aria-labelledby","offcanvasExampleLabel",1,"offcanvas","offcanvas-start",3,"id"],[1,"offcanvas-header"],[1,"offcanvas-title",3,"id"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body",2,"text-align","left"],[1,"btn-group"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-eye"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-check"]],template:function(t,o){1&t&&(s.TgZ(0,"a",0),s._uU(1," View "),s._UZ(2,"i",1),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"h3",4),s._uU(6),s.qZA(),s._UZ(7,"button",5),s.qZA(),s.TgZ(8,"div",6)(9,"p")(10,"b"),s._uU(11,"Start Date:"),s.qZA(),s._uU(12),s.qZA(),s.TgZ(13,"p")(14,"b"),s._uU(15,"Due Date:"),s.qZA(),s._uU(16),s.qZA(),s.TgZ(17,"p")(18,"b"),s._uU(19,"Created At:"),s.qZA(),s._uU(20),s.qZA(),s._UZ(21,"br"),s.TgZ(22,"h5"),s._uU(23,"Task description:"),s.qZA(),s.TgZ(24,"div"),s._uU(25),s.qZA(),s._UZ(26,"br"),s.TgZ(27,"h5"),s._uU(28,"Actions:"),s.qZA(),s.TgZ(29,"div",7)(30,"a",8),s.NdJ("click",function(){return o.redirectToBoard()}),s._uU(31,"View Board "),s._UZ(32,"i",9),s.qZA(),s.TgZ(33,"a",10),s.NdJ("click",function(){return o.markAsDone()}),s._uU(34,"Mark as Done! "),s._UZ(35,"i",11),s.qZA()()()()),2&t&&(s.MGl("href","#offcanvasExample",o.userTaskAssignation.task.id,"",s.LSH),s.xp6(3),s.MGl("id","offcanvasExample",o.userTaskAssignation.task.id,""),s.xp6(2),s.MGl("id","offcanvasExampleLabel",o.userTaskAssignation.task.id,""),s.xp6(1),s.hij(" ",o.userTaskAssignation.task.name," "),s.xp6(6),s.hij(" ",o.userTaskAssignation.task.startDate,""),s.xp6(4),s.hij(" ",o.userTaskAssignation.task.dueDate,""),s.xp6(4),s.hij(" ",o.userTaskAssignation.task.createdAt,""),s.xp6(5),s.Oqu(o.userTaskAssignation.task.description))}}),i})();function nh(n,i){1&n&&(s.TgZ(0,"div",2)(1,"div",3)(2,"span",4),s._uU(3,"Loading..."),s.qZA()()())}function sh(n,i){1&n&&(s.TgZ(0,"div",7),s._UZ(1,"button",8),s.TgZ(2,"strong"),s._uU(3,"Oh snap!"),s.qZA(),s.TgZ(4,"a",9),s._uU(5,"No tasks available to display."),s.qZA()())}function oh(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",20),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.task.priority)}}function rh(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",21),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.task.priority)}}function ah(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",22),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.task.priority)}}function lh(n,i){if(1&n&&(s.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",10),s._UZ(4,"div",15),s.TgZ(5,"div",16),s.YNc(6,oh,3,1,"div",1),s.YNc(7,rh,3,1,"div",1),s.YNc(8,ah,3,1,"div",1),s.qZA()(),s._UZ(9,"br"),s.TgZ(10,"h4",17),s._uU(11),s.qZA(),s.TgZ(12,"p",18),s._uU(13),s.qZA(),s.TgZ(14,"p",18)(15,"b"),s._uU(16),s.qZA()(),s._UZ(17,"br")(18,"app-task-info",19),s.qZA()()()),2&n){const e=i.$implicit,t=s.oxw(3);s.xp6(6),s.Q6J("ngIf",1==t.getPriorityColor(e.task.priority)),s.xp6(1),s.Q6J("ngIf",2==t.getPriorityColor(e.task.priority)),s.xp6(1),s.Q6J("ngIf",3==t.getPriorityColor(e.task.priority)),s.xp6(3),s.Oqu(e.task.name),s.xp6(2),s.Oqu(e.task.description),s.xp6(3),s.Oqu(e.task.dueDate),s.xp6(2),s.Q6J("userTaskAssignation",e)}}function ch(n,i){if(1&n&&(s.TgZ(0,"div",10),s.YNc(1,lh,19,7,"div",11),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.userTaskAssignations)}}function dh(n,i){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,sh,6,0,"div",5),s.YNc(2,ch,2,1,"div",6),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",0===e.userTaskAssignations.length),s.xp6(1),s.Q6J("ngIf",e.userTaskAssignations.length>0)}}let hh=(()=>{var n;class i{constructor(t,o,r){this.taskAssignationService=t,this.taskService=o,this.authService=r,this.taskCounter=0,this.userTaskAssignations=[],this.isLoading=!0}ngOnInit(){this.authService.getUserRole().subscribe({next:t=>{this.currentUser=t,this.getTasksAssigned(t.id)},error:()=>{this.isLoading=!1}})}getTasksAssigned(t){this.taskAssignationService.getTaskAssignationByUserId(t).subscribe({next:o=>{this.saveTaskAssigned(o),this.isLoading=!1},error:()=>{this.isLoading=!1}})}saveTaskAssigned(t){t.forEach(o=>{this.taskService.getTaskById(o.task.id).subscribe({next:a=>{if(!0===o.completed){this.taskCounter++;let l={id:o.id,task:a,user:this.currentUser,isCompleted:o.completed};this.userTaskAssignations.push(l),console.log(l)}}})})}getPriorityColor(t){let o=0;switch(t){case"High":o=1;break;case"Medium":o=2;break;case"Low":o=3}return o}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Ut),s.Y36(pt),s.Y36(Gt.e))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-my-completed-tasks"]],decls:2,vars:2,consts:[["class","d-flex justify-content-center align-items-center","style","height: 100vh",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["class","alert alert-dismissible alert-secondary d-flex justify-content-center align-items-center","style","\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: auto;\n    ","role","alert",4,"ngIf"],["class","row",4,"ngIf"],["role","alert",1,"alert","alert-dismissible","alert-secondary","d-flex","justify-content-center","align-items-center",2,"position","fixed","top","50%","left","50%","transform","translate(-50%, -50%)","width","auto"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"alert-link"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card"],[1,"card-body"],[1,"col-md-8"],[1,"col-md-4"],[1,"card-title"],[1,"card-text"],[3,"userTaskAssignation"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-success"]],template:function(t,o){1&t&&(s.YNc(0,nh,4,0,"div",0),s.YNc(1,dh,3,2,"div",1)),2&t&&(s.Q6J("ngIf",o.isLoading),s.xp6(1),s.Q6J("ngIf",!o.isLoading))},dependencies:[I.sg,I.O5,fo]}),i})();function uh(n,i){1&n&&(s.TgZ(0,"div",2)(1,"div",3)(2,"span",4),s._uU(3,"Loading..."),s.qZA()()())}function fh(n,i){1&n&&(s.TgZ(0,"div",8),s._UZ(1,"button",9),s.TgZ(2,"strong"),s._uU(3,"Oh snap!"),s.qZA(),s.TgZ(4,"a",10),s._uU(5,"No tasks available to display."),s.qZA()())}function ph(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",19),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.task.priority)}}function gh(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",20),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.task.priority)}}function mh(n,i){if(1&n&&(s.TgZ(0,"div")(1,"span",21),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.task.priority)}}function _h(n,i){if(1&n&&(s.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",6),s._UZ(4,"div",14),s.TgZ(5,"div",15),s.YNc(6,ph,3,1,"div",1),s.YNc(7,gh,3,1,"div",1),s.YNc(8,mh,3,1,"div",1),s.qZA()(),s._UZ(9,"br"),s.TgZ(10,"h4",16),s._uU(11),s.qZA(),s.TgZ(12,"p",17),s._uU(13),s.qZA(),s.TgZ(14,"p",17)(15,"b"),s._uU(16),s.qZA()(),s._UZ(17,"br")(18,"app-task-info",18),s.qZA()()()),2&n){const e=i.$implicit,t=s.oxw(2);s.xp6(6),s.Q6J("ngIf",1==t.getPriorityColor(e.task.priority)),s.xp6(1),s.Q6J("ngIf",2==t.getPriorityColor(e.task.priority)),s.xp6(1),s.Q6J("ngIf",3==t.getPriorityColor(e.task.priority)),s.xp6(3),s.Oqu(e.task.name),s.xp6(2),s.Oqu(e.task.description),s.xp6(3),s.Oqu(e.task.dueDate),s.xp6(2),s.Q6J("userTaskAssignation",e)}}function bh(n,i){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,fh,6,0,"div",5),s.TgZ(2,"div",6),s.YNc(3,_h,19,7,"div",7),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",0===e.userTaskAssignations.length),s.xp6(2),s.Q6J("ngForOf",e.userTaskAssignations)}}let vh=(()=>{var n;class i{constructor(t,o,r){this.taskAssignationService=t,this.taskService=o,this.authService=r,this.taskCounter=0,this.userTaskAssignations=[],this.isLoading=!0}ngOnInit(){this.authService.getUserRole().subscribe({next:t=>{this.currentUser=t,this.getTasksAssigned(t.id)},error:()=>{this.isLoading=!1}})}getTasksAssigned(t){this.taskAssignationService.getTaskAssignationByUserId(t).subscribe({next:o=>{this.saveTaskAssigned(o),this.isLoading=!1},error:()=>{this.isLoading=!1}})}saveTaskAssigned(t){t.forEach(o=>{this.taskService.getTaskById(o.task.id).subscribe({next:a=>{if(!1===o.completed){this.taskCounter++;let l={id:o.id,task:a,user:this.currentUser,isCompleted:o.completed};this.userTaskAssignations.push(l),console.log(l)}}})})}getPriorityColor(t){let o=0;switch(t){case"High":o=1;break;case"Medium":o=2;break;case"Low":o=3}return o}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Ut),s.Y36(pt),s.Y36(Gt.e))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-my-incopleted-tasks"]],decls:2,vars:2,consts:[["class","d-flex justify-content-center align-items-center","style","height: 100vh",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"height","100vh"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["class","alert alert-dismissible alert-secondary d-flex justify-content-center align-items-center","style","\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: auto;\n    ","role","alert",4,"ngIf"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-dismissible","alert-secondary","d-flex","justify-content-center","align-items-center",2,"position","fixed","top","50%","left","50%","transform","translate(-50%, -50%)","width","auto"],["type","button","data-bs-dismiss","alert",1,"btn-close"],[1,"alert-link"],[1,"col-md-3"],[1,"card"],[1,"card-body"],[1,"col-md-8"],[1,"col-md-4"],[1,"card-title"],[1,"card-text"],[3,"userTaskAssignation"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"badge","bg-success"]],template:function(t,o){1&t&&(s.YNc(0,uh,4,0,"div",0),s.YNc(1,bh,4,2,"div",1)),2&t&&(s.Q6J("ngIf",o.isLoading),s.xp6(1),s.Q6J("ngIf",!o.isLoading))},dependencies:[I.sg,I.O5,fo]}),i})(),xh=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-assigned-tasks"]],decls:20,vars:0,consts:[["role","main"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link"],[1,"row"],["id","pills-tabContent",1,"tab-content"],["id","pills-home","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab",1,"tab-pane","fade"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"My Tasks"),s.qZA(),s.TgZ(5,"ul",4)(6,"li",5)(7,"button",6),s._uU(8," Incompleted tasks "),s.qZA()(),s.TgZ(9,"li",5)(10,"button",7),s._uU(11," Completed tasks "),s.qZA()()()()(),s.TgZ(12,"section",1)(13,"div",2)(14,"div",8)(15,"div",9)(16,"div",10),s._UZ(17,"app-my-incopleted-tasks"),s.qZA(),s.TgZ(18,"div",11),s._UZ(19,"app-my-completed-tasks"),s.qZA()()()()()())},dependencies:[hh,vh],styles:[".tab-content[_ngcontent-%COMP%]{border-color:#fff}"]}),i})(),yh=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-my-profile"]],decls:72,vars:0,consts:[["role","main",1,"jumbotron"],[1,"container"],[1,"row","gutters"],[1,"col-xl-3","col-lg-3","col-md-12","col-sm-12","col-12"],[1,"card","h-100"],[1,"card-header","text-center"],[1,"card-body"],[1,"account-settings"],[1,"user-profile"],[1,"user-avatar"],["src","../../../../assets/user.png","alt","Maxwell Admin"],[1,"user-name"],[1,"user-email"],[1,"about"],[1,"col-xl-9","col-lg-9","col-md-12","col-sm-12","col-12"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],[1,"mb-2"],[1,"col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],[1,"form-group"],["for","fullName"],["type","text","id","fullName","placeholder","Enter full name",1,"form-control"],["for","eMail"],["type","email","id","eMail","placeholder","Enter email ID",1,"form-control"],["for","phone"],["type","text","id","phone","placeholder","Enter phone number",1,"form-control"],["for","website"],["type","url","id","website","placeholder","Website url",1,"form-control"],["for","won"],["type","text","id","won","placeholder","Enter WON identifier",1,"form-control"],["for","employeeNumber"],["type","text","id","employeeNumber","placeholder","Enter employee number",1,"form-control"],[1,"text-right"],["type","button","id","submit","name","submit",1,"btn","btn-secondary"],["type","button","id","submit","name","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5"),s._uU(8,"About me"),s.qZA()(),s.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),s._UZ(13,"img",10),s.qZA(),s.TgZ(14,"h5",11),s._uU(15,"Yuki Hayashi"),s.qZA(),s.TgZ(16,"h6",12),s._uU(17,"myemail.com"),s.qZA()(),s.TgZ(18,"div",13)(19,"h5"),s._uU(20,"About"),s.qZA(),s.TgZ(21,"p"),s._uU(22," I'm Yuki. Full Stack Designer I enjoy creating user-centric, delightful and human experiences. "),s.qZA()()()()()(),s.TgZ(23,"div",14)(24,"div",4)(25,"div",5)(26,"h5"),s._uU(27,"Personal data"),s.qZA()(),s.TgZ(28,"div",6)(29,"div",2)(30,"div",15)(31,"h6",16)(32,"b"),s._uU(33,"Personal Details"),s.qZA()()(),s.TgZ(34,"div",17)(35,"div",18)(36,"label",19),s._uU(37,"Full Name"),s.qZA(),s._UZ(38,"input",20),s.qZA()(),s.TgZ(39,"div",17)(40,"div",18)(41,"label",21),s._uU(42,"Email"),s.qZA(),s._UZ(43,"input",22),s.qZA()(),s.TgZ(44,"div",17)(45,"div",18)(46,"label",23),s._uU(47,"Phone"),s.qZA(),s._UZ(48,"input",24),s.qZA()(),s.TgZ(49,"div",17)(50,"div",18)(51,"label",25),s._uU(52,"Website URL"),s.qZA(),s._UZ(53,"input",26),s.qZA()(),s.TgZ(54,"div",17)(55,"div",18)(56,"label",27),s._uU(57,"WON"),s.qZA(),s._UZ(58,"input",28),s.qZA()(),s.TgZ(59,"div",17)(60,"div",18)(61,"label",29),s._uU(62,"Employee Number"),s.qZA(),s._UZ(63,"input",30),s.qZA()()(),s._UZ(64,"br"),s.TgZ(65,"div",2)(66,"div",15)(67,"div",31)(68,"button",32),s._uU(69," Cancel "),s.qZA(),s.TgZ(70,"button",33),s._uU(71," Update "),s.qZA()()()()()()()()()()())},styles:[".account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{margin:0 0 1rem;padding-bottom:1rem;text-align:center}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{margin:0 0 1rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:100px}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h5.user-name[_ngcontent-%COMP%]{margin:0 0 .5rem}.account-settings[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   h6.user-email[_ngcontent-%COMP%]{margin:0;font-size:.8rem;font-weight:400;color:#9fa8b9}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{margin:2rem 0 0;text-align:center}.account-settings[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 15px}"]}),i})();function kh(n,i){if(1&n&&(s.TgZ(0,"option",27),s._uU(1),s.qZA()),2&n){const e=i.$implicit;s.Q6J("value",e.id),s.xp6(1),s.hij(" ",e.name," ")}}function Th(n,i){if(1&n&&(s.TgZ(0,"option",27),s._uU(1),s.qZA()),2&n){const e=i.$implicit;s.Q6J("value",e.id),s.xp6(1),s.AsE(" ",e.name," - ",e.priority," Priority ")}}function Ch(n,i){if(1&n&&(s.TgZ(0,"div",33)(1,"div",34)(2,"div",35),s._uU(3),s.qZA(),s.TgZ(4,"div")(5,"div",36),s._uU(6),s.qZA(),s.TgZ(7,"small",37),s._uU(8),s.qZA(),s._UZ(9,"br"),s.TgZ(10,"small",37),s._uU(11),s.qZA()()()()),2&n){const e=i.$implicit;s.xp6(3),s.hij(" ",e.name.charAt(0).toUpperCase()," "),s.xp6(3),s.Oqu(e.name),s.xp6(2),s.Oqu(e.email),s.xp6(3),s.AsE("WON: ",e.won||"N/A"," | Employee: ",e.employeeNumber||"N/A","")}}function Ah(n,i){if(1&n&&(s.TgZ(0,"div",8)(1,"h6"),s._UZ(2,"i",28),s._uU(3),s.qZA(),s.TgZ(4,"div",29)(5,"div",30)(6,"div",31),s.YNc(7,Ch,12,5,"div",32),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(3),s.hij(" Team Members (",e.projectMembers.length,") "),s.xp6(4),s.Q6J("ngForOf",e.projectMembers)}}function Sh(n,i){1&n&&(s.TgZ(0,"div",38)(1,"div",39)(2,"span",40),s._uU(3,"Loading team members..."),s.qZA()(),s.TgZ(4,"span",41),s._uU(5,"Loading team members..."),s.qZA()())}function wh(n,i){1&n&&(s.TgZ(0,"div",42),s._UZ(1,"i",43),s._uU(2," No team members found for this project. "),s.qZA())}function Mh(n,i){if(1&n&&(s.TgZ(0,"div",44)(1,"h6"),s._UZ(2,"i",45),s._uU(3," Assignment Summary"),s.qZA(),s.TgZ(4,"div",31)(5,"div",46)(6,"ul",47)(7,"li")(8,"strong"),s._uU(9,"Project:"),s.qZA(),s._uU(10),s.qZA(),s.TgZ(11,"li")(12,"strong"),s._uU(13,"Task:"),s.qZA(),s._uU(14),s.qZA()()(),s.TgZ(15,"div",46)(16,"ul",47)(17,"li")(18,"strong"),s._uU(19,"Team Members:"),s.qZA(),s._uU(20),s.qZA(),s.TgZ(21,"li")(22,"strong"),s._uU(23,"Priority:"),s.qZA(),s._uU(24),s.qZA()()()(),s._UZ(25,"hr",48),s.TgZ(26,"p",47)(27,"strong"),s._UZ(28,"i",49),s._uU(29," Action:"),s.qZA(),s._uU(30),s.qZA()()),2&n){const e=s.oxw();let t,o,r;s.xp6(10),s.hij(" ",(null==(t=e.getSelectedProject())?null:t.name)||"Project not found"," "),s.xp6(4),s.hij(" ",(null==(o=e.getSelectedTask())?null:o.name)||"Task not found"," "),s.xp6(6),s.hij(" ",e.projectMembers.length," members "),s.xp6(4),s.hij(" ",(null==(r=e.getSelectedTask())?null:r.priority)||"N/A"," "),s.xp6(6),s.hij(" The selected task will be assigned to all ",e.projectMembers.length," team members. ")}}function Dh(n,i){1&n&&s._UZ(0,"span",50)}function Ph(n,i){1&n&&s._UZ(0,"i",51)}let Ih=(()=>{var n;class i{constructor(t,o,r,a){this.taskService=t,this.projectAssignationService=o,this.taskAssignationService=r,this.administratorService=a,this.projects=[],this.taskAssigned=new s.vpe,this.selectedProjectId=null,this.selectedTaskId=null,this.availableTasks=[],this.projectMembers=[],this.loading=!1,this.submitting=!1}ngOnInit(){console.log("Modal initialized with projects:",this.projects),this.loadAllTasks()}loadAllTasks(){console.log("Loading all tasks..."),this.taskService.getTasks().subscribe({next:t=>{console.log("Tasks loaded:",t),this.availableTasks=t},error:t=>{console.error("Error loading tasks:",t)}})}onProjectChange(){console.log("Project changed to:",this.selectedProjectId),this.selectedProjectId&&"string"==typeof this.selectedProjectId&&(this.selectedProjectId=parseInt(this.selectedProjectId)),this.selectedProjectId?this.loadProjectMembers():this.projectMembers=[],this.selectedTaskId=null}onTaskChange(){this.selectedTaskId&&"string"==typeof this.selectedTaskId&&(this.selectedTaskId=parseInt(this.selectedTaskId))}loadProjectMembers(){var o,t=this;this.selectedProjectId&&(console.log("Loading members for project ID:",this.selectedProjectId),this.loading=!0,this.projectAssignationService.getAssignationsByProjectId(this.selectedProjectId).subscribe({next:(o=Ft(function*(r){console.log("Received assignations:",r),t.projectMembers=[];for(const a of r)try{let l=null;if(a.user&&a.user.id?(l=a.user.id,console.log("Standard format - User ID:",l)):a.id&&a.name&&(l=a.id,console.log("Direct format - User ID:",l,"Name:",a.name)),l){const c=yield t.getUserById(l);console.log("User loaded:",c),t.projectMembers.push(c)}}catch(l){console.error("Error loading user:",l)}console.log("Final project members:",t.projectMembers),t.loading=!1}),function(a){return o.apply(this,arguments)}),error:o=>{console.error("Error loading project members:",o),this.loading=!1}}))}getUserById(t){return new Promise((o,r)=>{this.administratorService.getAdministratorById(t.toString()).subscribe({next:a=>o(a),error:a=>r(a)})})}assignTaskToAllMembers(){if(!this.selectedProjectId||!this.selectedTaskId)return void k().fire("Error","Please select both a project and a task","error");if(0===this.projectMembers.length)return void k().fire("Error","No members found in the selected project","error");this.submitting=!0;const t=this.projectMembers.map(o=>{const r={id:0,user:{id:o.id},task:{id:this.selectedTaskId},completed:!1};return new Promise((a,l)=>{this.taskAssignationService.createAssignation(r).subscribe({next:()=>a(),error:c=>l(c)})})});Promise.all(t).then(()=>{this.submitting=!1,k().fire("Success!",`Task assigned to ${this.projectMembers.length} team members successfully!`,"success"),this.resetForm(),this.taskAssigned.emit();const o=document.getElementById("bulkTaskAssignModal");o&&window.bootstrap?.Modal?.getInstance(o)?.hide()}).catch(o=>{this.submitting=!1,console.error("Error assigning tasks:",o),k().fire("Error","Failed to assign task to some team members. Please try again.","error")})}resetForm(){this.selectedProjectId=null,this.selectedTaskId=null,this.projectMembers=[]}getSelectedProject(){if(console.log("Getting selected project. ID:",this.selectedProjectId,"Projects:",this.projects),!this.selectedProjectId)return null;const t=this.projects.find(o=>o.id===Number(this.selectedProjectId))||null;return console.log("Selected project found:",t),t}getSelectedTask(){if(console.log("Getting selected task. ID:",this.selectedTaskId,"Tasks:",this.availableTasks),!this.selectedTaskId)return null;const t=this.availableTasks.find(o=>o.id===Number(this.selectedTaskId))||null;return console.log("Selected task found:",t),t}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(pt),s.Y36(ce),s.Y36(Ut),s.Y36(Ot))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-bulk-task-assign-modal"]],inputs:{projects:"projects"},outputs:{taskAssigned:"taskAssigned"},standalone:!0,features:[s.jDz],decls:42,vars:13,consts:[["id","bulkTaskAssignModal","tabindex","-1","aria-labelledby","bulkTaskAssignModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-light"],["id","bulkTaskAssignModalLabel",1,"modal-title"],[1,"fa","fa-tasks"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close"],[1,"modal-body"],[1,"mb-4"],["for","projectSelect",1,"form-label"],[1,"fa","fa-project-diagram"],["id","projectSelect","name","projectSelect","required","",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-text"],["for","taskSelect",1,"form-label"],["id","taskSelect","name","taskSelect","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","mb-4",4,"ngIf"],["class","text-center mb-4",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-info",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-times"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["class","fa fa-check",4,"ngIf"],[3,"value"],[1,"fa","fa-users"],[1,"card","bg-light"],[1,"card-body"],[1,"row"],["class","col-md-6 mb-2",4,"ngFor","ngForOf"],[1,"col-md-6","mb-2"],[1,"d-flex","align-items-center"],[1,"avatar","bg-primary","text-white","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","28px","height","28px","font-size","12px"],[1,"fw-bold"],[1,"text-muted"],[1,"text-center","mb-4"],["role","status",1,"spinner-border","spinner-border-sm","text-primary"],[1,"visually-hidden"],[1,"ms-2"],[1,"alert","alert-warning"],[1,"fa","fa-exclamation-triangle"],[1,"alert","alert-info"],[1,"fa","fa-info-circle"],[1,"col-md-6"],[1,"mb-0"],[1,"my-2"],[1,"fa","fa-check-circle"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"fa","fa-check"]],template:function(t,o){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),s._UZ(5,"i",5),s._uU(6," Assign Task to Project Team "),s.qZA(),s._UZ(7,"button",6),s.qZA(),s.TgZ(8,"div",7)(9,"form")(10,"div",8)(11,"label",9),s._UZ(12,"i",10),s._uU(13," Select Project "),s.qZA(),s.TgZ(14,"select",11),s.NdJ("ngModelChange",function(a){return o.selectedProjectId=a})("ngModelChange",function(){return o.onProjectChange()}),s.TgZ(15,"option",12),s._uU(16,"Choose a project..."),s.qZA(),s.YNc(17,kh,2,2,"option",13),s.qZA(),s.TgZ(18,"div",14),s._uU(19," Select the project whose team members will receive the task. "),s.qZA()(),s.TgZ(20,"div",8)(21,"label",15),s._UZ(22,"i",5),s._uU(23," Select Task "),s.qZA(),s.TgZ(24,"select",16),s.NdJ("ngModelChange",function(a){return o.selectedTaskId=a})("ngModelChange",function(){return o.onTaskChange()}),s.TgZ(25,"option",12),s._uU(26,"Choose a task..."),s.qZA(),s.YNc(27,Th,2,3,"option",13),s.qZA(),s.TgZ(28,"div",14),s._uU(29," Select the task to assign to all team members. "),s.qZA()(),s.YNc(30,Ah,8,2,"div",17),s.YNc(31,Sh,6,0,"div",18),s.YNc(32,wh,3,0,"div",19),s.YNc(33,Mh,31,5,"div",20),s.qZA()(),s.TgZ(34,"div",21)(35,"button",22),s._UZ(36,"i",23),s._uU(37," Cancel "),s.qZA(),s.TgZ(38,"button",24),s.NdJ("click",function(){return o.assignTaskToAllMembers()}),s.YNc(39,Dh,1,0,"span",25),s.YNc(40,Ph,1,0,"i",26),s._uU(41),s.qZA()()()()()),2&t&&(s.xp6(14),s.Q6J("ngModel",o.selectedProjectId),s.xp6(3),s.Q6J("ngForOf",o.projects),s.xp6(7),s.Q6J("ngModel",o.selectedTaskId)("disabled",!o.selectedProjectId),s.xp6(3),s.Q6J("ngForOf",o.availableTasks),s.xp6(3),s.Q6J("ngIf",o.selectedProjectId&&o.projectMembers.length>0),s.xp6(1),s.Q6J("ngIf",o.loading&&o.selectedProjectId),s.xp6(1),s.Q6J("ngIf",o.selectedProjectId&&!o.loading&&0===o.projectMembers.length),s.xp6(1),s.Q6J("ngIf",o.selectedProjectId&&o.selectedTaskId&&o.projectMembers.length>0),s.xp6(5),s.Q6J("disabled",!o.selectedProjectId||!o.selectedTaskId||0===o.projectMembers.length||o.submitting),s.xp6(1),s.Q6J("ngIf",o.submitting),s.xp6(1),s.Q6J("ngIf",!o.submitting),s.xp6(1),s.hij(" ",o.submitting?"Assigning...":"Assign Task to Team"," "))},dependencies:[I.ez,I.sg,I.O5,m.u5,m._Y,m.YN,m.Kr,m.EJ,m.JJ,m.JL,m.Q7,m.On,m.F],styles:[".avatar[_ngcontent-%COMP%]{width:28px;height:28px;font-size:12px;font-weight:700}.modal-header.bg-primary[_ngcontent-%COMP%]{border-bottom:none}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057}.form-select[_ngcontent-%COMP%]:disabled{background-color:#f8f9fa;opacity:.7}.card.bg-light[_ngcontent-%COMP%]{border:1px solid #e9ecef}.alert[_ngcontent-%COMP%]{border-left:4px solid}.alert-info[_ngcontent-%COMP%]{border-left-color:#17a2b8}.alert-warning[_ngcontent-%COMP%]{border-left-color:#ffc107}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}.btn-close-white[_ngcontent-%COMP%]{filter:invert(1) grayscale(100%) brightness(200%)}.form-select[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-select[_ngcontent-%COMP%]:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem #007bff40}.form-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.card-body[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}.btn[_ngcontent-%COMP%]{border-radius:.375rem;font-weight:500}.btn[_ngcontent-%COMP%]:disabled{opacity:.65}.modal-dialog[_ngcontent-%COMP%]{margin:1.75rem auto}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026}@media (max-width: 768px){.modal-lg[_ngcontent-%COMP%]{max-width:95%}.modal-dialog[_ngcontent-%COMP%]{margin:.5rem}}"]}),i})();function Zh(n,i){1&n&&(s.TgZ(0,"div",15)(1,"div",16)(2,"span",17),s._uU(3,"Loading..."),s.qZA()(),s.TgZ(4,"p",18),s._uU(5,"Loading project data..."),s.qZA()())}function Oh(n,i){1&n&&(s.TgZ(0,"div",26),s._UZ(1,"i",27),s.TgZ(2,"h5",28),s._uU(3,"No projects found"),s.qZA(),s.TgZ(4,"p",28),s._uU(5," There are no projects available or you don't have access to any projects. "),s.qZA()())}function Eh(n,i){if(1&n){const e=s.EpF();s.TgZ(0,"div",30)(1,"div",31)(2,"div",23)(3,"h5",32),s._uU(4),s.qZA(),s.TgZ(5,"p",33),s._uU(6),s.qZA(),s.TgZ(7,"div",34)(8,"div",35)(9,"small",28),s._uU(10,"Overall Progress"),s.qZA(),s.TgZ(11,"span"),s._uU(12),s.qZA()(),s.TgZ(13,"div",36),s._UZ(14,"div",37),s.qZA(),s.TgZ(15,"small",28),s._uU(16),s.qZA()(),s.TgZ(17,"div",34),s._UZ(18,"i",38),s.TgZ(19,"span",39),s._uU(20),s.qZA()(),s.TgZ(21,"div",34)(22,"small",28),s._UZ(23,"i",40),s._uU(24),s.qZA()(),s.TgZ(25,"button",41),s.NdJ("click",function(){const r=s.CHM(e).$implicit,a=s.oxw(3);return s.KtG(a.selectProject(r))}),s._UZ(26,"i",42),s._uU(27," View Details "),s.qZA()()()()}if(2&n){const e=i.$implicit,t=s.oxw(3);s.xp6(4),s.hij(" ",e.project.name," "),s.xp6(2),s.hij(" ",e.project.description," "),s.xp6(5),s.Tol(t.getStatusBadgeClass(e.overallProgress)),s.xp6(1),s.hij(" ",t.getStatusText(e.overallProgress)," "),s.xp6(2),s.Tol(t.getProgressBarColor(e.overallProgress)),s.Udp("width",e.overallProgress,"%"),s.xp6(2),s.AsE(" ",e.totalCompletedTasks," / ",e.totalProjectTasks," tasks completed "),s.xp6(4),s.hij("",e.members.length," team members"),s.xp6(4),s.AsE(" ",e.project.startDate," - ",e.project.dueDate," ")}}function Uh(n,i){if(1&n&&(s.TgZ(0,"div",19),s.YNc(1,Eh,28,14,"div",29),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.projectsProgress)("ngForTrackBy",e.trackByProjectId)}}function Fh(n,i){if(1&n&&(s.TgZ(0,"section",2)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"h4"),s._uU(6,"Projects Overview"),s.qZA()(),s.TgZ(7,"div",23),s.YNc(8,Oh,6,0,"div",24),s.YNc(9,Uh,2,2,"div",25),s.qZA()()()()()),2&n){const e=s.oxw();s.xp6(8),s.Q6J("ngIf",0===e.projectsProgress.length),s.xp6(1),s.Q6J("ngIf",e.projectsProgress.length>0)}}function Lh(n,i){1&n&&(s.TgZ(0,"section",43)(1,"div",44),s._UZ(2,"i",45),s.TgZ(3,"h4"),s._uU(4,"No Projects Found"),s.qZA(),s.TgZ(5,"p"),s._uU(6,"There are no projects available to display."),s.qZA()()())}function Rh(n,i){if(1&n&&(s.TgZ(0,"tr")(1,"td")(2,"div",73)(3,"div",74),s._uU(4),s.qZA(),s.TgZ(5,"strong"),s._uU(6),s.qZA()()(),s.TgZ(7,"td")(8,"small",28),s._uU(9),s.qZA()(),s.TgZ(10,"td")(11,"small",28),s._uU(12),s.qZA()(),s.TgZ(13,"td")(14,"small",28),s._uU(15),s.qZA()(),s.TgZ(16,"td")(17,"span",75),s._uU(18),s.qZA()(),s.TgZ(19,"td")(20,"span",76),s._uU(21),s.qZA()(),s.TgZ(22,"td")(23,"div",77),s._UZ(24,"div",58),s.qZA(),s.TgZ(25,"small",28),s._uU(26),s.qZA()(),s.TgZ(27,"td")(28,"span"),s._uU(29),s.qZA()()()),2&n){const e=i.$implicit,t=s.oxw(2);s.xp6(4),s.hij(" ",t.getUserInitial(e.user)," "),s.xp6(2),s.Oqu(e.user.name||"Unknown User"),s.xp6(3),s.Oqu(e.user.email||"No email"),s.xp6(3),s.Oqu(e.user.won||"No WON"),s.xp6(3),s.Oqu(e.user.employeeNumber||"No employee number"),s.xp6(3),s.Oqu(t.getRoleName(e.user)),s.xp6(3),s.AsE(" ",e.completedTasks," / ",e.totalTasks," "),s.xp6(3),s.Tol(t.getProgressBarColor(e.progressPercentage)),s.Udp("width",e.progressPercentage,"%"),s.xp6(2),s.hij("",e.progressPercentage,"%"),s.xp6(2),s.Tol(t.getStatusBadgeClass(e.progressPercentage)),s.xp6(1),s.hij(" ",t.getStatusText(e.progressPercentage)," ")}}function jh(n,i){if(1&n&&(s.TgZ(0,"div",46)(1,"div",47)(2,"h5",48),s._UZ(3,"i",49),s._uU(4),s.qZA(),s._UZ(5,"button",50),s.qZA(),s.TgZ(6,"div",51)(7,"div",52)(8,"div",53)(9,"h6"),s._uU(10,"Project Description"),s.qZA(),s.TgZ(11,"p",28),s._uU(12),s.qZA()(),s.TgZ(13,"div",54)(14,"div",55)(15,"div",56)(16,"h3"),s._uU(17),s.qZA(),s.TgZ(18,"small",28),s._uU(19,"Overall Progress"),s.qZA(),s.TgZ(20,"div",57),s._UZ(21,"div",58),s.qZA()()()()(),s.TgZ(22,"h6"),s._UZ(23,"i",38),s._uU(24," Team Members Progress"),s.qZA(),s.TgZ(25,"div",59)(26,"table",60)(27,"thead",61)(28,"tr")(29,"th"),s._uU(30,"Member"),s.qZA(),s.TgZ(31,"th"),s._uU(32,"Email"),s.qZA(),s.TgZ(33,"th"),s._uU(34,"WON"),s.qZA(),s.TgZ(35,"th"),s._uU(36,"Employee Number"),s.qZA(),s.TgZ(37,"th"),s._uU(38,"Role"),s.qZA(),s.TgZ(39,"th"),s._uU(40,"Tasks"),s.qZA(),s.TgZ(41,"th"),s._uU(42,"Progress"),s.qZA(),s.TgZ(43,"th"),s._uU(44,"Status"),s.qZA()()(),s.TgZ(45,"tbody"),s.YNc(46,Rh,30,16,"tr",62),s.qZA()()(),s.TgZ(47,"div",63)(48,"div",64)(49,"div",65)(50,"div",23)(51,"h4"),s._uU(52),s.qZA(),s.TgZ(53,"small"),s._uU(54,"Team Members"),s.qZA()()()(),s.TgZ(55,"div",64)(56,"div",66)(57,"div",23)(58,"h4"),s._uU(59),s.qZA(),s.TgZ(60,"small"),s._uU(61,"Total Tasks"),s.qZA()()()(),s.TgZ(62,"div",64)(63,"div",67)(64,"div",23)(65,"h4"),s._uU(66),s.qZA(),s.TgZ(67,"small"),s._uU(68,"Completed"),s.qZA()()()(),s.TgZ(69,"div",64)(70,"div",68)(71,"div",23)(72,"h4"),s._uU(73),s.qZA(),s.TgZ(74,"small"),s._uU(75,"Pending"),s.qZA()()()()()(),s.TgZ(76,"div",69)(77,"button",70),s._uU(78," Close "),s.qZA(),s.TgZ(79,"button",71),s._UZ(80,"i",72),s._uU(81," Assign New Task "),s.qZA()()()),2&n){const e=s.oxw();s.xp6(4),s.hij(" ",e.selectedProject.project.name," "),s.xp6(8),s.Oqu(e.selectedProject.project.description),s.xp6(4),s.Tol(e.getStatusBadgeClass(e.selectedProject.overallProgress)),s.xp6(1),s.hij(" ",e.selectedProject.overallProgress,"% "),s.xp6(4),s.Tol(e.getProgressBarColor(e.selectedProject.overallProgress)),s.Udp("width",e.selectedProject.overallProgress,"%"),s.xp6(25),s.Q6J("ngForOf",e.selectedProject.members)("ngForTrackBy",e.trackByMemberId),s.xp6(6),s.Oqu(e.selectedProject.members.length),s.xp6(7),s.Oqu(e.selectedProject.totalProjectTasks),s.xp6(7),s.Oqu(e.selectedProject.totalCompletedTasks),s.xp6(7),s.hij(" ",e.selectedProject.totalProjectTasks-e.selectedProject.totalCompletedTasks," ")}}let Nh=(()=>{var n;class i{constructor(t,o,r,a,l,c){this.projectService=t,this.projectAssignationService=o,this.taskAssignationService=r,this.administratorService=a,this.taskService=l,this.cdr=c,this.projects=[],this.projectsProgress=[],this.loading=!1,this.selectedProject=null}ngOnInit(){this.loadProjectsWithProgress()}loadProjectsWithProgress(){var t=this;return Ft(function*(){t.loading=!0,t.projectsProgress=[],t.cdr.detectChanges();try{t.projectService.getProjects().subscribe({next:(o=Ft(function*(r){if(t.projects=r,!r||0===r.length)return t.loading=!1,void t.cdr.detectChanges();for(let a=0;a<r.length;a++){const l=r[a];try{const c=yield t.getProjectProgress(l);t.projectsProgress.push(c),t.cdr.markForCheck(),t.cdr.detectChanges()}catch(c){console.error(`Error processing project ${l.name}:`,c),t.projectsProgress.push({project:l,members:[],totalProjectTasks:0,totalCompletedTasks:0,overallProgress:0}),t.cdr.detectChanges()}}t.loading=!1,t.cdr.detectChanges()}),function(a){return o.apply(this,arguments)}),error:o=>{console.error("Error loading projects:",o),t.loading=!1,t.cdr.detectChanges()}})}catch(o){console.error("Error in loadProjectsWithProgress:",o),t.loading=!1,t.cdr.detectChanges()}var o})()}getProjectProgress(t){var o=this;return Ft(function*(){return new Promise(r=>{var a;o.projectAssignationService.getAssignationsByProjectId(t.id).subscribe({next:(a=Ft(function*(l){if(!l||0===l.length)return void r({project:t,members:[],totalProjectTasks:0,totalCompletedTasks:0,overallProgress:0});const c=[];let d=0,h=0;for(let p=0;p<l.length;p++){const g=l[p];let _=null;if(g&&g.user&&g.user.id)_=g.user.id;else{if(!(g&&g.id&&g.name))continue;_=g.id}if(_)try{const b=yield o.getMemberProgress(_);c.push(b),d+=b.totalTasks,h+=b.completedTasks}catch(b){console.error("Error getting member progress for user:",_,b)}}const u=d>0?Math.round(h/d*100):0;r({project:t,members:c,totalProjectTasks:d,totalCompletedTasks:h,overallProgress:u})}),function(c){return a.apply(this,arguments)}),error:a=>{console.error(`Error getting project assignations for project: ${t.name}`,a),r({project:t,members:[],totalProjectTasks:0,totalCompletedTasks:0,overallProgress:0})}})})})()}getMemberProgress(t){var o=this;return Ft(function*(){return new Promise(r=>{t&&!isNaN(t)?o.administratorService.getAdministratorById(t.toString()).subscribe({next:a=>{if(!a)return void r({user:{id:t,name:"User Not Found",email:"",role:{id:0,name:"Unknown"}},totalTasks:0,completedTasks:0,progressPercentage:0});const l={...a,role:a.role?{id:a.role.id||0,name:a.role.name||"User"}:{id:0,name:"User"}};o.taskAssignationService.getTaskAssignationByUserId(t).subscribe({next:c=>{const d=c.filter(p=>p&&"boolean"==typeof p.completed),h=d.length,u=d.filter(p=>p.completed).length,f=h>0?Math.round(u/h*100):0;r({user:l,totalTasks:h,completedTasks:u,progressPercentage:f})},error:c=>{console.error("Error getting task assignations for user:",t,c),r({user:l,totalTasks:0,completedTasks:0,progressPercentage:0})}})},error:a=>{console.error("Error getting user:",t,a),r({user:{id:t,name:"Unknown User",email:"",role:{id:0,name:"User"}},totalTasks:0,completedTasks:0,progressPercentage:0})}}):r({user:{id:0,name:"Invalid User"},totalTasks:0,completedTasks:0,progressPercentage:0})})})()}selectProject(t){this.selectedProject=t}getProgressBarColor(t){return t>=80?"bg-success":t>=50?"bg-warning":"bg-danger"}getStatusBadgeClass(t){return t>=80?"badge bg-success":t>=50?"badge bg-warning":"badge bg-danger"}getStatusText(t){return t>=80?"Excellent":t>=50?"In Progress":"Needs Attention"}getRoleName(t){return t&&t.role&&t.role.name||"User"}getUserInitial(t){return t&&t.name?t.name.charAt(0).toUpperCase():"?"}trackByProjectId(t,o){return o.project.id}trackByMemberId(t,o){return o.user?.id||t}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Jt),s.Y36(ce),s.Y36(Ut),s.Y36(Ot),s.Y36(pt),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-project-members"]],standalone:!0,features:[s.jDz],decls:19,vars:5,consts:[["role","main",1,"jumbotron"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"lead","text-muted"],["data-bs-toggle","modal","data-bs-target","#bulkTaskAssignModal",1,"btn","btn-warning","btn-lg"],[1,"fa","fa-link"],["class","text-center mt-4",4,"ngIf"],["class","container",4,"ngIf"],["class","container text-center",4,"ngIf"],["id","projectDetailsModal","tabindex","-1","aria-labelledby","projectDetailsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],["class","modal-content",4,"ngIf"],[3,"projects","taskAssigned"],[1,"mb-5"],[1,"text-center","mt-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"row"],[1,"col-12"],[1,"card","mb-4"],[1,"card-header","text-center"],[1,"card-body"],["class","text-center py-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center","py-5"],[1,"fa","fa-folder-open","fa-3x","text-muted","mb-3"],[1,"text-muted"],["class","col-lg-4 col-md-6 mb-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-lg-4","col-md-6","mb-4"],[1,"card","card-animation","h-100"],[1,"card-title"],[1,"card-text","text-muted"],[1,"mb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-1"],[1,"progress",2,"height","8px"],["role","progressbar",1,"progress-bar"],[1,"fa","fa-users"],[1,"ms-2"],[1,"fa","fa-calendar"],["data-bs-toggle","modal","data-bs-target","#projectDetailsModal",1,"btn","btn-primary","btn-sm","w-100",3,"click"],[1,"fa","fa-eye"],[1,"container","text-center"],[1,"alert","alert-info"],[1,"fa","fa-info-circle","fa-2x","mb-3"],[1,"modal-content"],[1,"modal-header"],["id","projectDetailsModalLabel",1,"modal-title"],[1,"fa","fa-project-diagram"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","mb-4"],[1,"col-md-8"],[1,"col-md-4"],[1,"card","bg-light"],[1,"card-body","text-center"],[1,"progress","mt-2",2,"height","6px"],[1,"progress-bar"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mt-4"],[1,"col-md-3"],[1,"card","bg-primary","text-white","text-center"],[1,"card","bg-info","text-white","text-center"],[1,"card","bg-success","text-white","text-center"],[1,"card","bg-warning","text-white","text-center"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal","data-bs-toggle","modal","data-bs-target","#bulkTaskAssignModal",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"d-flex","align-items-center"],[1,"avatar","bg-primary","text-white","rounded-circle","me-2","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px","font-size","14px"],[1,"badge","bg-secondary"],[1,"badge","bg-info"],[1,"progress",2,"height","6px","width","100px"]],template:function(t,o){1&t&&(s.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),s._uU(4,"Project Members & Progress"),s.qZA(),s.TgZ(5,"p",4),s._uU(6," Monitor team members and track progress for each project "),s.qZA(),s.TgZ(7,"button",5),s._UZ(8,"i",6),s._uU(9," Assign Task to Project Team "),s.qZA()()(),s._UZ(10,"br"),s.YNc(11,Zh,6,0,"div",7),s.YNc(12,Fh,10,2,"section",8),s.YNc(13,Lh,7,0,"section",9),s.qZA(),s.TgZ(14,"div",10)(15,"div",11),s.YNc(16,jh,82,15,"div",12),s.qZA()(),s.TgZ(17,"app-bulk-task-assign-modal",13),s.NdJ("taskAssigned",function(){return o.loadProjectsWithProgress()}),s.qZA(),s._UZ(18,"div",14)),2&t&&(s.xp6(11),s.Q6J("ngIf",o.loading),s.xp6(1),s.Q6J("ngIf",!o.loading),s.xp6(1),s.Q6J("ngIf",!o.loading&&0===o.projectsProgress.length),s.xp6(3),s.Q6J("ngIf",o.selectedProject),s.xp6(1),s.Q6J("projects",o.projects))},dependencies:[I.ez,I.sg,I.O5,m.u5,Ih],styles:[".avatar[_ngcontent-%COMP%]{width:32px;height:32px;font-size:14px;font-weight:700}.progress[_ngcontent-%COMP%]{background-color:#e9ecef}.card-animation[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.card-animation[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none;font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.badge[_ngcontent-%COMP%]{font-size:.75rem}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.lead[_ngcontent-%COMP%]{font-size:1.125rem}.progress-bar[_ngcontent-%COMP%]{transition:width .6s ease}.card-body[_ngcontent-%COMP%]{position:relative}.card-title[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.modal-xl[_ngcontent-%COMP%]{max-width:90%}.modal-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #dee2e6}.modal-title[_ngcontent-%COMP%]{color:#495057;font-weight:600}.avatar[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.card.bg-primary[_ngcontent-%COMP%], .card.bg-info[_ngcontent-%COMP%], .card.bg-success[_ngcontent-%COMP%], .card.bg-warning[_ngcontent-%COMP%]{border:none;box-shadow:0 2px 4px #0000001a}@media (max-width: 768px){.modal-xl[_ngcontent-%COMP%]{max-width:95%}.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.jumbotron-heading[_ngcontent-%COMP%]{font-size:2rem}}"]}),i})(),st=(()=>{var n;class i{constructor(t,o){this.authService=t,this.router=o}canActivate(t,o){return console.log(o.url),this.validateUserRoleAccess(o.url)}canLoad(t,o){return this.validateUserRoleAccess(o.url)}validateUserRoleAccess(t){return this.authService.havePermission(t).pipe((0,Rs.b)(o=>{console.log("recibido: "+o),o||k().fire({title:"Denied Operation",text:"You do not have access for this module",icon:"warning",confirmButtonText:"Ok"}).then(r=>{this.router.navigateByUrl("/dashboard/home")})}))}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(Gt.e),s.LFG(rt.F0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();function St(){}const Bh=function(){let n=0;return function(){return n++}}();function N(n){return null===n||typeof n>"u"}function V(n){if(Array.isArray&&Array.isArray(n))return!0;const i=Object.prototype.toString.call(n);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function F(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const Q=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function gt(n,i){return Q(n)?n:i}function E(n,i){return typeof n>"u"?i:n}const po=(n,i)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*i:+n;function Y(n,i,e){if(n&&"function"==typeof n.call)return n.apply(e,i)}function z(n,i,e,t){let o,r,a;if(V(n))if(r=n.length,t)for(o=r-1;o>=0;o--)i.call(e,n[o],o);else for(o=0;o<r;o++)i.call(e,n[o],o);else if(F(n))for(a=Object.keys(n),r=a.length,o=0;o<r;o++)i.call(e,n[a[o]],a[o])}function mi(n,i){let e,t,o,r;if(!n||!i||n.length!==i.length)return!1;for(e=0,t=n.length;e<t;++e)if(o=n[e],r=i[e],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function _i(n){if(V(n))return n.map(_i);if(F(n)){const i=Object.create(null),e=Object.keys(n),t=e.length;let o=0;for(;o<t;++o)i[e[o]]=_i(n[e[o]]);return i}return n}function go(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function zh(n,i,e,t){if(!go(n))return;const o=i[n],r=e[n];F(o)&&F(r)?Ze(o,r,t):i[n]=_i(r)}function Ze(n,i,e){const t=V(i)?i:[i],o=t.length;if(!F(n))return n;const r=(e=e||{}).merger||zh;for(let a=0;a<o;++a){if(!F(i=t[a]))continue;const l=Object.keys(i);for(let c=0,d=l.length;c<d;++c)r(l[c],n,i,e)}return n}function Oe(n,i){return Ze(n,i,{merger:Hh})}function Hh(n,i,e){if(!go(n))return;const t=i[n],o=e[n];F(t)&&F(o)?Oe(t,o):Object.prototype.hasOwnProperty.call(i,n)||(i[n]=_i(o))}const mo={"":n=>n,x:n=>n.x,y:n=>n.y};function Rt(n,i){return(mo[i]||(mo[i]=function Vh(n){const i=function Yh(n){const i=n.split("."),e=[];let t="";for(const o of i)t+=o,t.endsWith("\\")?t=t.slice(0,-1)+".":(e.push(t),t="");return e}(n);return e=>{for(const t of i){if(""===t)break;e=e&&e[t]}return e}}(i)))(n)}function mn(n){return n.charAt(0).toUpperCase()+n.slice(1)}const mt=n=>typeof n<"u",jt=n=>"function"==typeof n,_o=(n,i)=>{if(n.size!==i.size)return!1;for(const e of n)if(!i.has(e))return!1;return!0},G=Math.PI,H=2*G,Jh=H+G,bi=Number.POSITIVE_INFINITY,Kh=G/180,$=G/2,Ee=G/4,bo=2*G/3,_t=Math.log10,yt=Math.sign;function vo(n){const i=Math.round(n);n=Ue(n,i,n/1e3)?i:n;const e=Math.pow(10,Math.floor(_t(n))),t=n/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function fe(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Ue(n,i,e){return Math.abs(n-i)<e}function xo(n,i,e){let t,o,r;for(t=0,o=n.length;t<o;t++)r=n[t][e],isNaN(r)||(i.min=Math.min(i.min,r),i.max=Math.max(i.max,r))}function vt(n){return n*(G/180)}function _n(n){return n*(180/G)}function yo(n){if(!Q(n))return;let i=1,e=0;for(;Math.round(n*i)/i!==n;)i*=10,e++;return e}function ko(n,i){const e=i.x-n.x,t=i.y-n.y,o=Math.sqrt(e*e+t*t);let r=Math.atan2(t,e);return r<-.5*G&&(r+=H),{angle:r,distance:o}}function bn(n,i){return Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2))}function Qh(n,i){return(n-i+Jh)%H-G}function ft(n){return(n%H+H)%H}function Fe(n,i,e,t){const o=ft(n),r=ft(i),a=ft(e),l=ft(r-o),c=ft(a-o),d=ft(o-r),h=ft(o-a);return o===r||o===a||t&&r===a||l>c&&d<h}function ot(n,i,e){return Math.max(i,Math.min(e,n))}function wt(n,i,e,t=1e-6){return n>=Math.min(i,e)-t&&n<=Math.max(i,e)+t}function vn(n,i,e){e=e||(a=>n[a]<i);let r,t=n.length-1,o=0;for(;t-o>1;)r=o+t>>1,e(r)?o=r:t=r;return{lo:o,hi:t}}const Mt=(n,i,e,t)=>vn(n,e,t?o=>n[o][i]<=e:o=>n[o][i]<e),tu=(n,i,e)=>vn(n,e,t=>n[t][i]>=e),To=["push","pop","shift","splice","unshift"];function Co(n,i){const e=n._chartjs;if(!e)return;const t=e.listeners,o=t.indexOf(i);-1!==o&&t.splice(o,1),!(t.length>0)&&(To.forEach(r=>{delete n[r]}),delete n._chartjs)}function Ao(n){const i=new Set;let e,t;for(e=0,t=n.length;e<t;++e)i.add(n[e]);return i.size===t?n:Array.from(i)}const So=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function wo(n,i,e){const t=e||(a=>Array.prototype.slice.call(a));let o=!1,r=[];return function(...a){r=t(a),o||(o=!0,So.call(window,()=>{o=!1,n.apply(i,r)}))}}const xn=n=>"start"===n?"left":"end"===n?"right":"center",at=(n,i,e)=>"start"===n?i:"end"===n?e:(i+e)/2;function Mo(n,i,e){const t=i.length;let o=0,r=t;if(n._sorted){const{iScale:a,_parsed:l}=n,c=a.axis,{min:d,max:h,minDefined:u,maxDefined:f}=a.getUserBounds();u&&(o=ot(Math.min(Mt(l,a.axis,d).lo,e?t:Mt(i,c,a.getPixelForValue(d)).lo),0,t-1)),r=f?ot(Math.max(Mt(l,a.axis,h,!0).hi+1,e?0:Mt(i,c,a.getPixelForValue(h),!0).hi+1),o,t)-o:t-o}return{start:o,count:r}}function Do(n){const{xScale:i,yScale:e,_scaleRanges:t}=n,o={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!t)return n._scaleRanges=o,!0;const r=t.xmin!==i.min||t.xmax!==i.max||t.ymin!==e.min||t.ymax!==e.max;return Object.assign(t,o),r}const vi=n=>0===n||1===n,Po=(n,i,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-i)*H/e),Io=(n,i,e)=>Math.pow(2,-10*n)*Math.sin((n-i)*H/e)+1,Le={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*$),easeOutSine:n=>Math.sin(n*$),easeInOutSine:n=>-.5*(Math.cos(G*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>vi(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>vi(n)?n:Po(n,.075,.3),easeOutElastic:n=>vi(n)?n:Io(n,.075,.3),easeInOutElastic:n=>vi(n)?n:n<.5?.5*Po(2*n,.1125,.45):.5+.5*Io(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let i=1.70158;return(n/=.5)<1?n*n*((1+(i*=1.525))*n-i)*.5:.5*((n-=2)*n*((1+(i*=1.525))*n+i)+2)},easeInBounce:n=>1-Le.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Le.easeInBounce(2*n):.5*Le.easeOutBounce(2*n-1)+.5};function Re(n){return n+.5|0}const Nt=(n,i,e)=>Math.max(Math.min(n,e),i);function je(n){return Nt(Re(2.55*n),0,255)}function Bt(n){return Nt(Re(255*n),0,255)}function Dt(n){return Nt(Re(n/2.55)/100,0,1)}function Zo(n){return Nt(Re(100*n),0,100)}const bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yn=[..."0123456789ABCDEF"],ou=n=>yn[15&n],ru=n=>yn[(240&n)>>4]+yn[15&n],xi=n=>(240&n)>>4==(15&n);const hu=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Oo(n,i,e){const t=i*Math.min(e,1-e),o=(r,a=(r+n/30)%12)=>e-t*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function uu(n,i,e){const t=(o,r=(o+n/60)%6)=>e-e*i*Math.max(Math.min(r,4-r,1),0);return[t(5),t(3),t(1)]}function fu(n,i,e){const t=Oo(n,1,.5);let o;for(i+e>1&&(o=1/(i+e),i*=o,e*=o),o=0;o<3;o++)t[o]*=1-i-e,t[o]+=i;return t}function kn(n){const e=n.r/255,t=n.g/255,o=n.b/255,r=Math.max(e,t,o),a=Math.min(e,t,o),l=(r+a)/2;let c,d,h;return r!==a&&(h=r-a,d=l>.5?h/(2-r-a):h/(r+a),c=function pu(n,i,e,t,o){return n===o?(i-e)/t+(i<e?6:0):i===o?(e-n)/t+2:(n-i)/t+4}(e,t,o,h,r),c=60*c+.5),[0|c,d||0,l]}function Tn(n,i,e,t){return(Array.isArray(i)?n(i[0],i[1],i[2]):n(i,e,t)).map(Bt)}function Cn(n,i,e){return Tn(Oo,n,i,e)}function Eo(n){return(n%360+360)%360}const Uo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let yi;const ku=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,An=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,pe=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ki(n,i,e){if(n){let t=kn(n);t[i]=Math.max(0,Math.min(t[i]+t[i]*e,0===i?360:1)),t=Cn(t),n.r=t[0],n.g=t[1],n.b=t[2]}}function Lo(n,i){return n&&Object.assign(i||{},n)}function Ro(n){var i={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(i={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(i.a=Bt(n[3]))):(i=Lo(n,{r:0,g:0,b:0,a:1})).a=Bt(i.a),i}function Su(n){return"r"===n.charAt(0)?function Tu(n){const i=ku.exec(n);let t,o,r,e=255;if(i){if(i[7]!==t){const a=+i[7];e=i[8]?je(a):Nt(255*a,0,255)}return t=+i[1],o=+i[3],r=+i[5],t=255&(i[2]?je(t):Nt(t,0,255)),o=255&(i[4]?je(o):Nt(o,0,255)),r=255&(i[6]?je(r):Nt(r,0,255)),{r:t,g:o,b:r,a:e}}}(n):function _u(n){const i=hu.exec(n);let t,e=255;if(!i)return;i[5]!==t&&(e=i[6]?je(+i[5]):Bt(+i[5]));const o=Eo(+i[2]),r=+i[3]/100,a=+i[4]/100;return t="hwb"===i[1]?function gu(n,i,e){return Tn(fu,n,i,e)}(o,r,a):"hsv"===i[1]?function mu(n,i,e){return Tn(uu,n,i,e)}(o,r,a):Cn(o,r,a),{r:t[0],g:t[1],b:t[2],a:e}}(n)}class Ti{constructor(i){if(i instanceof Ti)return i;const e=typeof i;let t;"object"===e?t=Ro(i):"string"===e&&(t=function lu(n){var e,i=n.length;return"#"===n[0]&&(4===i||5===i?e={r:255&17*bt[n[1]],g:255&17*bt[n[2]],b:255&17*bt[n[3]],a:5===i?17*bt[n[4]]:255}:(7===i||9===i)&&(e={r:bt[n[1]]<<4|bt[n[2]],g:bt[n[3]]<<4|bt[n[4]],b:bt[n[5]]<<4|bt[n[6]],a:9===i?bt[n[7]]<<4|bt[n[8]]:255})),e}(i)||function yu(n){yi||(yi=function xu(){const n={},i=Object.keys(Fo),e=Object.keys(Uo);let t,o,r,a,l;for(t=0;t<i.length;t++){for(a=l=i[t],o=0;o<e.length;o++)r=e[o],l=l.replace(r,Uo[r]);r=parseInt(Fo[a],16),n[l]=[r>>16&255,r>>8&255,255&r]}return n}(),yi.transparent=[0,0,0,0]);const i=yi[n.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||Su(i)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var i=Lo(this._rgb);return i&&(i.a=Dt(i.a)),i}set rgb(i){this._rgb=Ro(i)}rgbString(){return this._valid?function Cu(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Dt(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function du(n){var i=(n=>xi(n.r)&&xi(n.g)&&xi(n.b)&&xi(n.a))(n)?ou:ru;return n?"#"+i(n.r)+i(n.g)+i(n.b)+((n,i)=>n<255?i(n):"")(n.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function vu(n){if(!n)return;const i=kn(n),e=i[0],t=Zo(i[1]),o=Zo(i[2]);return n.a<255?`hsla(${e}, ${t}%, ${o}%, ${Dt(n.a)})`:`hsl(${e}, ${t}%, ${o}%)`}(this._rgb):void 0}mix(i,e){if(i){const t=this.rgb,o=i.rgb;let r;const a=e===r?.5:e,l=2*a-1,c=t.a-o.a,d=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;r=1-d,t.r=255&d*t.r+r*o.r+.5,t.g=255&d*t.g+r*o.g+.5,t.b=255&d*t.b+r*o.b+.5,t.a=a*t.a+(1-a)*o.a,this.rgb=t}return this}interpolate(i,e){return i&&(this._rgb=function Au(n,i,e){const t=pe(Dt(n.r)),o=pe(Dt(n.g)),r=pe(Dt(n.b));return{r:Bt(An(t+e*(pe(Dt(i.r))-t))),g:Bt(An(o+e*(pe(Dt(i.g))-o))),b:Bt(An(r+e*(pe(Dt(i.b))-r))),a:n.a+e*(i.a-n.a)}}(this._rgb,i._rgb,e)),this}clone(){return new Ti(this.rgb)}alpha(i){return this._rgb.a=Bt(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=Re(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return ki(this._rgb,2,i),this}darken(i){return ki(this._rgb,2,-i),this}saturate(i){return ki(this._rgb,1,i),this}desaturate(i){return ki(this._rgb,1,-i),this}rotate(i){return function bu(n,i){var e=kn(n);e[0]=Eo(e[0]+i),e=Cn(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,i),this}}function jo(n){return new Ti(n)}function No(n){if(n&&"object"==typeof n){const i=n.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function Bo(n){return No(n)?n:jo(n)}function Sn(n){return No(n)?n:jo(n).saturate(.5).darken(.1).hexString()}const Qt=Object.create(null),wn=Object.create(null);function Ne(n,i){if(!i)return n;const e=i.split(".");for(let t=0,o=e.length;t<o;++t){const r=e[t];n=n[r]||(n[r]=Object.create(null))}return n}function Mn(n,i,e){return"string"==typeof i?Ze(Ne(n,i),e):Ze(Ne(n,""),i)}var L=new class wu{constructor(i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Sn(t.backgroundColor),this.hoverBorderColor=(e,t)=>Sn(t.borderColor),this.hoverColor=(e,t)=>Sn(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i)}set(i,e){return Mn(this,i,e)}get(i){return Ne(this,i)}describe(i,e){return Mn(wn,i,e)}override(i,e){return Mn(Qt,i,e)}route(i,e,t,o){const r=Ne(this,i),a=Ne(this,t),l="_"+e;Object.defineProperties(r,{[l]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[l],d=a[o];return F(c)?Object.assign({},d,c):E(c,d)},set(c){this[l]=c}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Ci(n,i,e,t,o){let r=i[o];return r||(r=i[o]=n.measureText(o).width,e.push(o)),r>t&&(t=r),t}function Du(n,i,e,t){let o=(t=t||{}).data=t.data||{},r=t.garbageCollect=t.garbageCollect||[];t.font!==i&&(o=t.data={},r=t.garbageCollect=[],t.font=i),n.save(),n.font=i;let a=0;const l=e.length;let c,d,h,u,f;for(c=0;c<l;c++)if(u=e[c],null!=u&&!0!==V(u))a=Ci(n,o,r,a,u);else if(V(u))for(d=0,h=u.length;d<h;d++)f=u[d],null!=f&&!V(f)&&(a=Ci(n,o,r,a,f));n.restore();const p=r.length/2;if(p>e.length){for(c=0;c<p;c++)delete o[r[c]];r.splice(0,p)}return a}function Xt(n,i,e){const t=n.currentDevicePixelRatio,o=0!==e?Math.max(e/2,.5):0;return Math.round((i-o)*t)/t+o}function qo(n,i){(i=i||n.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,n.width,n.height),i.restore()}function Dn(n,i,e,t){zo(n,i,e,t,null)}function zo(n,i,e,t,o){let r,a,l,c,d,h;const u=i.pointStyle,f=i.rotation,p=i.radius;let g=(f||0)*Kh;if(u&&"object"==typeof u&&(r=u.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,t),n.rotate(g),n.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void n.restore();if(!(isNaN(p)||p<=0)){switch(n.beginPath(),u){default:o?n.ellipse(e,t,o/2,p,0,0,H):n.arc(e,t,p,0,H),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(g)*p,t-Math.cos(g)*p),g+=bo,n.lineTo(e+Math.sin(g)*p,t-Math.cos(g)*p),g+=bo,n.lineTo(e+Math.sin(g)*p,t-Math.cos(g)*p),n.closePath();break;case"rectRounded":d=.516*p,c=p-d,a=Math.cos(g+Ee)*c,l=Math.sin(g+Ee)*c,n.arc(e-a,t-l,d,g-G,g-$),n.arc(e+l,t-a,d,g-$,g),n.arc(e+a,t+l,d,g,g+$),n.arc(e-l,t+a,d,g+$,g+G),n.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*p,h=o?o/2:c,n.rect(e-h,t-c,2*h,2*c);break}g+=Ee;case"rectRot":a=Math.cos(g)*p,l=Math.sin(g)*p,n.moveTo(e-a,t-l),n.lineTo(e+l,t-a),n.lineTo(e+a,t+l),n.lineTo(e-l,t+a),n.closePath();break;case"crossRot":g+=Ee;case"cross":a=Math.cos(g)*p,l=Math.sin(g)*p,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"star":a=Math.cos(g)*p,l=Math.sin(g)*p,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a),g+=Ee,a=Math.cos(g)*p,l=Math.sin(g)*p,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l),n.moveTo(e+l,t-a),n.lineTo(e-l,t+a);break;case"line":a=o?o/2:Math.cos(g)*p,l=Math.sin(g)*p,n.moveTo(e-a,t-l),n.lineTo(e+a,t+l);break;case"dash":n.moveTo(e,t),n.lineTo(e+Math.cos(g)*p,t+Math.sin(g)*p)}n.fill(),i.borderWidth>0&&n.stroke()}}function Be(n,i,e){return e=e||.5,!i||n&&n.x>i.left-e&&n.x<i.right+e&&n.y>i.top-e&&n.y<i.bottom+e}function Ai(n,i){n.save(),n.beginPath(),n.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),n.clip()}function Si(n){n.restore()}function Pu(n,i,e,t,o){if(!i)return n.lineTo(e.x,e.y);if("middle"===o){const r=(i.x+e.x)/2;n.lineTo(r,i.y),n.lineTo(r,e.y)}else"after"===o!=!!t?n.lineTo(i.x,e.y):n.lineTo(e.x,i.y);n.lineTo(e.x,e.y)}function Iu(n,i,e,t){if(!i)return n.lineTo(e.x,e.y);n.bezierCurveTo(t?i.cp1x:i.cp2x,t?i.cp1y:i.cp2y,t?e.cp2x:e.cp1x,t?e.cp2y:e.cp1y,e.x,e.y)}function te(n,i,e,t,o,r={}){const a=V(i)?i:[i],l=r.strokeWidth>0&&""!==r.strokeColor;let c,d;for(n.save(),n.font=o.string,function Zu(n,i){i.translation&&n.translate(i.translation[0],i.translation[1]),N(i.rotation)||n.rotate(i.rotation),i.color&&(n.fillStyle=i.color),i.textAlign&&(n.textAlign=i.textAlign),i.textBaseline&&(n.textBaseline=i.textBaseline)}(n,r),c=0;c<a.length;++c)d=a[c],l&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),N(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(d,e,t,r.maxWidth)),n.fillText(d,e,t,r.maxWidth),Ou(n,e,t,d,r),t+=o.lineHeight;n.restore()}function Ou(n,i,e,t,o){if(o.strikethrough||o.underline){const r=n.measureText(t),a=i-r.actualBoundingBoxLeft,l=i+r.actualBoundingBoxRight,d=e+r.actualBoundingBoxDescent,h=o.strikethrough?(e-r.actualBoundingBoxAscent+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(a,h),n.lineTo(l,h),n.stroke()}}function qe(n,i){const{x:e,y:t,w:o,h:r,radius:a}=i;n.arc(e+a.topLeft,t+a.topLeft,a.topLeft,-$,G,!0),n.lineTo(e,t+r-a.bottomLeft),n.arc(e+a.bottomLeft,t+r-a.bottomLeft,a.bottomLeft,G,$,!0),n.lineTo(e+o-a.bottomRight,t+r),n.arc(e+o-a.bottomRight,t+r-a.bottomRight,a.bottomRight,$,0,!0),n.lineTo(e+o,t+a.topRight),n.arc(e+o-a.topRight,t+a.topRight,a.topRight,0,-$,!0),n.lineTo(e+a.topLeft,t)}const Eu=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Uu=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Fu(n,i){const e=(""+n).match(Eu);if(!e||"normal"===e[1])return 1.2*i;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return i*n}const Lu=n=>+n||0;function Pn(n,i){const e={},t=F(i),o=t?Object.keys(i):i,r=F(n)?t?a=>E(n[a],n[i[a]]):a=>n[a]:()=>n;for(const a of o)e[a]=Lu(r(a));return e}function Ho(n){return Pn(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ee(n){return Pn(n,["topLeft","topRight","bottomLeft","bottomRight"])}function lt(n){const i=Ho(n);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function it(n,i){let e=E((n=n||{}).size,(i=i||L.font).size);"string"==typeof e&&(e=parseInt(e,10));let t=E(n.style,i.style);t&&!(""+t).match(Uu)&&(console.warn('Invalid font style specified: "'+t+'"'),t="");const o={family:E(n.family,i.family),lineHeight:Fu(E(n.lineHeight,i.lineHeight),e),size:e,style:t,weight:E(n.weight,i.weight),string:""};return o.string=function Mu(n){return!n||N(n.size)||N(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(o),o}function ze(n,i,e,t){let r,a,l,o=!0;for(r=0,a=n.length;r<a;++r)if(l=n[r],void 0!==l&&(void 0!==i&&"function"==typeof l&&(l=l(i),o=!1),void 0!==e&&V(l)&&(l=l[e%l.length],o=!1),void 0!==l))return t&&!o&&(t.cacheable=!1),l}function qt(n,i){return Object.assign(Object.create(n),i)}function In(n,i=[""],e=n,t,o=(()=>n[0])){mt(t)||(t=Ko("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:t,_getTarget:o,override:a=>In([a,...n],i,e,t)};return new Proxy(r,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete n[0][l],!0),get:(a,l)=>Yo(a,l,()=>function Yu(n,i,e,t){let o;for(const r of i)if(o=Ko(ju(r,n),e),mt(o))return Zn(n,o)?On(e,t,n,o):o}(l,i,n,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,l)=>Go(a).includes(l),ownKeys:a=>Go(a),set(a,l,c){const d=a._storage||(a._storage=o());return a[l]=d[l]=c,delete a._keys,!0}})}function ge(n,i,e,t){const o={_cacheable:!1,_proxy:n,_context:i,_subProxy:e,_stack:new Set,_descriptors:Vo(n,t),setContext:r=>ge(n,r,e,t),override:r=>ge(n.override(r),i,e,t)};return new Proxy(o,{deleteProperty:(r,a)=>(delete r[a],delete n[a],!0),get:(r,a,l)=>Yo(r,a,()=>function Nu(n,i,e){const{_proxy:t,_context:o,_subProxy:r,_descriptors:a}=n;let l=t[i];return jt(l)&&a.isScriptable(i)&&(l=function Bu(n,i,e,t){const{_proxy:o,_context:r,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);return l.add(n),i=i(r,a||t),l.delete(n),Zn(n,i)&&(i=On(o._scopes,o,n,i)),i}(i,l,n,e)),V(l)&&l.length&&(l=function qu(n,i,e,t){const{_proxy:o,_context:r,_subProxy:a,_descriptors:l}=e;if(mt(r.index)&&t(n))i=i[r.index%i.length];else if(F(i[0])){const c=i,d=o._scopes.filter(h=>h!==c);i=[];for(const h of c){const u=On(d,o,n,h);i.push(ge(u,r,a&&a[n],l))}}return i}(i,l,n,a.isIndexable)),Zn(i,l)&&(l=ge(l,o,r&&r[i],a)),l}(r,a,l)),getOwnPropertyDescriptor:(r,a)=>r._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(r,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(r,a,l)=>(n[a]=l,delete r[a],!0)})}function Vo(n,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:t=i.indexable,_allKeys:o=i.allKeys}=n;return{allKeys:o,scriptable:e,indexable:t,isScriptable:jt(e)?e:()=>e,isIndexable:jt(t)?t:()=>t}}const ju=(n,i)=>n?n+mn(i):i,Zn=(n,i)=>F(i)&&"adapters"!==n&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function Yo(n,i,e){if(Object.prototype.hasOwnProperty.call(n,i))return n[i];const t=e();return n[i]=t,t}function Wo(n,i,e){return jt(n)?n(i,e):n}const zu=(n,i)=>!0===n?i:"string"==typeof n?Rt(i,n):void 0;function Hu(n,i,e,t,o){for(const r of i){const a=zu(e,r);if(a){n.add(a);const l=Wo(a._fallback,e,o);if(mt(l)&&l!==e&&l!==t)return l}else if(!1===a&&mt(t)&&e!==t)return null}return!1}function On(n,i,e,t){const o=i._rootScopes,r=Wo(i._fallback,e,t),a=[...n,...o],l=new Set;l.add(t);let c=Jo(l,a,e,r||e,t);return!(null===c||mt(r)&&r!==e&&(c=Jo(l,a,r,c,t),null===c))&&In(Array.from(l),[""],o,r,()=>function Vu(n,i,e){const t=n._getTarget();i in t||(t[i]={});const o=t[i];return V(o)&&F(e)?e:o}(i,e,t))}function Jo(n,i,e,t,o){for(;e;)e=Hu(n,i,e,t,o);return e}function Ko(n,i){for(const e of i){if(!e)continue;const t=e[n];if(mt(t))return t}}function Go(n){let i=n._keys;return i||(i=n._keys=function Wu(n){const i=new Set;for(const e of n)for(const t of Object.keys(e).filter(o=>!o.startsWith("_")))i.add(t);return Array.from(i)}(n._scopes)),i}function $o(n,i,e,t){const{iScale:o}=n,{key:r="r"}=this._parsing,a=new Array(t);let l,c,d,h;for(l=0,c=t;l<c;++l)d=l+e,h=i[d],a[l]={r:o.parse(Rt(h,r),d)};return a}const Ju=Number.EPSILON||1e-14,me=(n,i)=>i<n.length&&!n[i].skip&&n[i],Qo=n=>"x"===n?"y":"x";function Ku(n,i,e,t){const o=n.skip?i:n,r=i,a=e.skip?i:e,l=bn(r,o),c=bn(a,r);let d=l/(l+c),h=c/(l+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const u=t*d,f=t*h;return{previous:{x:r.x-u*(a.x-o.x),y:r.y-u*(a.y-o.y)},next:{x:r.x+f*(a.x-o.x),y:r.y+f*(a.y-o.y)}}}function wi(n,i,e){return Math.max(Math.min(n,e),i)}function tf(n,i,e,t,o){let r,a,l,c;if(i.spanGaps&&(n=n.filter(d=>!d.skip)),"monotone"===i.cubicInterpolationMode)!function Qu(n,i="x"){const e=Qo(i),t=n.length,o=Array(t).fill(0),r=Array(t);let a,l,c,d=me(n,0);for(a=0;a<t;++a)if(l=c,c=d,d=me(n,a+1),c){if(d){const h=d[i]-c[i];o[a]=0!==h?(d[e]-c[e])/h:0}r[a]=l?d?yt(o[a-1])!==yt(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}(function Gu(n,i,e){const t=n.length;let o,r,a,l,c,d=me(n,0);for(let h=0;h<t-1;++h)if(c=d,d=me(n,h+1),c&&d){if(Ue(i[h],0,Ju)){e[h]=e[h+1]=0;continue}o=e[h]/i[h],r=e[h+1]/i[h],l=Math.pow(o,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),e[h]=o*a*i[h],e[h+1]=r*a*i[h])}})(n,o,r),function $u(n,i,e="x"){const t=Qo(e),o=n.length;let r,a,l,c=me(n,0);for(let d=0;d<o;++d){if(a=l,l=c,c=me(n,d+1),!l)continue;const h=l[e],u=l[t];a&&(r=(h-a[e])/3,l[`cp1${e}`]=h-r,l[`cp1${t}`]=u-r*i[d]),c&&(r=(c[e]-h)/3,l[`cp2${e}`]=h+r,l[`cp2${t}`]=u+r*i[d])}}(n,r,i)}(n,o);else{let d=t?n[n.length-1]:n[0];for(r=0,a=n.length;r<a;++r)l=n[r],c=Ku(d,l,n[Math.min(r+1,a-(t?0:1))%a],i.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}i.capBezierPoints&&function Xu(n,i){let e,t,o,r,a,l=Be(n[0],i);for(e=0,t=n.length;e<t;++e)a=r,r=l,l=e<t-1&&Be(n[e+1],i),r&&(o=n[e],a&&(o.cp1x=wi(o.cp1x,i.left,i.right),o.cp1y=wi(o.cp1y,i.top,i.bottom)),l&&(o.cp2x=wi(o.cp2x,i.left,i.right),o.cp2y=wi(o.cp2y,i.top,i.bottom)))}(n,e)}function Xo(){return typeof window<"u"&&typeof document<"u"}function En(n){let i=n.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function Mi(n,i,e){let t;return"string"==typeof n?(t=parseInt(n,10),-1!==n.indexOf("%")&&(t=t/100*i.parentNode[e])):t=n,t}const Di=n=>window.getComputedStyle(n,null),nf=["top","right","bottom","left"];function ie(n,i,e){const t={};e=e?"-"+e:"";for(let o=0;o<4;o++){const r=nf[o];t[r]=parseFloat(n[i+"-"+r+e])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}const sf=(n,i,e)=>(n>0||i>0)&&(!e||!e.shadowRoot);function ne(n,i){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:t}=i,o=Di(e),r="border-box"===o.boxSizing,a=ie(o,"padding"),l=ie(o,"border","width"),{x:c,y:d,box:h}=function rf(n,i){const e=n.touches,t=e&&e.length?e[0]:n,{offsetX:o,offsetY:r}=t;let l,c,a=!1;if(sf(o,r,n.target))l=o,c=r;else{const d=i.getBoundingClientRect();l=t.clientX-d.left,c=t.clientY-d.top,a=!0}return{x:l,y:c,box:a}}(n,e),u=a.left+(h&&l.left),f=a.top+(h&&l.top);let{width:p,height:g}=i;return r&&(p-=a.width+l.width,g-=a.height+l.height),{x:Math.round((c-u)/p*e.width/t),y:Math.round((d-f)/g*e.height/t)}}const Un=n=>Math.round(10*n)/10;function tr(n,i,e){const t=i||1,o=Math.floor(n.height*t),r=Math.floor(n.width*t);n.height=o/t,n.width=r/t;const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==t||a.height!==o||a.width!==r)&&(n.currentDevicePixelRatio=t,a.height=o,a.width=r,n.ctx.setTransform(t,0,0,t,0,0),!0)}const cf=function(){let n=!1;try{const i={get passive(){return n=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return n}();function er(n,i){const e=function ef(n,i){return Di(n).getPropertyValue(i)}(n,i),t=e&&e.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function se(n,i,e,t){return{x:n.x+e*(i.x-n.x),y:n.y+e*(i.y-n.y)}}function df(n,i,e,t){return{x:n.x+e*(i.x-n.x),y:"middle"===t?e<.5?n.y:i.y:"after"===t?e<1?n.y:i.y:e>0?i.y:n.y}}function hf(n,i,e,t){const o={x:n.cp2x,y:n.cp2y},r={x:i.cp1x,y:i.cp1y},a=se(n,o,e),l=se(o,r,e),c=se(r,i,e),d=se(a,l,e),h=se(l,c,e);return se(d,h,e)}const ir=new Map;function He(n,i,e){return function uf(n,i){i=i||{};const e=n+JSON.stringify(i);let t=ir.get(e);return t||(t=new Intl.NumberFormat(n,i),ir.set(e,t)),t}(i,e).format(n)}function _e(n,i,e){return n?function(n,i){return{x:e=>n+n+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(i,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,i)=>n+i,leftForLtr:(n,i)=>n}}function nr(n,i){let e,t;("ltr"===i||"rtl"===i)&&(e=n.canvas.style,t=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),n.prevTextDirection=t)}function sr(n,i){void 0!==i&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",i[0],i[1]))}function or(n){return"angle"===n?{between:Fe,compare:Qh,normalize:ft}:{between:wt,compare:(i,e)=>i-e,normalize:i=>i}}function rr({start:n,end:i,count:e,loop:t,style:o}){return{start:n%e,end:i%e,loop:t&&(i-n+1)%e==0,style:o}}function ar(n,i,e){if(!e)return[n];const{property:t,start:o,end:r}=e,a=i.length,{compare:l,between:c,normalize:d}=or(t),{start:h,end:u,loop:f,style:p}=function gf(n,i,e){const{property:t,start:o,end:r}=e,{between:a,normalize:l}=or(t),c=i.length;let f,p,{start:d,end:h,loop:u}=n;if(u){for(d+=c,h+=c,f=0,p=c;f<p&&a(l(i[d%c][t]),o,r);++f)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:u,style:n.style}}(n,i,e),g=[];let v,x,C,_=!1,b=null;for(let M=h,D=h;M<=u;++M)x=i[M%a],!x.skip&&(v=d(x[t]),v!==C&&(_=c(v,o,r),null===b&&(_||c(o,C,v)&&0!==l(o,C))&&(b=0===l(v,o)?M:D),null!==b&&(!_||0===l(r,v)||c(r,C,v))&&(g.push(rr({start:b,end:M,loop:f,count:a,style:p})),b=null),D=M,C=v));return null!==b&&g.push(rr({start:b,end:u,loop:f,count:a,style:p})),g}function lr(n,i){const e=[],t=n.segments;for(let o=0;o<t.length;o++){const r=ar(t[o],n.points,i);r.length&&e.push(...r)}return e}function dr(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xf(n,i){return i&&JSON.stringify(n)!==JSON.stringify(i)}var Pt=new class yf{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,t,o){const a=e.duration;e.listeners[o].forEach(l=>l({chart:i,initial:e.initial,numSteps:a,currentStep:Math.min(t-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=So.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((t,o)=>{if(!t.running||!t.items.length)return;const r=t.items;let c,a=r.length-1,l=!1;for(;a>=0;--a)c=r[a],c._active?(c._total>t.duration&&(t.duration=c._total),c.tick(i),l=!0):(r[a]=r[r.length-1],r.pop());l&&(o.draw(),this._notify(o,t,i,"progress")),r.length||(t.running=!1,this._notify(o,t,i,"complete"),t.initial=!1),e+=r.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let t=e.get(i);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,t)),t}listen(i,e,t){this._getAnims(i).listeners[e].push(t)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,o)=>Math.max(t,o._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const t=e.items;let o=t.length-1;for(;o>=0;--o)t[o].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}};const hr="transparent",kf={boolean:(n,i,e)=>e>.5?i:n,color(n,i,e){const t=Bo(n||hr),o=t.valid&&Bo(i||hr);return o&&o.valid?o.mix(t,e).hexString():i},number:(n,i,e)=>n+(i-n)*e};class Tf{constructor(i,e,t,o){const r=e[t];o=ze([i.to,o,r,i.from]);const a=ze([i.from,r,o]);this._active=!0,this._fn=i.fn||kf[i.type||typeof a],this._easing=Le[i.easing]||Le.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=t,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(i,e,t){if(this._active){this._notify(!1);const o=this._target[this._prop],r=t-this._start,a=this._duration-r;this._start=t,this._duration=Math.floor(Math.max(a,i.duration)),this._total+=r,this._loop=!!i.loop,this._to=ze([i.to,e,o,i.from]),this._from=ze([i.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,t=this._duration,o=this._prop,r=this._from,a=this._loop,l=this._to;let c;if(this._active=r!==l&&(a||e<t),!this._active)return this._target[o]=l,void this._notify(!0);e<0?this._target[o]=r:(c=e/t%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[o]=this._fn(r,l,c))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,t)=>{i.push({res:e,rej:t})})}_notify(i){const e=i?"res":"rej",t=this._promises||[];for(let o=0;o<t.length;o++)t[o][e]()}}L.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Sf=Object.keys(L.animation);L.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),L.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),L.describe("animations",{_fallback:"animation"}),L.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class ur{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!F(i))return;const e=this._properties;Object.getOwnPropertyNames(i).forEach(t=>{const o=i[t];if(!F(o))return;const r={};for(const a of Sf)r[a]=o[a];(V(o.properties)&&o.properties||[t]).forEach(a=>{(a===t||!e.has(a))&&e.set(a,r)})})}_animateOptions(i,e){const t=e.options,o=function Mf(n,i){if(!i)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=i}(i,t);if(!o)return[];const r=this._createAnimations(o,t);return t.$shared&&function wf(n,i){const e=[],t=Object.keys(i);for(let o=0;o<t.length;o++){const r=n[t[o]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}(i.options.$animations,t).then(()=>{i.options=t},()=>{}),r}_createAnimations(i,e){const t=this._properties,o=[],r=i.$animations||(i.$animations={}),a=Object.keys(e),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const d=a[c];if("$"===d.charAt(0))continue;if("options"===d){o.push(...this._animateOptions(i,e));continue}const h=e[d];let u=r[d];const f=t.get(d);if(u){if(f&&u.active()){u.update(f,h,l);continue}u.cancel()}f&&f.duration?(r[d]=u=new Tf(f,i,d,h),o.push(u)):i[d]=h}return o}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const t=this._createAnimations(i,e);return t.length?(Pt.add(this._chart,t),!0):void 0}}function fr(n,i){const e=n&&n.options||{},t=e.reverse,o=void 0===e.min?i:0,r=void 0===e.max?i:0;return{start:t?r:o,end:t?o:r}}function pr(n,i){const e=[],t=n._getSortedDatasetMetas(i);let o,r;for(o=0,r=t.length;o<r;++o)e.push(t[o].index);return e}function gr(n,i,e,t={}){const o=n.keys,r="single"===t.mode;let a,l,c,d;if(null!==i){for(a=0,l=o.length;a<l;++a){if(c=+o[a],c===e){if(t.all)continue;break}d=n.values[c],Q(d)&&(r||0===i||yt(i)===yt(d))&&(i+=d)}return i}}function mr(n,i){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==i.stack}function Ef(n,i,e){const t=n[i]||(n[i]={});return t[e]||(t[e]={})}function _r(n,i,e,t){for(const o of i.getMatchingVisibleMetas(t).reverse()){const r=n[o.index];if(e&&r>0||!e&&r<0)return o.index}return null}function br(n,i){const{chart:e,_cachedMeta:t}=n,o=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:l}=t,c=r.axis,d=a.axis,h=function Zf(n,i,e){return`${n.id}.${i.id}.${e.stack||e.type}`}(r,a,t),u=i.length;let f;for(let p=0;p<u;++p){const g=i[p],{[c]:_,[d]:b}=g;f=(g._stacks||(g._stacks={}))[d]=Ef(o,h,_),f[l]=b,f._top=_r(f,a,!0,t.type),f._bottom=_r(f,a,!1,t.type)}}function Fn(n,i){const e=n.scales;return Object.keys(e).filter(t=>e[t].axis===i).shift()}function Ve(n,i){const e=n.controller.index,t=n.vScale&&n.vScale.axis;if(t){i=i||n._parsed;for(const o of i){const r=o._stacks;if(!r||void 0===r[t]||void 0===r[t][e])return;delete r[t][e]}}}const Ln=n=>"reset"===n||"none"===n,vr=(n,i)=>i?n:Object.assign({},n);let kt=(()=>{class n{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=mr(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Ve(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,o=this.getDataset(),r=(f,p,g,_)=>"x"===f?p:"r"===f?_:g,a=t.xAxisID=E(o.xAxisID,Fn(e,"x")),l=t.yAxisID=E(o.yAxisID,Fn(e,"y")),c=t.rAxisID=E(o.rAxisID,Fn(e,"r")),d=t.indexAxis,h=t.iAxisID=r(d,a,l,c),u=t.vAxisID=r(d,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Co(this._data,this),e._stacked&&Ve(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),o=this._data;if(F(t))this._data=function If(n){const i=Object.keys(n),e=new Array(i.length);let t,o,r;for(t=0,o=i.length;t<o;++t)r=i[t],e[t]={x:r,y:n[r]};return e}(t);else if(o!==t){if(o){Co(o,this);const r=this._cachedMeta;Ve(r),r._parsed=[]}t&&Object.isExtensible(t)&&function iu(n,i){n._chartjs?n._chartjs.listeners.push(i):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),To.forEach(e=>{const t="_onData"+mn(e),o=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const a=o.apply(this,r);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[t]&&l[t](...r)}),a}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,o=this.getDataset();let r=!1;this._dataCheck();const a=t._stacked;t._stacked=mr(t.vScale,t),t.stack!==o.stack&&(r=!0,Ve(t),t.stack=o.stack),this._resyncElements(e),(r||a!==t._stacked)&&br(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:o,_data:r}=this,{iScale:a,_stacked:l}=o,c=a.axis;let u,f,p,d=0===e&&t===r.length||o._sorted,h=e>0&&o._parsed[e-1];if(!1===this._parsing)o._parsed=r,o._sorted=!0,p=r;else{p=V(r[e])?this.parseArrayData(o,r,e,t):F(r[e])?this.parseObjectData(o,r,e,t):this.parsePrimitiveData(o,r,e,t);const g=()=>null===f[c]||h&&f[c]<h[c];for(u=0;u<t;++u)o._parsed[u+e]=f=p[u],d&&(g()&&(d=!1),h=f);o._sorted=d}l&&br(this,p)}parsePrimitiveData(e,t,o,r){const{iScale:a,vScale:l}=e,c=a.axis,d=l.axis,h=a.getLabels(),u=a===l,f=new Array(r);let p,g,_;for(p=0,g=r;p<g;++p)_=p+o,f[p]={[c]:u||a.parse(h[_],_),[d]:l.parse(t[_],_)};return f}parseArrayData(e,t,o,r){const{xScale:a,yScale:l}=e,c=new Array(r);let d,h,u,f;for(d=0,h=r;d<h;++d)u=d+o,f=t[u],c[d]={x:a.parse(f[0],u),y:l.parse(f[1],u)};return c}parseObjectData(e,t,o,r){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(r);let u,f,p,g;for(u=0,f=r;u<f;++u)p=u+o,g=t[p],h[u]={x:a.parse(Rt(g,c),p),y:l.parse(Rt(g,d),p)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,o){const a=this._cachedMeta,l=t[e.axis];return gr({keys:pr(this.chart,!0),values:t._stacks[e.axis]},l,a.index,{mode:o})}updateRangeFromParsed(e,t,o,r){const a=o[t.axis];let l=null===a?NaN:a;const c=r&&o._stacks[t.axis];r&&c&&(r.values=c,l=gr(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const o=this._cachedMeta,r=o._parsed,a=o._sorted&&e===o.iScale,l=r.length,c=this._getOtherScale(e),d=((n,i,e)=>n&&!i.hidden&&i._stacked&&{keys:pr(this.chart,!0),values:null})(t,o),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=function Of(n){const{min:i,max:e,minDefined:t,maxDefined:o}=n.getUserBounds();return{min:t?i:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}(c);let p,g;function _(){g=r[p];const b=g[c.axis];return!Q(g[e.axis])||u>b||f<b}for(p=0;p<l&&(_()||(this.updateRangeFromParsed(h,e,g,d),!a));++p);if(a)for(p=l-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(h,e,g,d);break}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,o=[];let r,a,l;for(r=0,a=t.length;r<a;++r)l=t[r][e.axis],Q(l)&&o.push(l);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,o=t.iScale,r=t.vScale,a=this.getParsed(e);return{label:o?""+o.getLabelForValue(a[o.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function Pf(n){let i,e,t,o;return F(n)?(i=n.top,e=n.right,t=n.bottom,o=n.left):i=e=t=o=n,{top:i,right:e,bottom:t,left:o,disabled:!1===n}}(E(this.options.clip,function Df(n,i,e){if(!1===e)return!1;const t=fr(n,e),o=fr(i,e);return{top:o.end,right:t.end,bottom:o.start,left:t.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,o=this._cachedMeta,r=o.data||[],a=this.chart.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop;let u;for(o.dataset&&o.dataset.draw(e,a,c,d),u=c;u<c+d;++u){const f=r[u];f.hidden||(f.active&&h?l.push(f):f.draw(e,a))}for(u=0;u<l.length;++u)l[u].draw(e,a)}getStyle(e,t){const o=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,t,o){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=function Ff(n,i,e){return qt(n,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function Uf(n,i){return qt(n,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=o,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",o){const r="active"===t,a=this._cachedDataOpts,l=e+"-"+t,c=a[l],d=this.enableOptionSharing&&mt(o);if(c)return vr(c,d);const h=this.chart.config,u=h.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],p=h.getOptionScopes(this.getDataset(),u),g=Object.keys(L.elements[e]),b=h.resolveNamedOptions(p,g,()=>this.getContext(o,r),f);return b.$shared&&(b.$shared=d,a[l]=Object.freeze(vr(b,d))),b}_resolveAnimations(e,t,o){const r=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let d;if(!1!==r.options.animation){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,t),p=u.getOptionScopes(this.getDataset(),f);d=u.createResolver(p,this.getContext(e,o,t))}const h=new ur(r,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ln(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const o=this.resolveDataElementOptions(e,t),r=this._sharedOptions,a=this.getSharedOptions(o),l=this.includeOptions(t,a)||a!==r;return this.updateSharedOptions(a,t,o),{sharedOptions:a,includeOptions:l}}updateElement(e,t,o,r){Ln(r)?Object.assign(e,o):this._resolveAnimations(t,r).update(e,o)}updateSharedOptions(e,t,o){e&&!Ln(t)&&this._resolveAnimations(void 0,t).update(e,o)}_setStyle(e,t,o,r){e.active=r;const a=this.getStyle(t,r);this._resolveAnimations(t,o,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,t,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,o=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const r=o.length,a=t.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,t,o=!0){const r=this._cachedMeta,a=r.data,l=e+t;let c;const d=h=>{for(h.length+=t,c=h.length-1;c>=l;c--)h[c]=h[c-t]};for(d(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,t),o&&this.updateElements(a,e,t,"reset")}updateElements(e,t,o,r){}_removeElements(e,t){const o=this._cachedMeta;if(this._parsing){const r=o._parsed.splice(e,t);o._stacked&&Ve(o,r)}o.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,o,r]=e;this[t](o,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function jf(n){const i=n.iScale,e=function Rf(n,i){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(i);let t=[];for(let o=0,r=e.length;o<r;o++)t=t.concat(e[o].controller.getAllParsedValues(n));n._cache.$bar=Ao(t.sort((o,r)=>o-r))}return n._cache.$bar}(i,n.type);let o,r,a,l,t=i._length;const c=()=>{32767===a||-32768===a||(mt(l)&&(t=Math.min(t,Math.abs(a-l)||t)),l=a)};for(o=0,r=e.length;o<r;++o)a=i.getPixelForValue(e[o]),c();for(l=void 0,o=0,r=i.ticks.length;o<r;++o)a=i.getPixelForTick(o),c();return t}function xr(n,i,e,t){return V(n)?function qf(n,i,e,t){const o=e.parse(n[0],t),r=e.parse(n[1],t),a=Math.min(o,r),l=Math.max(o,r);let c=a,d=l;Math.abs(a)>Math.abs(l)&&(c=l,d=a),i[e.axis]=d,i._custom={barStart:c,barEnd:d,start:o,end:r,min:a,max:l}}(n,i,e,t):i[e.axis]=e.parse(n,t),i}function yr(n,i,e,t){const o=n.iScale,r=n.vScale,a=o.getLabels(),l=o===r,c=[];let d,h,u,f;for(d=e,h=e+t;d<h;++d)f=i[d],u={},u[o.axis]=l||o.parse(a[d],d),c.push(xr(f,u,r,d));return c}function Rn(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Vf(n,i,e,t){let o=i.borderSkipped;const r={};if(!o)return void(n.borderSkipped=r);if(!0===o)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:l,reverse:c,top:d,bottom:h}=function Hf(n){let i,e,t,o,r;return n.horizontal?(i=n.base>n.x,e="left",t="right"):(i=n.base<n.y,e="bottom",t="top"),i?(o="end",r="start"):(o="start",r="end"),{start:e,end:t,reverse:i,top:o,bottom:r}}(n);"middle"===o&&e&&(n.enableBorderRadius=!0,(e._top||0)===t?o=d:(e._bottom||0)===t?o=h:(r[kr(h,a,l,c)]=!0,o=d)),r[kr(o,a,l,c)]=!0,n.borderSkipped=r}function kr(n,i,e,t){return t?(n=function Yf(n,i,e){return n===i?e:n===e?i:n}(n,i,e),n=Tr(n,e,i)):n=Tr(n,i,e),n}function Tr(n,i,e){return"start"===n?i:"end"===n?e:n}function Wf(n,{inflateAmount:i},e){n.inflateAmount="auto"===i?1===e?.33:0:i}kt.prototype.datasetElementType=null,kt.prototype.dataElementType=null;let Jf=(()=>{class n extends kt{parsePrimitiveData(e,t,o,r){return yr(e,t,o,r)}parseArrayData(e,t,o,r){return yr(e,t,o,r)}parseObjectData(e,t,o,r){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h="x"===a.axis?c:d,u="x"===l.axis?c:d,f=[];let p,g,_,b;for(p=o,g=o+r;p<g;++p)b=t[p],_={},_[a.axis]=a.parse(Rt(b,h),p),f.push(xr(Rt(b,u),_,l,p));return f}updateRangeFromParsed(e,t,o,r){super.updateRangeFromParsed(e,t,o,r);const a=o._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:o,vScale:r}=t,a=this.getParsed(e),l=a._custom,c=Rn(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+o.getLabelForValue(a[o.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,o,r){const a="reset"===r,{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);for(let g=t;g<t+o;g++){const _=this.getParsed(g),b=a||N(_[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(g),v=this._calculateBarIndexPixels(g,u),x=(_._stacks||{})[c.axis],C={horizontal:h,base:b.base,enableBorderRadius:!x||Rn(_._custom)||l===x._top||l===x._bottom,x:h?b.head:v.center,y:h?v.center:b.head,height:h?v.size:Math.abs(b.size),width:h?Math.abs(b.size):v.size};p&&(C.options=f||this.resolveDataElementOptions(g,e[g].active?"active":r));const T=C.options||e[g].options;Vf(C,T,x,l),Wf(C,T,u.ratio),this.updateElement(e[g],g,C,r)}}_getStacks(e,t){const{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),a=o.options.stacked,l=[],c=d=>{const h=d.controller.getParsed(t),u=h&&h[d.vScale.axis];if(N(u)||isNaN(u))return!0};for(const d of r)if((void 0===t||!c(d))&&((!1===a||-1===l.indexOf(d.stack)||void 0===a&&void 0===d.stack)&&l.push(d.stack),d.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,o){const r=this._getStacks(e,o),a=void 0!==t?r.indexOf(t):-1;return-1===a?r.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,o=t.iScale,r=[];let a,l;for(a=0,l=t.data.length;a<l;++a)r.push(o.getPixelForValue(this.getParsed(a)[o.axis],a));const c=e.barThickness;return{min:c||jf(t),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:o},options:{base:r,minBarLength:a}}=this,l=r||0,c=this.getParsed(e),d=c._custom,h=Rn(d);let g,_,u=c[t.axis],f=0,p=o?this.applyStack(t,c,o):u;p!==u&&(f=p-u,p=u),h&&(u=d.barStart,p=d.barEnd-d.barStart,0!==u&&yt(u)!==yt(d.barEnd)&&(f=0),f+=u);const b=N(r)||h?f:r;let v=t.getPixelForValue(b);if(g=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):v,_=g-v,Math.abs(_)<a){_=function zf(n,i,e){return 0!==n?yt(n):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(_,t,l)*a,u===l&&(v-=_/2);const x=t.getPixelForDecimal(0),C=t.getPixelForDecimal(1),T=Math.min(x,C),y=Math.max(x,C);v=Math.max(Math.min(v,y),T),g=v+_}if(v===t.getPixelForValue(l)){const x=yt(_)*t.getLineWidthForValue(l)/2;v+=x,_-=x}return{size:_,base:v,head:g,center:g+_/2}}_calculateBarIndexPixels(e,t){const o=t.scale,r=this.options,a=r.skipNull,l=E(r.maxBarThickness,1/0);let c,d;if(t.grouped){const h=a?this._getStackCount(e):t.stackCount,u="flex"===r.barThickness?function Bf(n,i,e,t){const o=i.pixels,r=o[n];let a=n>0?o[n-1]:null,l=n<o.length-1?o[n+1]:null;const c=e.categoryPercentage;null===a&&(a=r-(null===l?i.end-i.start:l-r)),null===l&&(l=r+r-a);const d=r-(r-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/t,ratio:e.barPercentage,start:d}}(e,t,r,h):function Nf(n,i,e,t){const o=e.barThickness;let r,a;return N(o)?(r=i.min*e.categoryPercentage,a=e.barPercentage):(r=o*t,a=1),{chunk:r/t,ratio:a,start:i.pixels[n]-r/2}}(e,t,r,h),f=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);c=u.start+u.chunk*f+u.chunk/2,d=Math.min(l,u.chunk*u.ratio)}else c=o.getPixelForValue(this.getParsed(e)[o.axis],e),d=Math.min(l,t.min*t.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,o=e.data,r=o.length;let a=0;for(;a<r;++a)null!==this.getParsed(a)[t.axis]&&o[a].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),Kf=(()=>{class n extends kt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,o,r){const a=super.parsePrimitiveData(e,t,o,r);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+o).radius;return a}parseArrayData(e,t,o,r){const a=super.parseArrayData(e,t,o,r);for(let l=0;l<a.length;l++)a[l]._custom=E(t[o+l][2],this.resolveDataElementOptions(l+o).radius);return a}parseObjectData(e,t,o,r){const a=super.parseObjectData(e,t,o,r);for(let l=0;l<a.length;l++){const c=t[o+l];a[l]._custom=E(c&&c.r&&+c.r,this.resolveDataElementOptions(l+o).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let o=e.length-1;o>=0;--o)t=Math.max(t,e[o].size(this.resolveDataElementOptions(o))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:o,yScale:r}=t,a=this.getParsed(e),l=o.getLabelForValue(a.x),c=r.getLabelForValue(a.y),d=a._custom;return{label:t.label,value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,o,r){const a="reset"===r,{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,r),u=l.axis,f=c.axis;for(let p=t;p<t+o;p++){const g=e[p],_=!a&&this.getParsed(p),b={},v=b[u]=a?l.getPixelForDecimal(.5):l.getPixelForValue(_[u]),x=b[f]=a?c.getBasePixel():c.getPixelForValue(_[f]);b.skip=isNaN(v)||isNaN(x),h&&(b.options=d||this.resolveDataElementOptions(p,g.active?"active":r),a&&(b.options.radius=0)),this.updateElement(g,p,b,r)}}resolveDataElementOptions(e,t){const o=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const a=r.radius;return"active"!==t&&(r.radius=0),r.radius+=E(o&&o._custom,a),r}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),Cr=(()=>{class n extends kt{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const o=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=o;else{let l,c,a=d=>+o[d];if(F(o[e])){const{key:d="value"}=this._parsing;a=h=>+Rt(o[h],d)}for(l=e,c=e+t;l<c;++l)r._parsed[l]=a(l)}}_getRotation(){return vt(this.options.rotation-90)}_getCircumference(){return vt(this.options.circumference)}_getRotationExtents(){let e=H,t=-H;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){const r=this.chart.getDatasetMeta(o).controller,a=r._getRotation(),l=r._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:o}=t,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(o.width,o.height)-l)/2,0),d=Math.min(((n,i)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/i)(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:_,offsetY:b}=function Gf(n,i,e){let t=1,o=1,r=0,a=0;if(i<H){const l=n,c=l+i,d=Math.cos(l),h=Math.sin(l),u=Math.cos(c),f=Math.sin(c),p=(C,T,y)=>Fe(C,l,c,!0)?1:Math.max(T,T*e,y,y*e),g=(C,T,y)=>Fe(C,l,c,!0)?-1:Math.min(T,T*e,y,y*e),_=p(0,d,u),b=p($,h,f),v=g(G,d,u),x=g(G+$,h,f);t=(_-v)/2,o=(b-x)/2,r=-(_+v)/2,a=-(b+x)/2}return{ratioX:t,ratioY:o,offsetX:r,offsetY:a}}(f,u,d),C=Math.max(Math.min((o.width-l)/p,(o.height-l)/g)/2,0),T=po(this.options.radius,C),S=(T-Math.max(T*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=_*T,this.offsetY=b*T,r.total=this.calculateTotal(),this.outerRadius=T-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*h,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const o=this.options,r=this._cachedMeta,a=this._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/H)}updateElements(e,t,o,r){const a="reset"===r,l=this.chart,c=l.chartArea,u=(c.left+c.right)/2,f=(c.top+c.bottom)/2,p=a&&l.options.animation.animateScale,g=p?0:this.innerRadius,_=p?0:this.outerRadius,{sharedOptions:b,includeOptions:v}=this._getSharedOptions(t,r);let C,x=this._getRotation();for(C=0;C<t;++C)x+=this._circumference(C,a);for(C=t;C<t+o;++C){const T=this._circumference(C,a),y=e[C],S={x:u+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+T,circumference:T,outerRadius:_,innerRadius:g};v&&(S.options=b||this.resolveDataElementOptions(C,y.active?"active":r)),x+=T,this.updateElement(y,C,S,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,o=0;for(r=0;r<t.length;r++){const a=e._parsed[r];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(o+=Math.abs(a))}return o}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?H*(Math.abs(e)/t):0}getLabelAndValue(e){const o=this.chart,r=o.data.labels||[],a=He(this._cachedMeta._parsed[e],o.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const o=this.chart;let r,a,l,c,d;if(!e)for(r=0,a=o.data.datasets.length;r<a;++r)if(o.isDatasetVisible(r)){l=o.getDatasetMeta(r),e=l.data,c=l.controller;break}if(!e)return 0;for(r=0,a=e.length;r<a;++r)d=c.resolveDataElementOptions(r),"inner"!==d.borderAlign&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let o=0,r=e.length;o<r;++o){const a=this.resolveDataElementOptions(o);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(t+=this._getRingWeight(o));return t}_getRingWeight(e){return Math.max(E(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=i.legend.options;return e.labels.map((o,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title:()=>"",label(i){let e=i.label;const t=": "+i.formattedValue;return V(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}},n})(),$f=(()=>{class n extends kt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:o,data:r=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:c,count:d}=Mo(t,r,l);this._drawStart=c,this._drawCount=d,Do(t)&&(c=0,d=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(o,void 0,{animated:!l,options:h},e),this.updateElements(r,c,d,e)}updateElements(e,t,o,r){const a="reset"===r,{iScale:l,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(t,r),p=l.axis,g=c.axis,{spanGaps:_,segment:b}=this.options,v=fe(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||"none"===r;let C=t>0&&this.getParsed(t-1);for(let T=t;T<t+o;++T){const y=e[T],S=this.getParsed(T),w=x?y:{},M=N(S[g]),D=w[p]=l.getPixelForValue(S[p],T),j=w[g]=a||M?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,S,d):S[g],T);w.skip=isNaN(D)||isNaN(j)||M,w.stop=T>0&&Math.abs(S[p]-C[p])>v,b&&(w.parsed=S,w.raw=h.data[T]),f&&(w.options=u||this.resolveDataElementOptions(T,y.active?"active":r)),x||this.updateElement(y,T,w,r),C=S}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,o=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return o;const a=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),Qf=(()=>{class n extends kt{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const o=this.chart,r=o.data.labels||[],a=He(this._cachedMeta._parsed[e].r,o.options.locale);return{label:r[e]||"",value:a}}parseObjectData(e,t,o,r){return $o.bind(this)(e,t,o,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,r)=>{const a=this.getParsed(r).r;!isNaN(a)&&this.chart.getDataVisibility(r)&&(a<t.min&&(t.min=a),a>t.max&&(t.max=a))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,o=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(r/2,0),c=(a-Math.max(o.cutoutPercentage?a/100*o.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,t,o,r){const a="reset"===r,l=this.chart,d=l.options.animation,h=this._cachedMeta.rScale,u=h.xCenter,f=h.yCenter,p=h.getIndexAngle(0)-.5*G;let _,g=p;const b=360/this.countVisibleElements();for(_=0;_<t;++_)g+=this._computeAngle(_,r,b);for(_=t;_<t+o;_++){const v=e[_];let x=g,C=g+this._computeAngle(_,r,b),T=l.getDataVisibility(_)?h.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=C,a&&(d.animateScale&&(T=0),d.animateRotate&&(x=C=p));const y={x:u,y:f,innerRadius:0,outerRadius:T,startAngle:x,endAngle:C,options:this.resolveDataElementOptions(_,v.active?"active":r)};this.updateElement(v,_,y,r)}}countVisibleElements(){let t=0;return this._cachedMeta.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,o){return this.chart.getDataVisibility(e)?vt(this.resolveDataElementOptions(e,t).angle||o):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=i.legend.options;return e.labels.map((o,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title:()=>"",label:i=>i.chart.data.labels[i.dataIndex]+": "+i.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),Xf=(()=>{class n extends Cr{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),tp=(()=>{class n extends kt{getLabelAndValue(e){const t=this._cachedMeta.vScale,o=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(o[t.axis])}}parseObjectData(e,t,o,r){return $o.bind(this)(e,t,o,r)}update(e){const t=this._cachedMeta,o=t.dataset,r=t.data||[],a=t.iScale.getLabels();if(o.points=r,"resize"!==e){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:a.length===r.length,options:l},e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,o,r){const a=this._cachedMeta.rScale,l="reset"===r;for(let c=t;c<t+o;c++){const d=e[c],h=this.resolveDataElementOptions(c,d.active?"active":r),u=a.getPointPositionForValue(c,this.getParsed(c).r),f=l?a.xCenter:u.x,p=l?a.yCenter:u.y,g={x:f,y:p,angle:u.angle,skip:isNaN(f)||isNaN(p),options:h};this.updateElement(d,c,g,r)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})();class xt{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(i){const{x:e,y:t}=this.getProps(["x","y"],i);return{x:e,y:t}}hasValue(){return fe(this.x)&&fe(this.y)}getProps(i,e){const t=this.$animations;if(!e||!t)return this;const o={};return i.forEach(r=>{o[r]=t[r]&&t[r].active()?t[r]._to:this[r]}),o}}xt.defaults={},xt.defaultRoutes=void 0;const Ar={values:n=>V(n)?n:""+n,numeric(n,i,e){if(0===n)return"0";const t=this.chart.options.locale;let o,r=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),r=function ep(n,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=_t(Math.abs(r)),l=Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),He(n,t,c)},logarithmic(n,i,e){if(0===n)return"0";const t=n/Math.pow(10,Math.floor(_t(n)));return 1===t||2===t||5===t?Ar.numeric.call(this,n,i,e):""}};var Pi={formatters:Ar};function Ii(n,i,e,t,o){const r=E(t,0),a=Math.min(E(o,n.length),n.length);let c,d,h,l=0;for(e=Math.ceil(e),o&&(c=o-t,e=c/Math.floor(c/e)),h=r;h<0;)l++,h=Math.round(r+l*e);for(d=Math.max(r,0);d<a;d++)d===h&&(i.push(n[d]),l++,h=Math.round(r+l*e))}L.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,i)=>i.lineWidth,tickColor:(n,i)=>i.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),L.route("scale.ticks","color","","color"),L.route("scale.grid","color","","borderColor"),L.route("scale.grid","borderColor","","borderColor"),L.route("scale.title","color","","color"),L.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),L.describe("scales",{_fallback:"scale"}),L.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const Sr=(n,i,e)=>"top"===i||"left"===i?n[i]+e:n[i]-e;function wr(n,i){const e=[],t=n.length/i,o=n.length;let r=0;for(;r<o;r+=t)e.push(n[Math.floor(r)]);return e}function cp(n,i,e){const t=n.ticks.length,o=Math.min(i,t-1),r=n._startPixel,a=n._endPixel,l=1e-6;let d,c=n.getPixelForTick(o);if(!(e&&(d=1===t?Math.max(c-r,a-c):0===i?(n.getPixelForTick(1)-c)/2:(c-n.getPixelForTick(o-1))/2,c+=o<i?d:-d,c<r-l||c>a+l)))return c}function Ye(n){return n.drawTicks?n.tickLength:0}function Mr(n,i){if(!n.display)return 0;const e=it(n.font,i),t=lt(n.padding);return(V(n.text)?n.text.length:1)*e.lineHeight+t.height}function fp(n,i,e){let t=xn(n);return(e&&"right"!==i||!e&&"right"===i)&&(t=(n=>"left"===n?"right":"right"===n?"left":n)(t)),t}class oe extends xt{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:t,_suggestedMax:o}=this;return i=gt(i,Number.POSITIVE_INFINITY),e=gt(e,Number.NEGATIVE_INFINITY),t=gt(t,Number.POSITIVE_INFINITY),o=gt(o,Number.NEGATIVE_INFINITY),{min:gt(i,t),max:gt(e,o),minDefined:Q(i),maxDefined:Q(e)}}getMinMax(i){let a,{min:e,max:t,minDefined:o,maxDefined:r}=this.getUserBounds();if(o&&r)return{min:e,max:t};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)a=l[c].controller.getMinMax(this,i),o||(e=Math.min(e,a.min)),r||(t=Math.max(t,a.max));return e=r&&e>t?t:e,t=o&&e>t?e:t,{min:gt(e,gt(t,e)),max:gt(t,gt(e,t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Y(this.options.beforeUpdate,[this])}update(i,e,t){const{beginAtZero:o,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=t=Object.assign({left:0,right:0,top:0,bottom:0},t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+t.left+t.right:this.height+t.top+t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Ru(n,i,e){const{min:t,max:o}=n,r=po(i,(o-t)/2),a=(l,c)=>e&&0===l?0:l+c;return{min:a(t,-Math.abs(r)),max:a(o,r)}}(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?wr(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function ip(n,i){const e=n.options.ticks,t=e.maxTicksLimit||function np(n){const i=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(i?0:1),n._maxLength/e))}(n),o=e.major.enabled?function op(n){const i=[];let e,t;for(e=0,t=n.length;e<t;e++)n[e].major&&i.push(e);return i}(i):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>t)return function rp(n,i,e,t){let a,o=0,r=e[0];for(t=Math.ceil(t),a=0;a<n.length;a++)a===r&&(i.push(n[a]),o++,r=e[o*t])}(i,c,o,r/t),c;const d=function sp(n,i,e){const t=function ap(n){const i=n.length;let e,t;if(i<2)return!1;for(t=n[0],e=1;e<i;++e)if(n[e]-n[e-1]!==t)return!1;return t}(n),o=i.length/e;if(!t)return Math.max(o,1);const r=function Gh(n){const i=[],e=Math.sqrt(n);let t;for(t=1;t<e;t++)n%t==0&&(i.push(t),i.push(n/t));return e===(0|e)&&i.push(e),i.sort((o,r)=>o-r).pop(),i}(t);for(let a=0,l=r.length-1;a<l;a++){const c=r[a];if(c>o)return c}return Math.max(o,1)}(o,i,t);if(r>0){let h,u;const f=r>1?Math.round((l-a)/(r-1)):null;for(Ii(i,c,d,N(f)?0:a-f,a),h=0,u=r-1;h<u;h++)Ii(i,c,d,o[h],o[h+1]);return Ii(i,c,d,l,N(f)?i.length:l+f),c}return Ii(i,c,d),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Y(this.options.afterUpdate,[this])}beforeSetDimensions(){Y(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Y(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Y(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Y(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let t,o,r;for(t=0,o=i.length;t<o;t++)r=i[t],r.label=Y(e.callback,[r.value,t,i],this)}afterTickToLabelConversion(){Y(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Y(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,t=this.ticks.length,o=e.minRotation||0,r=e.maxRotation;let l,c,d,a=o;if(!this._isVisible()||!e.display||o>=r||t<=1||!this.isHorizontal())return void(this.labelRotation=o);const h=this._getLabelSizes(),u=h.widest.width,f=h.highest.height,p=ot(this.chart.width-u,0,this.maxWidth);l=i.offset?this.maxWidth/t:p/(t-1),u+6>l&&(l=p/(t-(i.offset?.5:1)),c=this.maxHeight-Ye(i.grid)-e.padding-Mr(i.title,this.chart.options.font),d=Math.sqrt(u*u+f*f),a=_n(Math.min(Math.asin(ot((h.highest.height+6)/l,-1,1)),Math.asin(ot(c/d,-1,1))-Math.asin(ot(f/d,-1,1)))),a=Math.max(o,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Y(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Y(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:t,title:o,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=Mr(o,e.options.font);if(l?(i.width=this.maxWidth,i.height=Ye(r)+c):(i.height=this.maxHeight,i.width=Ye(r)+c),t.display&&this.ticks.length){const{first:d,last:h,widest:u,highest:f}=this._getLabelSizes(),p=2*t.padding,g=vt(this.labelRotation),_=Math.cos(g),b=Math.sin(g);l?i.height=Math.min(this.maxHeight,i.height+(t.mirror?0:b*u.width+_*f.height)+p):i.width=Math.min(this.maxWidth,i.width+(t.mirror?0:_*u.width+b*f.height)+p),this._calculatePadding(d,h,b,_)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,t,o){const{ticks:{align:r,padding:a},position:l}=this.options,c=0!==this.labelRotation,d="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=o*i.width,p=t*e.height):(f=t*i.height,p=o*e.width):"start"===r?p=e.width:"end"===r?f=i.width:"inner"!==r&&(f=i.width/2,p=e.width/2),this.paddingLeft=Math.max((f-h+a)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-u+a)*this.width/(this.width-u),0)}else{let h=e.height/2,u=i.height/2;"start"===r?(h=0,u=i.height):"end"===r&&(h=e.height,u=0),this.paddingTop=h+a,this.paddingBottom=u+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Y(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,t;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,t=i.length;e<t;e++)N(i[e].label)&&(i.splice(e,1),t--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let t=this.ticks;e<t.length&&(t=wr(t,e)),this._labelSizes=i=this._computeLabelSizes(t,t.length)}return i}_computeLabelSizes(i,e){const{ctx:t,_longestTextCache:o}=this,r=[],a=[];let d,h,u,f,p,g,_,b,v,x,C,l=0,c=0;for(d=0;d<e;++d){if(f=i[d].label,p=this._resolveTickFontOptions(d),t.font=g=p.string,_=o[g]=o[g]||{data:{},gc:[]},b=p.lineHeight,v=x=0,N(f)||V(f)){if(V(f))for(h=0,u=f.length;h<u;++h)C=f[h],!N(C)&&!V(C)&&(v=Ci(t,_.data,_.gc,v,C),x+=b)}else v=Ci(t,_.data,_.gc,v,f),x=b;r.push(v),a.push(x),l=Math.max(v,l),c=Math.max(x,c)}!function dp(n,i){z(n,e=>{const t=e.gc,o=t.length/2;let r;if(o>i){for(r=0;r<o;++r)delete e.data[t[r]];t.splice(0,o)}})}(o,e);const T=r.indexOf(l),y=a.indexOf(c),S=w=>({width:r[w]||0,height:a[w]||0});return{first:S(0),last:S(e-1),widest:S(T),highest:S(y),widths:r,heights:a}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function Xh(n){return ot(n,-32768,32767)}(this._alignToPixels?Xt(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const t=e[i];return t.$context||(t.$context=function up(n,i,e){return qt(n,{tick:e,index:i,type:"tick"})}(this.getContext(),i,t))}return this.$context||(this.$context=function hp(n,i){return qt(n,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=vt(this.labelRotation),t=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=i.autoSkipPadding||0,l=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*t>l*o?l/t:c/o:c*o<l*t?c/t:l/o}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,t=this.chart,o=this.options,{grid:r,position:a}=o,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),u=Ye(r),f=[],p=r.setContext(this.getContext()),g=p.drawBorder?p.borderWidth:0,_=g/2,b=function(O){return Xt(t,O,g)};let v,x,C,T,y,S,w,M,D,j,B,R;if("top"===a)v=b(this.bottom),S=this.bottom-u,M=v-_,j=b(i.top)+_,R=i.bottom;else if("bottom"===a)v=b(this.top),j=i.top,R=b(i.bottom)-_,S=v+_,M=this.top+u;else if("left"===a)v=b(this.right),y=this.right-u,w=v-_,D=b(i.left)+_,B=i.right;else if("right"===a)v=b(this.left),D=i.left,B=b(i.right)-_,y=v+_,w=this.left+u;else if("x"===e){if("center"===a)v=b((i.top+i.bottom)/2+.5);else if(F(a)){const O=Object.keys(a)[0];v=b(this.chart.scales[O].getPixelForValue(a[O]))}j=i.top,R=i.bottom,S=v+_,M=S+u}else if("y"===e){if("center"===a)v=b((i.left+i.right)/2);else if(F(a)){const O=Object.keys(a)[0];v=b(this.chart.scales[O].getPixelForValue(a[O]))}y=v-_,w=y-u,D=i.left,B=i.right}const tt=E(o.ticks.maxTicksLimit,h),dt=Math.max(1,Math.ceil(h/tt));for(x=0;x<h;x+=dt){const O=r.setContext(this.getContext(x)),et=O.lineWidth,X=O.color,le=O.borderDash||[],ps=O.borderDashOffset,Ce=O.tickWidth,tn=O.tickColor,Ae=O.tickBorderDash||[],ri=O.tickBorderDashOffset;C=cp(this,x,l),void 0!==C&&(T=Xt(t,C,et),c?y=w=D=B=T:S=M=j=R=T,f.push({tx1:y,ty1:S,tx2:w,ty2:M,x1:D,y1:j,x2:B,y2:R,width:et,color:X,borderDash:le,borderDashOffset:ps,tickWidth:Ce,tickColor:tn,tickBorderDash:Ae,tickBorderDashOffset:ri}))}return this._ticksLength=h,this._borderValue=v,f}_computeLabelItems(i){const e=this.axis,t=this.options,{position:o,ticks:r}=t,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:h,mirror:u}=r,f=Ye(t.grid),p=f+h,g=u?-h:p,_=-vt(this.labelRotation),b=[];let v,x,C,T,y,S,w,M,D,j,B,R,tt="middle";if("top"===o)S=this.bottom-g,w=this._getXAxisLabelAlignment();else if("bottom"===o)S=this.top+g,w=this._getXAxisLabelAlignment();else if("left"===o){const O=this._getYAxisLabelAlignment(f);w=O.textAlign,y=O.x}else if("right"===o){const O=this._getYAxisLabelAlignment(f);w=O.textAlign,y=O.x}else if("x"===e){if("center"===o)S=(i.top+i.bottom)/2+p;else if(F(o)){const O=Object.keys(o)[0];S=this.chart.scales[O].getPixelForValue(o[O])+p}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===o)y=(i.left+i.right)/2-p;else if(F(o)){const O=Object.keys(o)[0];y=this.chart.scales[O].getPixelForValue(o[O])}w=this._getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===c?tt="top":"end"===c&&(tt="bottom"));const dt=this._getLabelSizes();for(v=0,x=l.length;v<x;++v){C=l[v],T=C.label;const O=r.setContext(this.getContext(v));M=this.getPixelForTick(v)+r.labelOffset,D=this._resolveTickFontOptions(v),j=D.lineHeight,B=V(T)?T.length:1;const et=B/2,X=O.color,le=O.textStrokeColor,ps=O.textStrokeWidth;let tn,Ce=w;if(a?(y=M,"inner"===w&&(Ce=v===x-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),R="top"===o?"near"===d||0!==_?-B*j+j/2:"center"===d?-dt.highest.height/2-et*j+j:j/2-dt.highest.height:"near"===d||0!==_?j/2:"center"===d?dt.highest.height/2-et*j:dt.highest.height-B*j,u&&(R*=-1)):(S=M,R=(1-B)*j/2),O.showLabelBackdrop){const Ae=lt(O.backdropPadding),ri=dt.heights[v],gs=dt.widths[v];let ms=S+R-Ae.top,_s=y-Ae.left;switch(tt){case"middle":ms-=ri/2;break;case"bottom":ms-=ri}switch(w){case"center":_s-=gs/2;break;case"right":_s-=gs}tn={left:_s,top:ms,width:gs+Ae.width,height:ri+Ae.height,color:O.backdropColor}}b.push({rotation:_,label:T,font:D,color:X,strokeColor:le,strokeWidth:ps,textOffset:R,textAlign:Ce,textBaseline:tt,translation:[y,S],backdrop:tn})}return b}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-vt(this.labelRotation))return"top"===i?"left":"right";let o="center";return"start"===e.align?o="left":"end"===e.align?o="right":"inner"===e.align&&(o="inner"),o}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:t,mirror:o,padding:r}}=this.options,l=i+r,c=this._getLabelSizes().widest.width;let d,h;return"left"===e?o?(h=this.right+r,"near"===t?d="left":"center"===t?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-l,"near"===t?d="right":"center"===t?(d="center",h-=c/2):(d="left",h=this.left)):"right"===e?o?(h=this.left+r,"near"===t?d="right":"center"===t?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+l,"near"===t?d="left":"center"===t?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:t,top:o,width:r,height:a}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(t,o,r,a),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const o=this.ticks.findIndex(r=>r.value===i);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(i){const e=this.options.grid,t=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let r,a;const l=(c,d,h)=>{!h.width||!h.color||(t.save(),t.lineWidth=h.width,t.strokeStyle=h.color,t.setLineDash(h.borderDash||[]),t.lineDashOffset=h.borderDashOffset,t.beginPath(),t.moveTo(c.x,c.y),t.lineTo(d.x,d.y),t.stroke(),t.restore())};if(e.display)for(r=0,a=o.length;r<a;++r){const c=o[r];e.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{grid:t}}=this,o=t.setContext(this.getContext()),r=t.drawBorder?o.borderWidth:0;if(!r)return;const a=t.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,u;this.isHorizontal()?(c=Xt(i,this.left,r)-r/2,d=Xt(i,this.right,a)+a/2,h=u=l):(h=Xt(i,this.top,r)-r/2,u=Xt(i,this.bottom,a)+a/2,c=d=l),e.save(),e.lineWidth=o.borderWidth,e.strokeStyle=o.borderColor,e.beginPath(),e.moveTo(c,h),e.lineTo(d,u),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const t=this.ctx,o=this._computeLabelArea();o&&Ai(t,o);const r=this._labelItems||(this._labelItems=this._computeLabelItems(i));let a,l;for(a=0,l=r.length;a<l;++a){const c=r[a],d=c.font,h=c.label;c.backdrop&&(t.fillStyle=c.backdrop.color,t.fillRect(c.backdrop.left,c.backdrop.top,c.backdrop.width,c.backdrop.height)),te(t,h,0,c.textOffset,d,c)}o&&Si(t)}drawTitle(){const{ctx:i,options:{position:e,title:t,reverse:o}}=this;if(!t.display)return;const r=it(t.font),a=lt(t.padding),l=t.align;let c=r.lineHeight/2;"bottom"===e||"center"===e||F(e)?(c+=a.bottom,V(t.text)&&(c+=r.lineHeight*(t.text.length-1))):c+=a.top;const{titleX:d,titleY:h,maxWidth:u,rotation:f}=function pp(n,i,e,t){const{top:o,left:r,bottom:a,right:l,chart:c}=n,{chartArea:d,scales:h}=c;let f,p,g,u=0;const _=a-o,b=l-r;if(n.isHorizontal()){if(p=at(t,r,l),F(e)){const v=Object.keys(e)[0];g=h[v].getPixelForValue(e[v])+_-i}else g="center"===e?(d.bottom+d.top)/2+_-i:Sr(n,e,i);f=l-r}else{if(F(e)){const v=Object.keys(e)[0];p=h[v].getPixelForValue(e[v])-b+i}else p="center"===e?(d.left+d.right)/2-b+i:Sr(n,e,i);g=at(t,a,o),u="left"===e?-$:$}return{titleX:p,titleY:g,maxWidth:f,rotation:u}}(this,c,e,l);te(i,t.text,0,0,r,{color:t.color,maxWidth:u,rotation:f,textAlign:fp(l,e,o),textBaseline:"middle",translation:[d,h]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,t=E(i.grid&&i.grid.z,-1);return this._isVisible()&&this.draw===oe.prototype.draw?[{z:t,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:t+1,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),t=this.axis+"AxisID",o=[];let r,a;for(r=0,a=e.length;r<a;++r){const l=e[r];l[t]===this.id&&(!i||l.type===i)&&o.push(l)}return o}_resolveTickFontOptions(i){return it(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class Zi{constructor(i,e,t){this.type=i,this.scope=e,this.override=t,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let t;(function _p(n){return"id"in n&&"defaults"in n})(e)&&(t=this.register(e));const o=this.items,r=i.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+i);return r in o||(o[r]=i,function gp(n,i,e){const t=Ze(Object.create(null),[e?L.get(e):{},L.get(i),n.defaults]);L.set(i,t),n.defaultRoutes&&function mp(n,i){Object.keys(i).forEach(e=>{const t=e.split("."),o=t.pop(),r=[n].concat(t).join("."),a=i[e].split("."),l=a.pop(),c=a.join(".");L.route(r,o,c,l)})}(i,n.defaultRoutes),n.descriptors&&L.describe(i,n.descriptors)}(i,a,t),this.override&&L.override(i.id,i.overrides)),a}get(i){return this.items[i]}unregister(i){const e=this.items,t=i.id,o=this.scope;t in e&&delete e[t],o&&t in L[o]&&(delete L[o][t],this.override&&delete Qt[t])}}var Tt=new class bp{constructor(){this.controllers=new Zi(kt,"datasets",!0),this.elements=new Zi(xt,"elements"),this.plugins=new Zi(Object,"plugins"),this.scales=new Zi(oe,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,t){[...e].forEach(o=>{const r=t||this._getRegistryForType(o);t||r.isForType(o)||r===this.plugins&&o.id?this._exec(i,r,o):z(o,a=>{const l=t||this._getRegistryForType(a);this._exec(i,l,a)})})}_exec(i,e,t){const o=mn(i);Y(t["before"+o],[],t),e[i](t),Y(t["after"+o],[],t)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const t=this._typedRegistries[e];if(t.isForType(i))return t}return this.plugins}_get(i,e,t){const o=e.get(i);if(void 0===o)throw new Error('"'+i+'" is not a registered '+t+".");return o}},vp=Object.freeze({__proto__:null,BarController:Jf,BubbleController:Kf,DoughnutController:Cr,LineController:$f,PolarAreaController:Qf,PieController:Xf,RadarController:tp,ScatterController:(()=>{class n extends kt{update(e){const t=this._cachedMeta,{data:o=[]}=t,r=this.chart._animationsDisabled;let{start:a,count:l}=Mo(t,o,r);if(this._drawStart=a,this._drawCount=l,Do(t)&&(a=0,l=o.length),this.options.showLine){const{dataset:c,_dataset:d}=t;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!d._decimated,c.points=o;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(c,void 0,{animated:!r,options:h},e)}this.updateElements(o,a,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Tt.getElement("line")),super.addElements()}updateElements(e,t,o,r){const a="reset"===r,{iScale:l,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,u=this.resolveDataElementOptions(t,r),f=this.getSharedOptions(u),p=this.includeOptions(r,f),g=l.axis,_=c.axis,{spanGaps:b,segment:v}=this.options,x=fe(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||"none"===r;let T=t>0&&this.getParsed(t-1);for(let y=t;y<t+o;++y){const S=e[y],w=this.getParsed(y),M=C?S:{},D=N(w[_]),j=M[g]=l.getPixelForValue(w[g],y),B=M[_]=a||D?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,w,d):w[_],y);M.skip=isNaN(j)||isNaN(B)||D,M.stop=y>0&&Math.abs(w[g]-T[g])>x,v&&(M.parsed=w,M.raw=h.data[y]),p&&(M.options=f||this.resolveDataElementOptions(y,S.active?"active":r)),C||this.updateElement(S,y,M,r),T=w}this.updateSharedOptions(f,r,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let c=0;for(let d=t.length-1;d>=0;--d)c=Math.max(c,t[d].size(this.resolveDataElementOptions(d))/2);return c>0&&c}const o=e.dataset,r=o.options&&o.options.borderWidth||0;if(!t.length)return r;const a=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,a,l)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:i=>"("+i.label+", "+i.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function re(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var xp={_date:(()=>{class n{constructor(e){this.options=e||{}}init(e){}formats(){return re()}parse(e,t){return re()}format(e,t){return re()}add(e,t,o){return re()}diff(e,t,o){return re()}startOf(e,t,o){return re()}endOf(e,t){return re()}}return n.override=function(i){Object.assign(n.prototype,i)},n})()};function yp(n,i,e,t){const{controller:o,data:r,_sorted:a}=n,l=o._cachedMeta.iScale;if(l&&i===l.axis&&"r"!==i&&a&&r.length){const c=l._reversePixels?tu:Mt;if(!t)return c(r,i,e);if(o._sharedOptions){const d=r[0],h="function"==typeof d.getRange&&d.getRange(i);if(h){const u=c(r,i,e-h),f=c(r,i,e+h);return{lo:u.lo,hi:f.hi}}}}return{lo:0,hi:r.length-1}}function We(n,i,e,t,o){const r=n.getSortedVisibleDatasetMetas(),a=e[i];for(let l=0,c=r.length;l<c;++l){const{index:d,data:h}=r[l],{lo:u,hi:f}=yp(r[l],i,a,o);for(let p=u;p<=f;++p){const g=h[p];g.skip||t(g,d,p)}}}function jn(n,i,e,t,o){const r=[];return!o&&!n.isPointInArea(i)||We(n,e,i,function(l,c,d){!o&&!Be(l,n.chartArea,0)||l.inRange(i.x,i.y,t)&&r.push({element:l,datasetIndex:c,index:d})},!0),r}function Nn(n,i,e,t,o,r){return r||n.isPointInArea(i)?"r"!==e||t?function Cp(n,i,e,t,o,r){let a=[];const l=function kp(n){const i=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(t,o){const r=i?Math.abs(t.x-o.x):0,a=e?Math.abs(t.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(e);let c=Number.POSITIVE_INFINITY;return We(n,e,i,function d(h,u,f){const p=h.inRange(i.x,i.y,o);if(t&&!p)return;const g=h.getCenterPoint(o);if(!r&&!n.isPointInArea(g)&&!p)return;const b=l(i,g);b<c?(a=[{element:h,datasetIndex:u,index:f}],c=b):b===c&&a.push({element:h,datasetIndex:u,index:f})}),a}(n,i,e,t,o,r):function Tp(n,i,e,t){let o=[];return We(n,e,i,function r(a,l,c){const{startAngle:d,endAngle:h}=a.getProps(["startAngle","endAngle"],t),{angle:u}=ko(a,{x:i.x,y:i.y});Fe(u,d,h)&&o.push({element:a,datasetIndex:l,index:c})}),o}(n,i,e,o):[]}function Dr(n,i,e,t,o){const r=[],a="x"===e?"inXRange":"inYRange";let l=!1;return We(n,e,i,(c,d,h)=>{c[a](i[e],o)&&(r.push({element:c,datasetIndex:d,index:h}),l=l||c.inRange(i.x,i.y,o))}),t&&!l?[]:r}var Ap={evaluateInteractionItems:We,modes:{index(n,i,e,t){const o=ne(i,n),r=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?jn(n,o,r,t,a):Nn(n,o,r,!1,t,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,u=d.data[h];u&&!u.skip&&c.push({element:u,datasetIndex:d.index,index:h})}),c):[]},dataset(n,i,e,t){const o=ne(i,n),r=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?jn(n,o,r,t,a):Nn(n,o,r,!1,t,a);if(l.length>0){const c=l[0].datasetIndex,d=n.getDatasetMeta(c).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:c,index:h})}return l},point:(n,i,e,t)=>jn(n,ne(i,n),e.axis||"xy",t,e.includeInvisible||!1),nearest:(n,i,e,t)=>Nn(n,ne(i,n),e.axis||"xy",e.intersect,t,e.includeInvisible||!1),x:(n,i,e,t)=>Dr(n,ne(i,n),"x",e.intersect,t),y:(n,i,e,t)=>Dr(n,ne(i,n),"y",e.intersect,t)}};const Pr=["left","top","right","bottom"];function Je(n,i){return n.filter(e=>e.pos===i)}function Ir(n,i){return n.filter(e=>-1===Pr.indexOf(e.pos)&&e.box.axis===i)}function Ke(n,i){return n.sort((e,t)=>{const o=i?t:e,r=i?e:t;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function Zr(n,i,e,t){return Math.max(n[e],i[e])+Math.max(n[t],i[t])}function Or(n,i){n.top=Math.max(n.top,i.top),n.left=Math.max(n.left,i.left),n.bottom=Math.max(n.bottom,i.bottom),n.right=Math.max(n.right,i.right)}function Pp(n,i,e,t){const{pos:o,box:r}=e,a=n.maxPadding;if(!F(o)){e.size&&(n[o]-=e.size);const u=t[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,n[o]+=e.size}r.getPadding&&Or(a,r.getPadding());const l=Math.max(0,i.outerWidth-Zr(a,n,"left","right")),c=Math.max(0,i.outerHeight-Zr(a,n,"top","bottom")),d=l!==n.w,h=c!==n.h;return n.w=l,n.h=c,e.horizontal?{same:d,other:h}:{same:h,other:d}}function Zp(n,i){const e=i.maxPadding;return function t(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{r[a]=Math.max(i[a],e[a])}),r}(n?["left","right"]:["top","bottom"])}function Ge(n,i,e,t){const o=[];let r,a,l,c,d,h;for(r=0,a=n.length,d=0;r<a;++r){l=n[r],c=l.box,c.update(l.width||i.w,l.height||i.h,Zp(l.horizontal,i));const{same:u,other:f}=Pp(i,e,l,t);d|=u&&o.length,h=h||f,c.fullSize||o.push(l)}return d&&Ge(o,i,e,t)||h}function Oi(n,i,e,t,o){n.top=e,n.left=i,n.right=i+t,n.bottom=e+o,n.width=t,n.height=o}function Er(n,i,e,t){const o=e.padding;let{x:r,y:a}=i;for(const l of n){const c=l.box,d=t[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const u=i.w*h,f=d.size||c.height;mt(d.start)&&(a=d.start),c.fullSize?Oi(c,o.left,a,e.outerWidth-o.right-o.left,f):Oi(c,i.left+d.placed,a,u,f),d.start=a,d.placed+=u,a=c.bottom}else{const u=i.h*h,f=d.size||c.width;mt(d.start)&&(r=d.start),c.fullSize?Oi(c,r,o.top,f,e.outerHeight-o.bottom-o.top):Oi(c,r,i.top+d.placed,f,u),d.start=r,d.placed+=u,r=c.right}}i.x=r,i.y=a}L.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ct={addBox(n,i){n.boxes||(n.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},n.boxes.push(i)},removeBox(n,i){const e=n.boxes?n.boxes.indexOf(i):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(n,i,e,t){if(!n)return;const o=lt(n.options.layout.padding),r=Math.max(i-o.width,0),a=Math.max(e-o.height,0),l=function Dp(n){const i=function Sp(n){const i=[];let e,t,o,r,a,l;for(e=0,t=(n||[]).length;e<t;++e)o=n[e],({position:r,options:{stack:a,stackWeight:l=1}}=o),i.push({index:e,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&r+a,stackWeight:l});return i}(n),e=Ke(i.filter(d=>d.box.fullSize),!0),t=Ke(Je(i,"left"),!0),o=Ke(Je(i,"right")),r=Ke(Je(i,"top"),!0),a=Ke(Je(i,"bottom")),l=Ir(i,"x"),c=Ir(i,"y");return{fullSize:e,leftAndTop:t.concat(r),rightAndBottom:o.concat(c).concat(a).concat(l),chartArea:Je(i,"chartArea"),vertical:t.concat(o).concat(c),horizontal:r.concat(a).concat(l)}}(n.boxes),c=l.vertical,d=l.horizontal;z(n.boxes,_=>{"function"==typeof _.beforeLayout&&_.beforeLayout()});const h=c.reduce((_,b)=>b.box.options&&!1===b.box.options.display?_:_+1,0)||1,u=Object.freeze({outerWidth:i,outerHeight:e,padding:o,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),f=Object.assign({},o);Or(f,lt(t));const p=Object.assign({maxPadding:f,w:r,h:a,x:o.left,y:o.top},o),g=function Mp(n,i){const e=function wp(n){const i={};for(const e of n){const{stack:t,pos:o,stackWeight:r}=e;if(!t||!Pr.includes(o))continue;const a=i[t]||(i[t]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return i}(n),{vBoxMaxWidth:t,hBoxMaxHeight:o}=i;let r,a,l;for(r=0,a=n.length;r<a;++r){l=n[r];const{fullSize:c}=l.box,d=e[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*t:c&&i.availableWidth,l.height=o):(l.width=t,l.height=h?h*o:c&&i.availableHeight)}return e}(c.concat(d),u);Ge(l.fullSize,p,u,g),Ge(c,p,u,g),Ge(d,p,u,g)&&Ge(c,p,u,g),function Ip(n){const i=n.maxPadding;function e(t){const o=Math.max(i[t]-n[t],0);return n[t]+=o,o}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(p),Er(l.leftAndTop,p,u,g),p.x+=p.w,p.y+=p.h,Er(l.rightAndBottom,p,u,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},z(l.chartArea,_=>{const b=_.box;Object.assign(b,n.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Ur{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,t){}removeEventListener(i,e,t){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,t,o){return e=Math.max(0,e||i.width),t=t||i.height,{width:e,height:Math.max(0,o?Math.floor(e/o):t)}}isAttached(i){return!0}updateConfig(i){}}class Op extends Ur{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const Ei="$chartjs",Ep={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fr=n=>null===n||""===n,Lr=!!cf&&{passive:!0};function Lp(n,i,e){n.canvas.removeEventListener(i,e,Lr)}function Ui(n,i){for(const e of n)if(e===i||e.contains(i))return!0}function jp(n,i,e){const t=n.canvas,o=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Ui(l.addedNodes,t),a=a&&!Ui(l.removedNodes,t);a&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function Np(n,i,e){const t=n.canvas,o=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Ui(l.removedNodes,t),a=a&&!Ui(l.addedNodes,t);a&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}const $e=new Map;let Rr=0;function jr(){const n=window.devicePixelRatio;n!==Rr&&(Rr=n,$e.forEach((i,e)=>{e.currentDevicePixelRatio!==n&&i()}))}function zp(n,i,e){const t=n.canvas,o=t&&En(t);if(!o)return;const r=wo((l,c)=>{const d=o.clientWidth;e(l,c),d<o.clientWidth&&e()},window),a=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,h=c.contentRect.height;0===d&&0===h||r(d,h)});return a.observe(o),function Bp(n,i){$e.size||window.addEventListener("resize",jr),$e.set(n,i)}(n,r),a}function Bn(n,i,e){e&&e.disconnect(),"resize"===i&&function qp(n){$e.delete(n),$e.size||window.removeEventListener("resize",jr)}(n)}function Hp(n,i,e){const t=n.canvas,o=wo(r=>{null!==n.ctx&&e(function Rp(n,i){const e=Ep[n.type]||n.type,{x:t,y:o}=ne(n,i);return{type:e,chart:i,native:n,x:void 0!==t?t:null,y:void 0!==o?o:null}}(r,n))},n,r=>{const a=r[0];return[a,a.offsetX,a.offsetY]});return function Fp(n,i,e){n.addEventListener(i,e,Lr)}(t,i,o),o}class Vp extends Ur{acquireContext(i,e){const t=i&&i.getContext&&i.getContext("2d");return t&&t.canvas===i?(function Up(n,i){const e=n.style,t=n.getAttribute("height"),o=n.getAttribute("width");if(n[Ei]={initial:{height:t,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Fr(o)){const r=er(n,"width");void 0!==r&&(n.width=r)}if(Fr(t))if(""===n.style.height)n.height=n.width/(i||2);else{const r=er(n,"height");void 0!==r&&(n.height=r)}}(i,e),t):null}releaseContext(i){const e=i.canvas;if(!e[Ei])return!1;const t=e[Ei].initial;["height","width"].forEach(r=>{const a=t[r];N(a)?e.removeAttribute(r):e.setAttribute(r,a)});const o=t.style||{};return Object.keys(o).forEach(r=>{e.style[r]=o[r]}),e.width=e.width,delete e[Ei],!0}addEventListener(i,e,t){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:jp,detach:Np,resize:zp}[e]||Hp)(i,e,t)}removeEventListener(i,e){const t=i.$proxies||(i.$proxies={}),o=t[e];o&&(({attach:Bn,detach:Bn,resize:Bn}[e]||Lp)(i,e,o),t[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,t,o){return function lf(n,i,e,t){const o=Di(n),r=ie(o,"margin"),a=Mi(o.maxWidth,n,"clientWidth")||bi,l=Mi(o.maxHeight,n,"clientHeight")||bi,c=function af(n,i,e){let t,o;if(void 0===i||void 0===e){const r=En(n);if(r){const a=r.getBoundingClientRect(),l=Di(r),c=ie(l,"border","width"),d=ie(l,"padding");i=a.width-d.width-c.width,e=a.height-d.height-c.height,t=Mi(l.maxWidth,r,"clientWidth"),o=Mi(l.maxHeight,r,"clientHeight")}else i=n.clientWidth,e=n.clientHeight}return{width:i,height:e,maxWidth:t||bi,maxHeight:o||bi}}(n,i,e);let{width:d,height:h}=c;if("content-box"===o.boxSizing){const u=ie(o,"border","width"),f=ie(o,"padding");d-=f.width+u.width,h-=f.height+u.height}return d=Math.max(0,d-r.width),h=Math.max(0,t?Math.floor(d/t):h-r.height),d=Un(Math.min(d,a,c.maxWidth)),h=Un(Math.min(h,l,c.maxHeight)),d&&!h&&(h=Un(d/2)),{width:d,height:h}}(i,e,t,o)}isAttached(i){const e=En(i);return!(!e||!e.isConnected)}}class Wp{constructor(){this._init=[]}notify(i,e,t,o){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const r=o?this._descriptors(i).filter(o):this._descriptors(i),a=this._notify(r,i,e,t);return"afterDestroy"===e&&(this._notify(r,i,"stop"),this._notify(this._init,i,"uninstall")),a}_notify(i,e,t,o){o=o||{};for(const r of i){const a=r.plugin;if(!1===Y(a[t],[e,o,r.options],a)&&o.cancelable)return!1}return!0}invalidate(){N(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const t=i&&i.config,o=E(t.options&&t.options.plugins,{}),r=function Jp(n){const i={},e=[],t=Object.keys(Tt.plugins.items);for(let r=0;r<t.length;r++)e.push(Tt.getPlugin(t[r]));const o=n.plugins||[];for(let r=0;r<o.length;r++){const a=o[r];-1===e.indexOf(a)&&(e.push(a),i[a.id]=!0)}return{plugins:e,localIds:i}}(t);return!1!==o||e?function Gp(n,{plugins:i,localIds:e},t,o){const r=[],a=n.getContext();for(const l of i){const c=l.id,d=Kp(t[c],o);null!==d&&r.push({plugin:l,options:$p(n.config,{plugin:l,local:e[c]},d,a)})}return r}(i,r,o,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],t=this._cache,o=(r,a)=>r.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(o(e,t),i,"stop"),this._notify(o(t,e),i,"start")}}function Kp(n,i){return i||!1!==n?!0===n?{}:n:null}function $p(n,{plugin:i,local:e},t,o){const r=n.pluginScopeKeys(i),a=n.getOptionScopes(t,r);return e&&i.defaults&&a.push(i.defaults),n.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qn(n,i){return((i.datasets||{})[n]||{}).indexAxis||i.indexAxis||(L.datasets[n]||{}).indexAxis||"x"}function zn(n,i){return"x"===n||"y"===n?n:i.axis||function tg(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(i.position)||n.charAt(0).toLowerCase()}function Nr(n){const i=n.options||(n.options={});i.plugins=E(i.plugins,{}),i.scales=function eg(n,i){const e=Qt[n.type]||{scales:{}},t=i.scales||{},o=qn(n.type,i),r=Object.create(null),a=Object.create(null);return Object.keys(t).forEach(l=>{const c=t[l];if(!F(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=zn(l,c),h=function Xp(n,i){return n===i?"_index_":"_value_"}(d,o),u=e.scales||{};r[d]=r[d]||l,a[l]=Oe(Object.create(null),[{axis:d},c,u[d],u[h]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,d=l.indexAxis||qn(c,i),u=(Qt[c]||{}).scales||{};Object.keys(u).forEach(f=>{const p=function Qp(n,i){let e=n;return"_index_"===n?e=i:"_value_"===n&&(e="x"===i?"y":"x"),e}(f,d),g=l[p+"AxisID"]||r[p]||p;a[g]=a[g]||Object.create(null),Oe(a[g],[{axis:p},t[g],u[f]])})}),Object.keys(a).forEach(l=>{const c=a[l];Oe(c,[L.scales[c.type],L.scale])}),a}(n,i)}function Br(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const qr=new Map,zr=new Set;function Fi(n,i){let e=qr.get(n);return e||(e=i(),qr.set(n,e),zr.add(e)),e}const Qe=(n,i,e)=>{const t=Rt(i,e);void 0!==t&&n.add(t)};class ng{constructor(i){this._config=function ig(n){return(n=n||{}).data=Br(n.data),Nr(n),n}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Br(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),Nr(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return Fi(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return Fi(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return Fi(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return Fi(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const t=this._scopeCache;let o=t.get(i);return(!o||e)&&(o=new Map,t.set(i,o)),o}getOptionScopes(i,e,t){const{options:o,type:r}=this,a=this._cachedScopes(i,t),l=a.get(e);if(l)return l;const c=new Set;e.forEach(h=>{i&&(c.add(i),h.forEach(u=>Qe(c,i,u))),h.forEach(u=>Qe(c,o,u)),h.forEach(u=>Qe(c,Qt[r]||{},u)),h.forEach(u=>Qe(c,L,u)),h.forEach(u=>Qe(c,wn,u))});const d=Array.from(c);return 0===d.length&&d.push(Object.create(null)),zr.has(e)&&a.set(e,d),d}chartOptionScopes(){const{options:i,type:e}=this;return[i,Qt[e]||{},L.datasets[e]||{},{type:e},L,wn]}resolveNamedOptions(i,e,t,o=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=Hr(this._resolverCache,i,o);let c=a;(function og(n,i){const{isScriptable:e,isIndexable:t}=Vo(n);for(const o of i){const r=e(o),a=t(o),l=(a||r)&&n[o];if(r&&(jt(l)||sg(l))||a&&V(l))return!0}return!1})(a,e)&&(r.$shared=!1,c=ge(a,t=jt(t)?t():t,this.createResolver(i,t,l)));for(const d of e)r[d]=c[d];return r}createResolver(i,e,t=[""],o){const{resolver:r}=Hr(this._resolverCache,i,t);return F(e)?ge(r,e,void 0,o):r}}function Hr(n,i,e){let t=n.get(i);t||(t=new Map,n.set(i,t));const o=e.join();let r=t.get(o);return r||(r={resolver:In(i,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},t.set(o,r)),r}const sg=n=>F(n)&&Object.getOwnPropertyNames(n).reduce((i,e)=>i||jt(n[e]),!1),ag=["top","bottom","left","right","chartArea"];function Vr(n,i){return"top"===n||"bottom"===n||-1===ag.indexOf(n)&&"x"===i}function Yr(n,i){return function(e,t){return e[n]===t[n]?e[i]-t[i]:e[n]-t[n]}}function Wr(n){const i=n.chart,e=i.options.animation;i.notifyPlugins("afterRender"),Y(e&&e.onComplete,[n],i)}function lg(n){const i=n.chart,e=i.options.animation;Y(e&&e.onProgress,[n],i)}function Jr(n){return Xo()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Li={},Kr=n=>{const i=Jr(n);return Object.values(Li).filter(e=>e.canvas===i).pop()};function cg(n,i,e){const t=Object.keys(n);for(const o of t){const r=+o;if(r>=i){const a=n[o];delete n[o],(e>0||r>i)&&(n[r+e]=a)}}}class Xe{constructor(i,e){const t=this.config=new ng(e),o=Jr(i),r=Kr(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=t.createResolver(t.chartOptionScopes(),this.getContext());this.platform=new(t.platform||function Yp(n){return!Xo()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Op:Vp}(o)),this.platform.updateConfig(t);const l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;this.id=Bh(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wp,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function nu(n,i){let e;return function(...t){return i?(clearTimeout(e),e=setTimeout(n,i,t)):n.apply(this,t),i}}(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],Li[this.id]=this,l&&c?(Pt.listen(this,"complete",Wr),Pt.listen(this,"progress",lg),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:e},width:t,height:o,_aspectRatio:r}=this;return N(i)?e&&r?r:o?t/o:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tr(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qo(this.canvas,this.ctx),this}stop(){return Pt.stop(this),this}resize(i,e){Pt.running(this)?this._resizeBeforeDraw={width:i,height:e}:this._resize(i,e)}_resize(i,e){const t=this.options,a=this.platform.getMaximumSize(this.canvas,i,e,t.maintainAspectRatio&&this.aspectRatio),l=t.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,tr(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Y(t.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){z(this.options.scales||{},(t,o)=>{t.id=o})}buildOrUpdateScales(){const i=this.options,e=i.scales,t=this.scales,o=Object.keys(t).reduce((a,l)=>(a[l]=!1,a),{});let r=[];e&&(r=r.concat(Object.keys(e).map(a=>{const l=e[a],c=zn(a,l),d="r"===c,h="x"===c;return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),z(r,a=>{const l=a.options,c=l.id,d=zn(c,l),h=E(l.type,a.dtype);(void 0===l.position||Vr(l.position,d)!==Vr(a.dposition))&&(l.position=a.dposition),o[c]=!0;let u=null;c in t&&t[c].type===h?u=t[c]:(u=new(Tt.getScale(h))({id:c,type:h,ctx:this.ctx,chart:this}),t[u.id]=u),u.init(l,i)}),z(o,(a,l)=>{a||delete t[l]}),z(t,a=>{ct.configure(this,a,a.options),ct.addBox(this,a)})}_updateMetasets(){const i=this._metasets,e=this.data.datasets.length,t=i.length;if(i.sort((o,r)=>o.index-r.index),t>e){for(let o=e;o<t;++o)this._destroyDatasetMeta(o);i.splice(e,t-e)}this._sortedMetasets=i.slice(0).sort(Yr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:e}}=this;i.length>e.length&&delete this._stacks,i.forEach((t,o)=>{0===e.filter(r=>r===t._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const i=[],e=this.data.datasets;let t,o;for(this._removeUnreferencedMetasets(),t=0,o=e.length;t<o;t++){const r=e[t];let a=this.getDatasetMeta(t);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(t),a=this.getDatasetMeta(t)),a.type=l,a.indexAxis=r.indexAxis||qn(l,this.options),a.order=r.order||0,a.index=t,a.label=""+r.label,a.visible=this.isDatasetVisible(t),a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{const c=Tt.getController(l),{datasetElementType:d,dataElementType:h}=L.datasets[l];Object.assign(c.prototype,{dataElementType:Tt.getElement(h),datasetElementType:d&&Tt.getElement(d)}),a.controller=new c(this,t),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){z(this.data.datasets,(i,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const e=this.config;e.update();const t=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!t.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:u}=this.getDatasetMeta(d),f=!o&&-1===r.indexOf(u);u.buildOrUpdateElements(f),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=t.layout.autoPadding?a:0,this._updateLayout(a),o||z(r,d=>{d.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(Yr("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){z(this.scales,i=>{ct.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,e=new Set(Object.keys(this._listeners)),t=new Set(i.events);(!_o(e,t)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,e=this._getUniformDataChanges()||[];for(const{method:t,start:o,count:r}of e)cg(i,o,"_removeElements"===t?-r:r)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const e=this.data.datasets.length,t=r=>new Set(i.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),o=t(0);for(let r=1;r<e;r++)if(!_o(o,t(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ct.update(this,this.width,this.height,i);const e=this.chartArea,t=e.width<=0||e.height<=0;this._layers=[],z(this.boxes,o=>{t&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,t=this.data.datasets.length;e<t;++e)this._updateDataset(e,jt(i)?i({datasetIndex:e}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,e){const t=this.getDatasetMeta(i),o={meta:t,index:i,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(t.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Pt.has(this)?this.attached&&!Pt.running(this)&&Pt.start(this):(this.draw(),Wr({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:t,height:o}=this._resizeBeforeDraw;this._resize(t,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(i=0;i<e.length&&e[i].z<=0;++i)e[i].draw(this.chartArea);for(this._drawDatasets();i<e.length;++i)e[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const e=this._sortedMetasets,t=[];let o,r;for(o=0,r=e.length;o<r;++o){const a=e[o];(!i||a.visible)&&t.push(a)}return t}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let e=i.length-1;e>=0;--e)this._drawDataset(i[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const e=this.ctx,t=i._clip,o=!t.disabled,r=this.chartArea,a={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(o&&Ai(e,{left:!1===t.left?0:r.left-t.left,right:!1===t.right?this.width:r.right+t.right,top:!1===t.top?0:r.top-t.top,bottom:!1===t.bottom?this.height:r.bottom+t.bottom}),i.controller.draw(),o&&Si(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(i){return Be(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,e,t,o){const r=Ap.modes[e];return"function"==typeof r?r(this,i,t,o):[]}getDatasetMeta(i){const e=this.data.datasets[i],t=this._metasets;let o=t.filter(r=>r&&r._dataset===e).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:i,_dataset:e,_parsed:[],_sorted:!1},t.push(o)),o}getContext(){return this.$context||(this.$context=qt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const e=this.data.datasets[i];if(!e)return!1;const t=this.getDatasetMeta(i);return"boolean"==typeof t.hidden?!t.hidden:!e.hidden}setDatasetVisibility(i,e){this.getDatasetMeta(i).hidden=!e}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,e,t){const o=t?"show":"hide",r=this.getDatasetMeta(i),a=r.controller._resolveAnimations(void 0,o);mt(e)?(r.data[e].hidden=!t,this.update()):(this.setDatasetVisibility(i,t),a.update(r,{visible:t}),this.update(l=>l.datasetIndex===i?o:void 0))}hide(i,e){this._updateVisibility(i,e,!1)}show(i,e){this._updateVisibility(i,e,!0)}_destroyDatasetMeta(i){const e=this._metasets[i];e&&e.controller&&e.controller._destroy(),delete this._metasets[i]}_stop(){let i,e;for(this.stop(),Pt.remove(this),i=0,e=this.data.datasets.length;i<e;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:e}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),qo(i,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Li[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,e=this.platform,t=(r,a)=>{e.addEventListener(this,r,a),i[r]=a},o=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};z(this.options.events,r=>t(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,e=this.platform,t=(c,d)=>{e.addEventListener(this,c,d),i[c]=d},o=(c,d)=>{i[c]&&(e.removeEventListener(this,c,d),delete i[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)};let a;const l=()=>{o("attach",l),this.attached=!0,this.resize(),t("resize",r),t("detach",a)};a=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),t("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){z(this._listeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._listeners={},z(this._responsiveListeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,e,t){const o=t?"set":"remove";let r,a,l,c;for("dataset"===e&&(r=this.getDatasetMeta(i[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=i.length;l<c;++l){a=i[l];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const e=this._active||[],t=i.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!mi(t,e)&&(this._active=t,this._lastEvent=null,this._updateHoverStyles(t,e))}notifyPlugins(i,e,t){return this._plugins.notify(this,i,e,t)}_updateHoverStyles(i,e,t){const o=this.options.hover,r=(c,d)=>c.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),a=r(e,i),l=t?i:r(i,e);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(i,e){const t={event:i,replay:e,cancelable:!0,inChartArea:this.isPointInArea(i)},o=a=>(a.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",t,o))return;const r=this._handleEvent(i,e,t.inChartArea);return t.cancelable=!1,this.notifyPlugins("afterEvent",t,o),(r||t.changed)&&this.render(),this}_handleEvent(i,e,t){const{_active:o=[],options:r}=this,l=this._getActiveElements(i,o,t,e),c=function Wh(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(i),d=function dg(n,i,e,t){return e&&"mouseout"!==n.type?t?i:n:null}(i,this._lastEvent,t,c);t&&(this._lastEvent=null,Y(r.onHover,[i,l,this],this),c&&Y(r.onClick,[i,l,this],this));const h=!mi(l,o);return(h||e)&&(this._active=l,this._updateHoverStyles(l,o,e)),this._lastEvent=d,h}_getActiveElements(i,e,t,o){if("mouseout"===i.type)return[];if(!t)return e;const r=this.options.hover;return this.getElementsAtEventForMode(i,r.mode,r,o)}}const Gr=()=>z(Xe.instances,n=>n._plugins.invalidate()),zt=!0;function $r(n,i,e){const{startAngle:t,pixelMargin:o,x:r,y:a,outerRadius:l,innerRadius:c}=i;let d=o/l;n.beginPath(),n.arc(r,a,l,t-d,e+d),c>o?(d=o/c,n.arc(r,a,c,e+d,t-d,!0)):n.arc(r,a,o,e+$,t-$),n.closePath(),n.clip()}function be(n,i,e,t){return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}function Hn(n,i,e,t,o,r){const{x:a,y:l,startAngle:c,pixelMargin:d,innerRadius:h}=i,u=Math.max(i.outerRadius+t+e-d,0),f=h>0?h+t+e+d:0;let p=0;const g=o-c;if(t){const X=((h>0?h-t:0)+(u>0?u-t:0))/2;p=(g-(0!==X?g*X/(X+t):g))/2}const b=(g-Math.max(.001,g*u-e/G)/u)/2,v=c+b+p,x=o-b-p,{outerStart:C,outerEnd:T,innerStart:y,innerEnd:S}=function ug(n,i,e,t){const o=function hg(n){return Pn(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),r=(e-i)/2,a=Math.min(r,t*i/2),l=c=>{const d=(e-Math.min(r,c))*t/2;return ot(c,0,Math.min(r,d))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:ot(o.innerStart,0,a),innerEnd:ot(o.innerEnd,0,a)}}(i,f,u,x-v),w=u-C,M=u-T,D=v+C/w,j=x-T/M,B=f+y,R=f+S,tt=v+y/B,dt=x-S/R;if(n.beginPath(),r){if(n.arc(a,l,u,D,j),T>0){const X=be(M,j,a,l);n.arc(X.x,X.y,T,j,x+$)}const O=be(R,x,a,l);if(n.lineTo(O.x,O.y),S>0){const X=be(R,dt,a,l);n.arc(X.x,X.y,S,x+$,dt+Math.PI)}if(n.arc(a,l,f,x-S/f,v+y/f,!0),y>0){const X=be(B,tt,a,l);n.arc(X.x,X.y,y,tt+Math.PI,v-$)}const et=be(w,v,a,l);if(n.lineTo(et.x,et.y),C>0){const X=be(w,D,a,l);n.arc(X.x,X.y,C,v-$,D)}}else{n.moveTo(a,l);const O=Math.cos(D)*u+a,et=Math.sin(D)*u+l;n.lineTo(O,et);const X=Math.cos(j)*u+a,le=Math.sin(j)*u+l;n.lineTo(X,le)}n.closePath()}Object.defineProperties(Xe,{defaults:{enumerable:zt,value:L},instances:{enumerable:zt,value:Li},overrides:{enumerable:zt,value:Qt},registry:{enumerable:zt,value:Tt},version:{enumerable:zt,value:"3.9.1"},getChart:{enumerable:zt,value:Kr},register:{enumerable:zt,value:(...n)=>{Tt.add(...n),Gr()}},unregister:{enumerable:zt,value:(...n)=>{Tt.remove(...n),Gr()}}});class Ri extends xt{constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,t){const o=this.getProps(["x","y"],t),{angle:r,distance:a}=ko(o,{x:i,y:e}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],t),f=this.options.spacing/2,g=E(u,c-l)>=H||Fe(r,l,c),_=wt(a,d+f,h+f);return g&&_}getCenterPoint(i){const{x:e,y:t,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),{offset:c,spacing:d}=this.options,h=(o+r)/2,u=(a+l+d+c)/2;return{x:e+Math.cos(h)*u,y:t+Math.sin(h)*u}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:t}=this,o=(e.offset||0)/2,r=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=t>H?Math.floor(t/H):0,0===t||this.innerRadius<0||this.outerRadius<0)return;i.save();let l=0;if(o){l=o/2;const d=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(d)*l,Math.sin(d)*l),this.circumference>=G&&(l=o)}i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor;const c=function fg(n,i,e,t,o){const{fullCircles:r,startAngle:a,circumference:l}=i;let c=i.endAngle;if(r){Hn(n,i,e,t,a+H,o);for(let d=0;d<r;++d)n.fill();isNaN(l)||(c=a+l%H,l%H==0&&(c+=H))}return Hn(n,i,e,t,c,o),n.fill(),c}(i,this,l,r,a);(function gg(n,i,e,t,o,r){const{options:a}=i,{borderWidth:l,borderJoinStyle:c}=a,d="inner"===a.borderAlign;l&&(d?(n.lineWidth=2*l,n.lineJoin=c||"round"):(n.lineWidth=l,n.lineJoin=c||"bevel"),i.fullCircles&&function pg(n,i,e){const{x:t,y:o,startAngle:r,pixelMargin:a,fullCircles:l}=i,c=Math.max(i.outerRadius-a,0),d=i.innerRadius+a;let h;for(e&&$r(n,i,r+H),n.beginPath(),n.arc(t,o,d,r+H,r,!0),h=0;h<l;++h)n.stroke();for(n.beginPath(),n.arc(t,o,c,r,r+H),h=0;h<l;++h)n.stroke()}(n,i,d),d&&$r(n,i,o),Hn(n,i,e,t,o,r),n.stroke())})(i,this,l,r,c,a),i.restore()}}function Qr(n,i,e=i){n.lineCap=E(e.borderCapStyle,i.borderCapStyle),n.setLineDash(E(e.borderDash,i.borderDash)),n.lineDashOffset=E(e.borderDashOffset,i.borderDashOffset),n.lineJoin=E(e.borderJoinStyle,i.borderJoinStyle),n.lineWidth=E(e.borderWidth,i.borderWidth),n.strokeStyle=E(e.borderColor,i.borderColor)}function mg(n,i,e){n.lineTo(e.x,e.y)}function Xr(n,i,e={}){const t=n.length,{start:o=0,end:r=t-1}=e,{start:a,end:l}=i,c=Math.max(o,a),d=Math.min(r,l);return{count:t,start:c,loop:i.loop,ilen:d<c&&!(o<a&&r<a||o>l&&r>l)?t+d-c:d-c}}function bg(n,i,e,t){const{points:o,options:r}=i,{count:a,start:l,loop:c,ilen:d}=Xr(o,e,t),h=function _g(n){return n.stepped?Pu:n.tension||"monotone"===n.cubicInterpolationMode?Iu:mg}(r);let p,g,_,{move:u=!0,reverse:f}=t||{};for(p=0;p<=d;++p)g=o[(l+(f?d-p:p))%a],!g.skip&&(u?(n.moveTo(g.x,g.y),u=!1):h(n,_,g,f,r.stepped),_=g);return c&&(g=o[(l+(f?d:0))%a],h(n,_,g,f,r.stepped)),!!c}function vg(n,i,e,t){const o=i.points,{count:r,start:a,ilen:l}=Xr(o,e,t),{move:c=!0,reverse:d}=t||{};let f,p,g,_,b,v,h=0,u=0;const x=T=>(a+(d?l-T:T))%r,C=()=>{_!==b&&(n.lineTo(h,b),n.lineTo(h,_),n.lineTo(h,v))};for(c&&(p=o[x(0)],n.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=o[x(f)],p.skip)continue;const T=p.x,y=p.y,S=0|T;S===g?(y<_?_=y:y>b&&(b=y),h=(u*h+T)/++u):(C(),n.lineTo(T,y),g=S,u=0,_=b=y),v=y}C()}function Vn(n){const i=n.options;return n._decimated||n._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?bg:vg}Ri.id="arc",Ri.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Ri.defaultRoutes={backgroundColor:"backgroundColor"};const Tg="function"==typeof Path2D;let ji=(()=>{class n extends xt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(tf(this._points,o,e,o.spanGaps?this._loop:this._fullLoop,t),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function bf(n,i){const e=n.points,t=n.options.spanGaps,o=e.length;if(!o)return[];const r=!!n._loop,{start:a,end:l}=function mf(n,i,e,t){let o=0,r=i-1;if(e&&!t)for(;o<i&&!n[o].skip;)o++;for(;o<i&&n[o].skip;)o++;for(o%=i,e&&(r+=o);r>o&&n[r%i].skip;)r--;return r%=i,{start:o,end:r}}(e,o,r,t);return function cr(n,i,e,t){return t&&t.setContext&&e?function vf(n,i,e,t){const o=n._chart.getContext(),r=dr(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=e.length,d=[];let h=r,u=i[0].start,f=u;function p(g,_,b,v){const x=l?-1:1;if(g!==_){for(g+=c;e[g%c].skip;)g-=x;for(;e[_%c].skip;)_+=x;g%c!=_%c&&(d.push({start:g%c,end:_%c,loop:b,style:v}),h=v,u=_%c)}}for(const g of i){u=l?u:g.start;let b,_=e[u%c];for(f=u+1;f<=g.end;f++){const v=e[f%c];b=dr(t.setContext(qt(o,{type:"segment",p0:_,p1:v,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),xf(b,h)&&p(u,f-1,g.loop,h),_=v,h=b}u<f-1&&p(u,f-1,g.loop,h)}return d}(n,i,e,t):i}(n,!0===t?[{start:a,end:l,loop:r}]:function _f(n,i,e,t){const o=n.length,r=[];let c,a=i,l=n[i];for(c=i+1;c<=e;++c){const d=n[c%o];d.skip||d.stop?l.skip||(r.push({start:i%o,end:(c-1)%o,loop:t=!1}),i=a=d.stop?c:null):(a=c,l.skip&&(i=c)),l=d}return null!==a&&r.push({start:i%o,end:a%o,loop:t}),r}(e,a,l<a?l+o:l,!!n._fullLoop&&0===a&&l===o-1),e,i)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,o=e.length;return o&&this.points[e[o-1].end]}interpolate(e,t){const o=this.options,r=e[t],a=this.points,l=lr(this,{property:t,start:r,end:r});if(!l.length)return;const c=[],d=function xg(n){return n.stepped?df:n.tension||"monotone"===n.cubicInterpolationMode?hf:se}(o);let h,u;for(h=0,u=l.length;h<u;++h){const{start:f,end:p}=l[h],g=a[f],_=a[p];if(g===_){c.push(g);continue}const v=d(g,_,Math.abs((r-g[t])/(_[t]-g[t])),o.stepped);v[t]=e[t],c.push(v)}return 1===c.length?c[0]:c}pathSegment(e,t,o){return Vn(this)(e,this,t,o)}path(e,t,o){const r=this.segments,a=Vn(this);let l=this._loop;t=t||0,o=o||this.points.length-t;for(const c of r)l&=a(e,this,c,{start:t,end:t+o-1});return!!l}draw(e,t,o,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Cg(n,i,e,t){Tg&&!i.options.segment?function yg(n,i,e,t){let o=i._path;o||(o=i._path=new Path2D,i.path(o,e,t)&&o.closePath()),Qr(n,i.options),n.stroke(o)}(n,i,e,t):function kg(n,i,e,t){const{segments:o,options:r}=i,a=Vn(i);for(const l of o)Qr(n,r,l.style),n.beginPath(),a(n,i,l,{start:e,end:e+t-1})&&n.closePath(),n.stroke()}(n,i,e,t)}(e,this,o,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i},n})();function ta(n,i,e,t){const o=n.options,{[e]:r}=n.getProps([e],t);return Math.abs(i-r)<o.radius+o.hitRadius}let Ag=(()=>{class n extends xt{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,o){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],o);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return ta(this,e,"x",t)}inYRange(e,t){return ta(this,e,"y",t)}getCenterPoint(e){const{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const o=this.options;this.skip||o.radius<.1||!Be(this,t,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,Dn(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function ea(n,i){const{x:e,y:t,base:o,width:r,height:a}=n.getProps(["x","y","base","width","height"],i);let l,c,d,h,u;return n.horizontal?(u=a/2,l=Math.min(e,o),c=Math.max(e,o),d=t-u,h=t+u):(u=r/2,l=e-u,c=e+u,d=Math.min(t,o),h=Math.max(t,o)),{left:l,top:d,right:c,bottom:h}}function Ht(n,i,e,t){return n?0:ot(i,e,t)}function Yn(n,i,e,t){const o=null===i,r=null===e,l=n&&!(o&&r)&&ea(n,t);return l&&(o||wt(i,l.left,l.right))&&(r||wt(e,l.top,l.bottom))}function Pg(n,i){n.rect(i.x,i.y,i.w,i.h)}function Wn(n,i,e={}){const t=n.x!==e.x?-i:0,o=n.y!==e.y?-i:0;return{x:n.x+t,y:n.y+o,w:n.w+((n.x+n.w!==e.x+e.w?i:0)-t),h:n.h+((n.y+n.h!==e.y+e.h?i:0)-o),radius:n.radius}}class Ni extends xt{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:t,backgroundColor:o}}=this,{inner:r,outer:a}=function Mg(n){const i=ea(n),e=i.right-i.left,t=i.bottom-i.top,o=function Sg(n,i,e){const o=n.borderSkipped,r=Ho(n.options.borderWidth);return{t:Ht(o.top,r.top,0,e),r:Ht(o.right,r.right,0,i),b:Ht(o.bottom,r.bottom,0,e),l:Ht(o.left,r.left,0,i)}}(n,e/2,t/2),r=function wg(n,i,e){const{enableBorderRadius:t}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,r=ee(o),a=Math.min(i,e),l=n.borderSkipped,c=t||F(o);return{topLeft:Ht(!c||l.top||l.left,r.topLeft,0,a),topRight:Ht(!c||l.top||l.right,r.topRight,0,a),bottomLeft:Ht(!c||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:Ht(!c||l.bottom||l.right,r.bottomRight,0,a)}}(n,e/2,t/2);return{outer:{x:i.left,y:i.top,w:e,h:t,radius:r},inner:{x:i.left+o.l,y:i.top+o.t,w:e-o.l-o.r,h:t-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}(this),l=function Dg(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?qe:Pg;i.save(),(a.w!==r.w||a.h!==r.h)&&(i.beginPath(),l(i,Wn(a,e,r)),i.clip(),l(i,Wn(r,-e,a)),i.fillStyle=t,i.fill("evenodd")),i.beginPath(),l(i,Wn(r,e)),i.fillStyle=o,i.fill(),i.restore()}inRange(i,e,t){return Yn(this,i,e,t)}inXRange(i,e){return Yn(this,i,null,e)}inYRange(i,e){return Yn(this,null,i,e)}getCenterPoint(i){const{x:e,y:t,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],i);return{x:r?(e+o)/2:e,y:r?t:(t+o)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}Ni.id="bar",Ni.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Ni.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Ig=Object.freeze({__proto__:null,ArcElement:Ri,LineElement:ji,PointElement:Ag,BarElement:Ni});function ia(n){if(n._decimated){const i=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:i})}}function na(n){n.data.datasets.forEach(i=>{ia(i)})}var Ug={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,i,e)=>{if(!e.enabled)return void na(n);const t=n.width;n.data.datasets.forEach((o,r)=>{const{_data:a,indexAxis:l}=o,c=n.getDatasetMeta(r),d=a||o.data;if("y"===ze([l,n.options.indexAxis])||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if("linear"!==h.type&&"time"!==h.type||n.options.parsing)return;let g,{start:u,count:f}=function Eg(n,i){const e=i.length;let o,t=0;const{iScale:r}=n,{min:a,max:l,minDefined:c,maxDefined:d}=r.getUserBounds();return c&&(t=ot(Mt(i,r.axis,a).lo,0,e-1)),o=d?ot(Mt(i,r.axis,l).hi+1,t,e)-t:e-t,{start:t,count:o}}(c,d);if(f<=(e.threshold||4*t))ia(o);else{switch(N(a)&&(o._data=d,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}})),e.algorithm){case"lttb":g=function Zg(n,i,e,t,o){const r=o.samples||t;if(r>=e)return n.slice(i,i+e);const a=[],l=(e-2)/(r-2);let c=0;const d=i+e-1;let u,f,p,g,_,h=i;for(a[c++]=n[h],u=0;u<r-2;u++){let x,b=0,v=0;const C=Math.floor((u+1)*l)+1+i,T=Math.min(Math.floor((u+2)*l)+1,e)+i,y=T-C;for(x=C;x<T;x++)b+=n[x].x,v+=n[x].y;b/=y,v/=y;const S=Math.floor(u*l)+1+i,w=Math.min(Math.floor((u+1)*l)+1,e)+i,{x:M,y:D}=n[h];for(p=g=-1,x=S;x<w;x++)g=.5*Math.abs((M-b)*(n[x].y-D)-(M-n[x].x)*(v-D)),g>p&&(p=g,f=n[x],_=x);a[c++]=f,h=_}return a[c++]=n[d],a}(d,u,f,t,e);break;case"min-max":g=function Og(n,i,e,t){let a,l,c,d,h,u,f,p,g,_,o=0,r=0;const b=[],x=n[i].x,T=n[i+e-1].x-x;for(a=i;a<i+e;++a){l=n[a],c=(l.x-x)/T*t,d=l.y;const y=0|c;if(y===h)d<g?(g=d,u=a):d>_&&(_=d,f=a),o=(r*o+l.x)/++r;else{const S=a-1;if(!N(u)&&!N(f)){const w=Math.min(u,f),M=Math.max(u,f);w!==p&&w!==S&&b.push({...n[w],x:o}),M!==p&&M!==S&&b.push({...n[M],x:o})}a>0&&S!==p&&b.push(n[S]),b.push(l),h=y,r=0,g=_=d,u=f=p=a}}return b}(d,u,f,t);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=g}})},destroy(n){na(n)}};function Jn(n,i,e,t){if(t)return;let o=i[n],r=e[n];return"angle"===n&&(o=ft(o),r=ft(r)),{property:n,start:o,end:r}}function Kn(n,i,e){for(;i>n;i--){const t=e[i];if(!isNaN(t.x)&&!isNaN(t.y))break}return i}function sa(n,i,e,t){return n&&i?t(n[e],i[e]):n?n[e]:i?i[e]:0}function oa(n,i){let e=[],t=!1;return V(n)?(t=!0,e=n):e=function Lg(n,i){const{x:e=null,y:t=null}=n||{},o=i.points,r=[];return i.segments.forEach(({start:a,end:l})=>{l=Kn(a,l,o);const c=o[a],d=o[l];null!==t?(r.push({x:c.x,y:t}),r.push({x:d.x,y:t})):null!==e&&(r.push({x:e,y:c.y}),r.push({x:e,y:d.y}))}),r}(n,i),e.length?new ji({points:e,options:{tension:0},_loop:t,_fullLoop:t}):null}function ra(n){return n&&!1!==n.fill}function Rg(n,i,e){let o=n[i].fill;const r=[i];let a;if(!e)return o;for(;!1!==o&&-1===r.indexOf(o);){if(!Q(o))return o;if(a=n[o],!a)return!1;if(a.visible)return o;r.push(o),o=a.fill}return!1}function jg(n,i,e){const t=function zg(n){const i=n.options,e=i.fill;let t=E(e&&e.target,e);return void 0===t&&(t=!!i.backgroundColor),!1!==t&&null!==t&&(!0===t?"origin":t)}(n);if(F(t))return!isNaN(t.value)&&t;let o=parseFloat(t);return Q(o)&&Math.floor(o)===o?function Ng(n,i,e,t){return("-"===n||"+"===n)&&(e=i+e),!(e===i||e<0||e>=t)&&e}(t[0],i,o,e):["origin","start","end","stack","shape"].indexOf(t)>=0&&t}function Yg(n,i,e){const t=[];for(let o=0;o<e.length;o++){const r=e[o],{first:a,last:l,point:c}=Wg(r,i,"x");if(!(!c||a&&l))if(a)t.unshift(c);else if(n.push(c),!l)break}n.push(...t)}function Wg(n,i,e){const t=n.interpolate(i,e);if(!t)return{};const o=t[e],r=n.segments,a=n.points;let l=!1,c=!1;for(let d=0;d<r.length;d++){const h=r[d],u=a[h.start][e],f=a[h.end][e];if(wt(o,u,f)){l=o===u,c=o===f;break}}return{first:l,last:c,point:t}}class aa{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,t){const{x:o,y:r,radius:a}=this;return i.arc(o,r,a,(e=e||{start:0,end:H}).end,e.start,!0),!t.bounds}interpolate(i){const{x:e,y:t,radius:o}=this,r=i.angle;return{x:e+Math.cos(r)*o,y:t+Math.sin(r)*o,angle:r}}}function Gn(n,i,e){const t=function Jg(n){const{chart:i,fill:e,line:t}=n;if(Q(e))return function Kg(n,i){const e=n.getDatasetMeta(i);return e&&n.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function Hg(n){const{scale:i,index:e,line:t}=n,o=[],r=t.segments,a=t.points,l=function Vg(n,i){const e=[],t=n.getMatchingVisibleMetas("line");for(let o=0;o<t.length;o++){const r=t[o];if(r.index===i)break;r.hidden||e.unshift(r.dataset)}return e}(i,e);l.push(oa({x:null,y:i.bottom},t));for(let c=0;c<r.length;c++){const d=r[c];for(let h=d.start;h<=d.end;h++)Yg(o,a[h],l)}return new ji({points:o,options:{}})}(n);if("shape"===e)return!0;const o=function Gg(n){return(n.scale||{}).getPointPositionForValue?function Qg(n){const{scale:i,fill:e}=n,t=i.options,o=i.getLabels().length,r=t.reverse?i.max:i.min,a=function qg(n,i,e){let t;return t="start"===n?e:"end"===n?i.options.reverse?i.min:i.max:F(n)?n.value:i.getBaseValue(),t}(e,i,r),l=[];if(t.grid.circular){const c=i.getPointPositionForValue(0,r);return new aa({x:c.x,y:c.y,radius:i.getDistanceFromCenterForValue(a)})}for(let c=0;c<o;++c)l.push(i.getPointPositionForValue(c,a));return l}(n):function $g(n){const{scale:i={},fill:e}=n,t=function Bg(n,i){let e=null;return"start"===n?e=i.bottom:"end"===n?e=i.top:F(n)?e=i.getPixelForValue(n.value):i.getBasePixel&&(e=i.getBasePixel()),e}(e,i);if(Q(t)){const o=i.isHorizontal();return{x:o?t:null,y:o?null:t}}return null}(n)}(n);return o instanceof aa?o:oa(o,t)}(i),{line:o,scale:r,axis:a}=i,l=o.options,c=l.fill,d=l.backgroundColor,{above:h=d,below:u=d}=c||{};t&&o.points.length&&(Ai(n,e),function Xg(n,i){const{line:e,target:t,above:o,below:r,area:a,scale:l}=i,c=e._loop?"angle":i.axis;n.save(),"x"===c&&r!==o&&(la(n,t,a.top),ca(n,{line:e,target:t,color:o,scale:l,property:c}),n.restore(),n.save(),la(n,t,a.bottom)),ca(n,{line:e,target:t,color:r,scale:l,property:c}),n.restore()}(n,{line:o,target:t,above:h,below:u,area:e,scale:r,axis:a}),Si(n))}function la(n,i,e){const{segments:t,points:o}=i;let r=!0,a=!1;n.beginPath();for(const l of t){const{start:c,end:d}=l,h=o[c],u=o[Kn(c,d,o)];r?(n.moveTo(h.x,h.y),r=!1):(n.lineTo(h.x,e),n.lineTo(h.x,h.y)),a=!!i.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(u.x,e)}n.lineTo(i.first().x,e),n.closePath(),n.clip()}function ca(n,i){const{line:e,target:t,property:o,color:r,scale:a}=i,l=function Fg(n,i,e){const t=n.segments,o=n.points,r=i.points,a=[];for(const l of t){let{start:c,end:d}=l;d=Kn(c,d,o);const h=Jn(e,o[c],o[d],l.loop);if(!i.segments){a.push({source:l,target:h,start:o[c],end:o[d]});continue}const u=lr(i,h);for(const f of u){const p=Jn(e,r[f.start],r[f.end],f.loop),g=ar(l,o,p);for(const _ of g)a.push({source:_,target:f,start:{[e]:sa(h,p,"start",Math.max)},end:{[e]:sa(h,p,"end",Math.min)}})}}return a}(e,t,o);for(const{source:c,target:d,start:h,end:u}of l){const{style:{backgroundColor:f=r}={}}=c,p=!0!==t;n.save(),n.fillStyle=f,tm(n,a,p&&Jn(o,h,u)),n.beginPath();const g=!!e.pathSegment(n,c);let _;if(p){g?n.closePath():da(n,t,u,o);const b=!!t.pathSegment(n,d,{move:g,reverse:!0});_=g&&b,_||da(n,t,h,o)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function tm(n,i,e){const{top:t,bottom:o}=i.chart.chartArea,{property:r,start:a,end:l}=e||{};"x"===r&&(n.beginPath(),n.rect(a,t,l-a,o-t),n.clip())}function da(n,i,e,t){const o=i.interpolate(e,t);o&&n.lineTo(o.x,o.y)}var em={id:"filler",afterDatasetsUpdate(n,i,e){const t=(n.data.datasets||[]).length,o=[];let r,a,l,c;for(a=0;a<t;++a)r=n.getDatasetMeta(a),l=r.dataset,c=null,l&&l.options&&l instanceof ji&&(c={visible:n.isDatasetVisible(a),index:a,fill:jg(l,a,t),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=c,o.push(c);for(a=0;a<t;++a)c=o[a],c&&!1!==c.fill&&(c.fill=Rg(o,a,e.propagate))},beforeDraw(n,i,e){const t="beforeDraw"===e.drawTime,o=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let a=o.length-1;a>=0;--a){const l=o[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),t&&l.fill&&Gn(n.ctx,l,r))}},beforeDatasetsDraw(n,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const t=n.getSortedVisibleDatasetMetas();for(let o=t.length-1;o>=0;--o){const r=t[o].$filler;ra(r)&&Gn(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,i,e){const t=i.meta.$filler;!ra(t)||"beforeDatasetDraw"!==e.drawTime||Gn(n.ctx,t,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ha=(n,i)=>{let{boxHeight:e=i,boxWidth:t=i}=n;return n.usePointStyle&&(e=Math.min(e,i),t=n.pointStyleWidth||Math.min(t,i)),{boxWidth:t,boxHeight:e,itemHeight:Math.max(i,e)}};class ua extends xt{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,t){this.maxWidth=i,this.maxHeight=e,this._margins=t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=Y(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(t=>i.filter(t,this.chart.data))),i.sort&&(e=e.sort((t,o)=>i.sort(t,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const t=i.labels,o=it(t.font),r=o.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=ha(t,r);let d,h;e.font=o.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(a,r,l,c)+10):(h=this.maxHeight,d=this._fitCols(a,r,l,c)+10),this.width=Math.min(d,i.maxWidth||this.maxWidth),this.height=Math.min(h,i.maxHeight||this.maxHeight)}_fitRows(i,e,t,o){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=o+l;let u=i;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-h;return this.legendItems.forEach((g,_)=>{const b=t+e/2+r.measureText(g.text).width;(0===_||d[d.length-1]+b+2*l>a)&&(u+=h,d[d.length-(_>0?0:1)]=0,p+=h,f++),c[_]={left:0,top:p,row:f,width:b,height:o},d[d.length-1]+=b+l}),u}_fitCols(i,e,t,o){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=a-i;let u=l,f=0,p=0,g=0,_=0;return this.legendItems.forEach((b,v)=>{const x=t+e/2+r.measureText(b.text).width;v>0&&p+o+2*l>h&&(u+=f+l,d.push({width:f,height:p}),g+=f+l,_++,f=p=0),c[v]={left:g,top:p,col:_,width:x,height:o},f=Math.max(f,x),p+=o+l}),u+=f,d.push({width:f,height:p}),u}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:t,labels:{padding:o},rtl:r}}=this,a=_e(r,this.left,this.width);if(this.isHorizontal()){let l=0,c=at(t,this.left+o,this.right-this.lineWidths[l]);for(const d of e)l!==d.row&&(l=d.row,c=at(t,this.left+o,this.right-this.lineWidths[l])),d.top+=this.top+i+o,d.left=a.leftForLtr(a.x(c),d.width),c+=d.width+o}else{let l=0,c=at(t,this.top+i+o,this.bottom-this.columnSizes[l].height);for(const d of e)d.col!==l&&(l=d.col,c=at(t,this.top+i+o,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+o,d.left=a.leftForLtr(a.x(d.left),d.width),c+=d.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;Ai(i,this),this._draw(),Si(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:t,ctx:o}=this,{align:r,labels:a}=i,l=L.color,c=_e(i.rtl,this.left,this.width),d=it(a.font),{color:h,padding:u}=a,f=d.size,p=f/2;let g;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=d.string;const{boxWidth:_,boxHeight:b,itemHeight:v}=ha(a,f),T=this.isHorizontal(),y=this._computeTitleHeight();g=T?{x:at(r,this.left+u,this.right-t[0]),y:this.top+u+y,line:0}:{x:this.left+u,y:at(r,this.top+y+u,this.bottom-e[0].height),line:0},nr(this.ctx,i.textDirection);const S=v+u;this.legendItems.forEach((w,M)=>{o.strokeStyle=w.fontColor||h,o.fillStyle=w.fontColor||h;const D=o.measureText(w.text).width,j=c.textAlign(w.textAlign||(w.textAlign=a.textAlign)),B=_+p+D;let R=g.x,tt=g.y;c.setWidth(this.width),T?M>0&&R+B+u>this.right&&(tt=g.y+=S,g.line++,R=g.x=at(r,this.left+u,this.right-t[g.line])):M>0&&tt+S>this.bottom&&(R=g.x=R+e[g.line].width+u,g.line++,tt=g.y=at(r,this.top+y+u,this.bottom-e[g.line].height)),function(w,M,D){if(isNaN(_)||_<=0||isNaN(b)||b<0)return;o.save();const j=E(D.lineWidth,1);if(o.fillStyle=E(D.fillStyle,l),o.lineCap=E(D.lineCap,"butt"),o.lineDashOffset=E(D.lineDashOffset,0),o.lineJoin=E(D.lineJoin,"miter"),o.lineWidth=j,o.strokeStyle=E(D.strokeStyle,l),o.setLineDash(E(D.lineDash,[])),a.usePointStyle){const B={radius:b*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:j},R=c.xPlus(w,_/2);zo(o,B,R,M+p,a.pointStyleWidth&&_)}else{const B=M+Math.max((f-b)/2,0),R=c.leftForLtr(w,_),tt=ee(D.borderRadius);o.beginPath(),Object.values(tt).some(dt=>0!==dt)?qe(o,{x:R,y:B,w:_,h:b,radius:tt}):o.rect(R,B,_,b),o.fill(),0!==j&&o.stroke()}o.restore()}(c.x(R),tt,w),R=((n,i,e,t)=>n===(t?"left":"right")?e:"center"===n?(i+e)/2:i)(j,R+_+p,T?R+B:this.right,i.rtl),function(w,M,D){te(o,D.text,w,M+v/2,d,{strikethrough:D.hidden,textAlign:c.textAlign(D.textAlign)})}(c.x(R),tt,w),T?g.x+=B+u:g.y+=S}),sr(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,t=it(e.font),o=lt(e.padding);if(!e.display)return;const r=_e(i.rtl,this.left,this.width),a=this.ctx,l=e.position,d=o.top+t.size/2;let h,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+d,u=at(i.align,u,this.right-f);else{const g=this.columnSizes.reduce((_,b)=>Math.max(_,b.height),0);h=d+at(i.align,this.top,this.bottom-g-i.labels.padding-this._computeTitleHeight())}const p=at(l,u,u+f);a.textAlign=r.textAlign(xn(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=t.string,te(a,e.text,p,h,t)}_computeTitleHeight(){const i=this.options.title,e=it(i.font),t=lt(i.padding);return i.display?e.lineHeight+t.height:0}_getLegendItemAt(i,e){let t,o,r;if(wt(i,this.left,this.right)&&wt(e,this.top,this.bottom))for(r=this.legendHitBoxes,t=0;t<r.length;++t)if(o=r[t],wt(i,o.left,o.left+o.width)&&wt(e,o.top,o.top+o.height))return this.legendItems[t];return null}handleEvent(i){const e=this.options;if(!function nm(n,i){return!(("mousemove"!==n&&"mouseout"!==n||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==n&&"mouseup"!==n))}(i.type,e))return;const t=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const o=this._hoveredItem,r=((n,i)=>null!==n&&null!==i&&n.datasetIndex===i.datasetIndex&&n.index===i.index)(o,t);o&&!r&&Y(e.onLeave,[i,o,this],this),this._hoveredItem=t,t&&!r&&Y(e.onHover,[i,t,this],this)}else t&&Y(e.onClick,[i,t,this],this)}}var sm={id:"legend",_element:ua,start(n,i,e){const t=n.legend=new ua({ctx:n.ctx,options:e,chart:n});ct.configure(n,t,e),ct.addBox(n,t)},stop(n){ct.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,i,e){const t=n.legend;ct.configure(n,t,e),t.options=e},afterUpdate(n){const i=n.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(n,i){i.replay||n.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,i,e){const t=i.datasetIndex,o=e.chart;o.isDatasetVisible(t)?(o.hide(t),i.hidden=!0):(o.show(t),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const i=n.data.datasets,{labels:{usePointStyle:e,pointStyle:t,textAlign:o,color:r}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{const l=a.controller.getStyle(e?0:void 0),c=lt(l.borderWidth);return{text:i[a.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!a.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:t||l.pointStyle,rotation:l.rotation,textAlign:o||l.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class $n extends xt{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const t=this.options;if(this.left=0,this.top=0,!t.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const o=V(t.text)?t.text.length:1;this._padding=lt(t.padding);const r=o*it(t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:t,bottom:o,right:r,options:a}=this,l=a.align;let d,h,u,c=0;return this.isHorizontal()?(h=at(l,t,r),u=e+i,d=r-t):("left"===a.position?(h=t+i,u=at(l,o,e),c=-.5*G):(h=r-i,u=at(l,e,o),c=.5*G),d=o-e),{titleX:h,titleY:u,maxWidth:d,rotation:c}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const t=it(e.font),r=t.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(r);te(i,e.text,0,0,t,{color:e.color,maxWidth:c,rotation:d,textAlign:xn(e.align),textBaseline:"middle",translation:[a,l]})}}var rm={id:"title",_element:$n,start(n,i,e){!function om(n,i){const e=new $n({ctx:n.ctx,options:i,chart:n});ct.configure(n,e,i),ct.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){ct.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,i,e){const t=n.titleBlock;ct.configure(n,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bi=new WeakMap;var am={id:"subtitle",start(n,i,e){const t=new $n({ctx:n.ctx,options:e,chart:n});ct.configure(n,t,e),ct.addBox(n,t),Bi.set(n,t)},stop(n){ct.removeBox(n,Bi.get(n)),Bi.delete(n)},beforeUpdate(n,i,e){const t=Bi.get(n);ct.configure(n,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ti={average(n){if(!n.length)return!1;let i,e,t=0,o=0,r=0;for(i=0,e=n.length;i<e;++i){const a=n[i].element;if(a&&a.hasValue()){const l=a.tooltipPosition();t+=l.x,o+=l.y,++r}}return{x:t/r,y:o/r}},nearest(n,i){if(!n.length)return!1;let r,a,l,e=i.x,t=i.y,o=Number.POSITIVE_INFINITY;for(r=0,a=n.length;r<a;++r){const c=n[r].element;if(c&&c.hasValue()){const h=bn(i,c.getCenterPoint());h<o&&(o=h,l=c)}}if(l){const c=l.tooltipPosition();e=c.x,t=c.y}return{x:e,y:t}}};function Ct(n,i){return i&&(V(i)?Array.prototype.push.apply(n,i):n.push(i)),n}function It(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function lm(n,i){const{element:e,datasetIndex:t,index:o}=i,r=n.getDatasetMeta(t).controller,{label:a,value:l}=r.getLabelAndValue(o);return{chart:n,label:a,parsed:r.getParsed(o),raw:n.data.datasets[t].data[o],formattedValue:l,dataset:r.getDataset(),dataIndex:o,datasetIndex:t,element:e}}function fa(n,i){const e=n.chart.ctx,{body:t,footer:o,title:r}=n,{boxWidth:a,boxHeight:l}=i,c=it(i.bodyFont),d=it(i.titleFont),h=it(i.footerFont),u=r.length,f=o.length,p=t.length,g=lt(i.padding);let _=g.height,b=0,v=t.reduce((T,y)=>T+y.before.length+y.lines.length+y.after.length,0);v+=n.beforeBody.length+n.afterBody.length,u&&(_+=u*d.lineHeight+(u-1)*i.titleSpacing+i.titleMarginBottom),v&&(_+=p*(i.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(v-p)*c.lineHeight+(v-1)*i.bodySpacing),f&&(_+=i.footerMarginTop+f*h.lineHeight+(f-1)*i.footerSpacing);let x=0;const C=function(T){b=Math.max(b,e.measureText(T).width+x)};return e.save(),e.font=d.string,z(n.title,C),e.font=c.string,z(n.beforeBody.concat(n.afterBody),C),x=i.displayColors?a+2+i.boxPadding:0,z(t,T=>{z(T.before,C),z(T.lines,C),z(T.after,C)}),x=0,e.font=h.string,z(n.footer,C),e.restore(),b+=g.width,{width:b,height:_}}function hm(n,i,e,t){const{x:o,width:r}=e,{width:a,chartArea:{left:l,right:c}}=n;let d="center";return"center"===t?d=o<=(l+c)/2?"left":"right":o<=r/2?d="left":o>=a-r/2&&(d="right"),function dm(n,i,e,t){const{x:o,width:r}=t,a=e.caretSize+e.caretPadding;if("left"===n&&o+r+a>i.width||"right"===n&&o-r-a<0)return!0}(d,n,i,e)&&(d="center"),d}function pa(n,i,e){const t=e.yAlign||i.yAlign||function cm(n,i){const{y:e,height:t}=i;return e<t/2?"top":e>n.height-t/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||i.xAlign||hm(n,i,e,t),yAlign:t}}function ga(n,i,e,t){const{caretSize:o,caretPadding:r,cornerRadius:a}=n,{xAlign:l,yAlign:c}=e,d=o+r,{topLeft:h,topRight:u,bottomLeft:f,bottomRight:p}=ee(a);let g=function um(n,i){let{x:e,width:t}=n;return"right"===i?e-=t:"center"===i&&(e-=t/2),e}(i,l);const _=function fm(n,i,e){let{y:t,height:o}=n;return"top"===i?t+=e:t-="bottom"===i?o+e:o/2,t}(i,c,d);return"center"===c?"left"===l?g+=d:"right"===l&&(g-=d):"left"===l?g-=Math.max(h,f)+o:"right"===l&&(g+=Math.max(u,p)+o),{x:ot(g,0,t.width-i.width),y:ot(_,0,t.height-i.height)}}function qi(n,i,e){const t=lt(e.padding);return"center"===i?n.x+n.width/2:"right"===i?n.x+n.width-t.right:n.x+t.left}function ma(n){return Ct([],It(n))}function _a(n,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?n.override(e):n}let ba=(()=>{class n extends xt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&t.options.animation&&o.animations,a=new ur(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function pm(n,i,e){return qt(n,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:o}=t,r=o.beforeTitle.apply(this,[e]),a=o.title.apply(this,[e]),l=o.afterTitle.apply(this,[e]);let c=[];return c=Ct(c,It(r)),c=Ct(c,It(a)),c=Ct(c,It(l)),c}getBeforeBody(e,t){return ma(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:o}=t,r=[];return z(e,a=>{const l={before:[],lines:[],after:[]},c=_a(o,a);Ct(l.before,It(c.beforeLabel.call(this,a))),Ct(l.lines,c.label.call(this,a)),Ct(l.after,It(c.afterLabel.call(this,a))),r.push(l)}),r}getAfterBody(e,t){return ma(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:o}=t,r=o.beforeFooter.apply(this,[e]),a=o.footer.apply(this,[e]),l=o.afterFooter.apply(this,[e]);let c=[];return c=Ct(c,It(r)),c=Ct(c,It(a)),c=Ct(c,It(l)),c}_createItems(e){const t=this._active,o=this.chart.data,r=[],a=[],l=[];let d,h,c=[];for(d=0,h=t.length;d<h;++d)c.push(lm(this.chart,t[d]));return e.filter&&(c=c.filter((u,f,p)=>e.filter(u,f,p,o))),e.itemSort&&(c=c.sort((u,f)=>e.itemSort(u,f,o))),z(c,u=>{const f=_a(e.callbacks,u);r.push(f.labelColor.call(this,u)),a.push(f.labelPointStyle.call(this,u)),l.push(f.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const o=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(r.length){const c=ti[o.position].call(this,r,this._eventPosition);l=this._createItems(o),this.title=this.getTitle(l,o),this.beforeBody=this.getBeforeBody(l,o),this.body=this.getBody(l,o),this.afterBody=this.getAfterBody(l,o),this.footer=this.getFooter(l,o);const d=this._size=fa(this,o),h=Object.assign({},c,d),u=pa(this.chart,o,h),f=ga(o,h,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:f.x,y:f.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,o,r){const a=this.getCaretPosition(e,o,r);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,o){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:c}=o,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:f}=ee(c),{x:p,y:g}=e,{width:_,height:b}=t;let v,x,C,T,y,S;return"center"===a?(y=g+b/2,"left"===r?(v=p,x=v-l,T=y+l,S=y-l):(v=p+_,x=v+l,T=y-l,S=y+l),C=v):(x="left"===r?p+Math.max(d,u)+l:"right"===r?p+_-Math.max(h,f)-l:this.caretX,"top"===a?(T=g,y=T-l,v=x-l,C=x+l):(T=g+b,y=T+l,v=x+l,C=x-l),S=T),{x1:v,x2:x,x3:C,y1:T,y2:y,y3:S}}drawTitle(e,t,o){const r=this.title,a=r.length;let l,c,d;if(a){const h=_e(o.rtl,this.x,this.width);for(e.x=qi(this,o.titleAlign,o),t.textAlign=h.textAlign(o.titleAlign),t.textBaseline="middle",l=it(o.titleFont),c=o.titleSpacing,t.fillStyle=o.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(r[d],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===a&&(e.y+=o.titleMarginBottom-c)}}_drawColorBox(e,t,o,r,a){const l=this.labelColors[o],c=this.labelPointStyles[o],{boxHeight:d,boxWidth:h,boxPadding:u}=a,f=it(a.bodyFont),p=qi(this,"left",a),g=r.x(p),b=t.y+(d<f.lineHeight?(f.lineHeight-d)/2:0);if(a.usePointStyle){const v={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},x=r.leftForLtr(g,h)+h/2,C=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Dn(e,v,x,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Dn(e,v,x,C)}else{e.lineWidth=F(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const v=r.leftForLtr(g,h-u),x=r.leftForLtr(r.xPlus(g,1),h-u-2),C=ee(l.borderRadius);Object.values(C).some(T=>0!==T)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,qe(e,{x:v,y:b,w:h,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),qe(e,{x,y:b+1,w:h-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(v,b,h,d),e.strokeRect(v,b,h,d),e.fillStyle=l.backgroundColor,e.fillRect(x,b+1,h-2,d-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,t,o){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:u}=o,f=it(o.bodyFont);let p=f.lineHeight,g=0;const _=_e(o.rtl,this.x,this.width),b=function(D){t.fillText(D,_.x(e.x+g),e.y+p/2),e.y+=p+a},v=_.textAlign(l);let x,C,T,y,S,w,M;for(t.textAlign=l,t.textBaseline="middle",t.font=f.string,e.x=qi(this,v,o),t.fillStyle=o.bodyColor,z(this.beforeBody,b),g=c&&"right"!==v?"center"===l?h/2+u:h+2+u:0,y=0,w=r.length;y<w;++y){for(x=r[y],C=this.labelTextColors[y],t.fillStyle=C,z(x.before,b),T=x.lines,c&&T.length&&(this._drawColorBox(t,e,y,_,o),p=Math.max(f.lineHeight,d)),S=0,M=T.length;S<M;++S)b(T[S]),p=f.lineHeight;z(x.after,b)}g=0,p=f.lineHeight,z(this.afterBody,b),e.y-=a}drawFooter(e,t,o){const r=this.footer,a=r.length;let l,c;if(a){const d=_e(o.rtl,this.x,this.width);for(e.x=qi(this,o.footerAlign,o),e.y+=o.footerMarginTop,t.textAlign=d.textAlign(o.footerAlign),t.textBaseline="middle",l=it(o.footerFont),t.fillStyle=o.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(r[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+o.footerSpacing}}drawBackground(e,t,o,r){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=e,{width:h,height:u}=o,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:_}=ee(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+f,d),"top"===l&&this.drawCaret(e,t,o,r),t.lineTo(c+h-p,d),t.quadraticCurveTo(c+h,d,c+h,d+p),"center"===l&&"right"===a&&this.drawCaret(e,t,o,r),t.lineTo(c+h,d+u-_),t.quadraticCurveTo(c+h,d+u,c+h-_,d+u),"bottom"===l&&this.drawCaret(e,t,o,r),t.lineTo(c+g,d+u),t.quadraticCurveTo(c,d+u,c,d+u-g),"center"===l&&"left"===a&&this.drawCaret(e,t,o,r),t.lineTo(c,d+f),t.quadraticCurveTo(c,d,c+f,d),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,o=this.$animations,r=o&&o.x,a=o&&o.y;if(r||a){const l=ti[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=fa(this,e),d=Object.assign({},l,this._size),h=pa(t,e,d),u=ga(e,d,h,t);(r._to!==u.x||a._to!==u.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const l=lt(t.padding);t.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=o,this.drawBackground(a,e,r,t),nr(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),sr(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const o=this._active,r=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),a=!mi(o,r),l=this._positionChanged(r,t);(a||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,o=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,o),c=this._positionChanged(l,e),d=t||!mi(l,a)||c;return d&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,o,r){const a=this.options;if("mouseout"===e.type)return[];if(!r)return t;const l=this.chart.getElementsAtEventForMode(e,a.mode,a,o);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:o,caretY:r,options:a}=this,l=ti[a.position].call(this,e,t);return!1!==l&&(o!==l.x||r!==l.y)}}return n.positioners=ti,n})();var gm={id:"tooltip",_element:ba,positioners:ti,afterInit(n,i,e){e&&(n.tooltip=new ba({chart:n,options:e}))},beforeUpdate(n,i,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,i,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const i=n.tooltip;if(i&&i._willRender()){const e={tooltip:i};if(!1===n.notifyPlugins("beforeTooltipDraw",e))return;i.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,i){n.tooltip&&n.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,i)=>i.bodyFont.size,boxWidth:(n,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:St,title(n){if(n.length>0){const i=n[0],e=i.chart.data.labels,t=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(t>0&&i.dataIndex<t)return e[i.dataIndex]}return""},afterTitle:St,beforeBody:St,beforeLabel:St,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let i=n.dataset.label||"";i&&(i+=": ");const e=n.formattedValue;return N(e)||(i+=e),i},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:St,afterBody:St,beforeFooter:St,footer:St,afterFooter:St}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},mm=Object.freeze({__proto__:null,Decimation:Ug,Filler:em,Legend:sm,SubTitle:am,Title:rm,Tooltip:gm});class zi extends oe{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:o,label:r}of e)t[o]===r&&t.splice(o,1);this._addedLabels=[]}super.init(i)}parse(i,e){if(N(i))return null;const t=this.getLabels();return((n,i)=>null===n?null:ot(Math.round(n),0,i))(e=isFinite(e)&&t[e]===i?e:function bm(n,i,e,t){const o=n.indexOf(i);return-1===o?((n,i,e,t)=>("string"==typeof i?(e=n.push(i)-1,t.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(n,i,e,t):o!==n.lastIndexOf(i)?e:o}(t,i,E(e,i),this._addedLabels),t.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let{min:t,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(t=0),e||(o=this.getLabels().length-1)),this.min=t,this.max=o}buildTicks(){const i=this.min,e=this.max,t=this.options.offset,o=[];let r=this.getLabels();r=0===i&&e===r.length-1?r:r.slice(i,e+1),this._valueRange=Math.max(r.length-(t?0:1),1),this._startValue=this.min-(t?.5:0);for(let a=i;a<=e;a++)o.push({value:a});return o}getLabelForValue(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}function va(n,i,{horizontal:e,minRotation:t}){const o=vt(t),r=(e?Math.sin(o):Math.cos(o))||.001;return Math.min(i/r,.75*i*(""+n).length)}zi.id="category",zi.defaults={ticks:{callback:zi.prototype.getLabelForValue}};class Hi extends oe{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return N(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:o,max:r}=this;const a=c=>o=e?o:c,l=c=>r=t?r:c;if(i){const c=yt(o),d=yt(r);c<0&&d<0?l(0):c>0&&d>0&&a(0)}if(o===r){let c=1;(r>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(c=Math.abs(.05*r)),l(r+c),i||a(o-c)}this.min=o,this.max=r}getTickLimit(){const i=this.options.ticks;let o,{maxTicksLimit:e,stepSize:t}=i;return t?(o=Math.ceil(this.max/t)-Math.floor(this.min/t)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${t} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let t=this.getTickLimit();t=Math.max(2,t);const a=function xm(n,i){const e=[],{bounds:o,step:r,min:a,max:l,precision:c,count:d,maxTicks:h,maxDigits:u,includeBounds:f}=n,p=r||1,g=h-1,{min:_,max:b}=i,v=!N(a),x=!N(l),C=!N(d),T=(b-_)/(u+1);let S,w,M,D,y=vo((b-_)/g/p)*p;if(y<1e-14&&!v&&!x)return[{value:_},{value:b}];D=Math.ceil(b/y)-Math.floor(_/y),D>g&&(y=vo(D*y/g/p)*p),N(c)||(S=Math.pow(10,c),y=Math.ceil(y*S)/S),"ticks"===o?(w=Math.floor(_/y)*y,M=Math.ceil(b/y)*y):(w=_,M=b),v&&x&&r&&function $h(n,i){const e=Math.round(n);return e-i<=n&&e+i>=n}((l-a)/r,y/1e3)?(D=Math.round(Math.min((l-a)/y,h)),y=(l-a)/D,w=a,M=l):C?(w=v?a:w,M=x?l:M,D=d-1,y=(M-w)/D):(D=(M-w)/y,D=Ue(D,Math.round(D),y/1e3)?Math.round(D):Math.ceil(D));const j=Math.max(yo(y),yo(w));S=Math.pow(10,N(c)?j:c),w=Math.round(w*S)/S,M=Math.round(M*S)/S;let B=0;for(v&&(f&&w!==a?(e.push({value:a}),w<a&&B++,Ue(Math.round((w+B*y)*S)/S,a,va(a,T,n))&&B++):w<a&&B++);B<D;++B)e.push({value:Math.round((w+B*y)*S)/S});return x&&f&&M!==l?e.length&&Ue(e[e.length-1].value,l,va(l,T,n))?e[e.length-1].value=l:e.push({value:l}):(!x||M===l)&&e.push({value:M}),e}({maxTicks:t,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&xo(a,this,"value"),i.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const i=this.ticks;let e=this.min,t=this.max;if(super.configure(),this.options.offset&&i.length){const o=(t-e)/Math.max(i.length-1,1)/2;e-=o,t+=o}this._startValue=e,this._endValue=t,this._valueRange=t-e}getLabelForValue(i){return He(i,this.chart.options.locale,this.options.ticks.format)}}class Qn extends Hi{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Q(i)?i:0,this.max=Q(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,t=vt(this.options.ticks.minRotation),o=(i?Math.sin(t):Math.cos(t))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}function xa(n){return n/Math.pow(10,Math.floor(_t(n)))==1}Qn.id="linear",Qn.defaults={ticks:{callback:Pi.formatters.numeric}};class Xn extends oe{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const t=Hi.prototype.parse.apply(this,[i,e]);if(0!==t)return Q(t)&&t>0?t:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Q(i)?Math.max(0,i):null,this.max=Q(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let t=this.min,o=this.max;const r=c=>t=i?t:c,a=c=>o=e?o:c,l=(c,d)=>Math.pow(10,Math.floor(_t(c))+d);t===o&&(t<=0?(r(1),a(10)):(r(l(t,-1)),a(l(o,1)))),t<=0&&r(l(o,-1)),o<=0&&a(l(t,1)),this._zero&&this.min!==this._suggestedMin&&t===l(this.min,0)&&r(l(t,-1)),this.min=t,this.max=o}buildTicks(){const i=this.options,t=function ym(n,i){const e=Math.floor(_t(i.max)),t=Math.ceil(i.max/Math.pow(10,e)),o=[];let r=gt(n.min,Math.pow(10,Math.floor(_t(i.min)))),a=Math.floor(_t(r)),l=Math.floor(r/Math.pow(10,a)),c=a<0?Math.pow(10,Math.abs(a)):1;do{o.push({value:r,major:xa(r)}),++l,10===l&&(l=1,++a,c=a>=0?1:c),r=Math.round(l*Math.pow(10,a)*c)/c}while(a<e||a===e&&l<t);const d=gt(n.max,r);return o.push({value:d,major:xa(r)}),o}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&xo(t,this,"value"),i.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(i){return void 0===i?"0":He(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=_t(i),this._valueRange=_t(this.max)-_t(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(_t(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function ts(n){const i=n.ticks;if(i.display&&n.display){const e=lt(i.backdropPadding);return E(i.font&&i.font.size,L.font.size)+e.height}return 0}function km(n,i,e){return e=V(e)?e:[e],{w:Du(n,i.string,e),h:e.length*i.lineHeight}}function ya(n,i,e,t,o){return n===t||n===o?{start:i-e/2,end:i+e/2}:n<t||n>o?{start:i-e,end:i}:{start:i,end:i+e}}function Cm(n,i,e,t,o){const r=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,c=0;t.start<i.l?(l=(i.l-t.start)/r,n.l=Math.min(n.l,i.l-l)):t.end>i.r&&(l=(t.end-i.r)/r,n.r=Math.max(n.r,i.r+l)),o.start<i.t?(c=(i.t-o.start)/a,n.t=Math.min(n.t,i.t-c)):o.end>i.b&&(c=(o.end-i.b)/a,n.b=Math.max(n.b,i.b+c))}function Sm(n){return 0===n||180===n?"center":n<180?"left":"right"}function wm(n,i,e){return"right"===e?n-=i:"center"===e&&(n-=i/2),n}function Mm(n,i,e){return 90===e||270===e?n-=i/2:(e>270||e<90)&&(n-=i),n}function ka(n,i,e,t){const{ctx:o}=n;if(e)o.arc(n.xCenter,n.yCenter,i,0,H);else{let r=n.getPointPosition(0,i);o.moveTo(r.x,r.y);for(let a=1;a<t;a++)r=n.getPointPosition(a,i),o.lineTo(r.x,r.y)}}Xn.id="logarithmic",Xn.defaults={ticks:{callback:Pi.formatters.logarithmic,major:{enabled:!0}}};class ei extends Hi{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=lt(ts(this.options)/2),e=this.width=this.maxWidth-i.width,t=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+t/2+i.top),this.drawingArea=Math.floor(Math.min(e,t)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=Q(i)&&!isNaN(i)?i:0,this.max=Q(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ts(this.options))}generateTickLabels(i){Hi.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,t)=>{const o=Y(this.options.pointLabels.callback,[e,t],this);return o||0===o?o:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const i=this.options;i.display&&i.pointLabels.display?function Tm(n){const i={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},i),t=[],o=[],r=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?G/r:0;for(let c=0;c<r;c++){const d=a.setContext(n.getPointLabelContext(c));o[c]=d.padding;const h=n.getPointPosition(c,n.drawingArea+o[c],l),u=it(d.font),f=km(n.ctx,u,n._pointLabels[c]);t[c]=f;const p=ft(n.getIndexAngle(c)+l),g=Math.round(_n(p));Cm(e,i,p,ya(g,h.x,f.w,0,180),ya(g,h.y,f.h,90,270))}n.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),n._pointLabelItems=function Am(n,i,e){const t=[],o=n._pointLabels.length,r=n.options,a=ts(r)/2,l=n.drawingArea,c=r.pointLabels.centerPointLabels?G/o:0;for(let d=0;d<o;d++){const h=n.getPointPosition(d,l+a+e[d],c),u=Math.round(_n(ft(h.angle+$))),f=i[d],p=Mm(h.y,f.h,u),g=Sm(u),_=wm(h.x,f.w,g);t.push({x:h.x,y:p,textAlign:g,left:_,top:p,right:_+f.w,bottom:p+f.h})}return t}(n,t,o)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,t,o){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((t-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,t,o))}getIndexAngle(i){return ft(i*(H/(this._pointLabels.length||1))+vt(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(N(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(N(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const t=e[i];return function Im(n,i,e){return qt(n,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,t)}}getPointPosition(i,e,t=0){const o=this.getIndexAngle(i)-$+t;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:t,right:o,bottom:r}=this._pointLabelItems[i];return{left:e,top:t,right:o,bottom:r}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const t=this.ctx;t.save(),t.beginPath(),ka(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),t.closePath(),t.fillStyle=i,t.fill(),t.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:t,grid:o}=e,r=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&function Dm(n,i){const{ctx:e,options:{pointLabels:t}}=n;for(let o=i-1;o>=0;o--){const r=t.setContext(n.getPointLabelContext(o)),a=it(r.font),{x:l,y:c,textAlign:d,left:h,top:u,right:f,bottom:p}=n._pointLabelItems[o],{backdropColor:g}=r;if(!N(g)){const _=ee(r.borderRadius),b=lt(r.backdropPadding);e.fillStyle=g;const v=h-b.left,x=u-b.top,C=f-h+b.width,T=p-u+b.height;Object.values(_).some(y=>0!==y)?(e.beginPath(),qe(e,{x:v,y:x,w:C,h:T,radius:_}),e.fill()):e.fillRect(v,x,C,T)}te(e,n._pointLabels[o],l,c+a.lineHeight/2,a,{color:r.color,textAlign:d,textBaseline:"middle"})}}(this,r),o.display&&this.ticks.forEach((d,h)=>{0!==h&&(l=this.getDistanceFromCenterForValue(d.value),function Pm(n,i,e,t){const o=n.ctx,r=i.circular,{color:a,lineWidth:l}=i;!r&&!t||!a||!l||e<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.borderDash),o.lineDashOffset=i.borderDashOffset,o.beginPath(),ka(n,e,r,t),o.closePath(),o.stroke(),o.restore())}(this,o.setContext(this.getContext(h-1)),l,r))}),t.display){for(i.save(),a=r-1;a>=0;a--){const d=t.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:u}=d;!u||!h||(i.lineWidth=u,i.strokeStyle=h,i.setLineDash(d.borderDash),i.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(c.x,c.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,t=e.ticks;if(!t.display)return;const o=this.getIndexAngle(0);let r,a;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(o),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((l,c)=>{if(0===c&&!e.reverse)return;const d=t.setContext(this.getContext(c)),h=it(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){i.font=h.string,a=i.measureText(l.label).width,i.fillStyle=d.backdropColor;const u=lt(d.backdropPadding);i.fillRect(-a/2-u.left,-r-h.size/2-u.top,a+u.width,h.size+u.height)}te(i,l.label,0,-r,h,{color:d.color})}),i.restore()}drawTitle(){}}ei.id="radialLinear",ei.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},ei.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},ei.descriptors={angleLines:{_fallback:"grid"}};const Vi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ut=Object.keys(Vi);function Zm(n,i){return n-i}function Ta(n,i){if(N(i))return null;const e=n._adapter,{parser:t,round:o,isoWeekday:r}=n._parseOpts;let a=i;return"function"==typeof t&&(a=t(a)),Q(a)||(a="string"==typeof t?e.parse(a,t):e.parse(a)),null===a?null:(o&&(a="week"!==o||!fe(r)&&!0!==r?e.startOf(a,o):e.startOf(a,"isoWeek",r)),+a)}function Ca(n,i,e,t){const o=ut.length;for(let r=ut.indexOf(n);r<o-1;++r){const a=Vi[ut[r]];if(a.common&&Math.ceil((e-i)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=t)return ut[r]}return ut[o-1]}function Aa(n,i,e){if(e){if(e.length){const{lo:t,hi:o}=vn(e,i);n[e[t]>=i?e[t]:e[o]]=!0}}else n[i]=!0}function Sa(n,i,e){const t=[],o={},r=i.length;let a,l;for(a=0;a<r;++a)l=i[a],o[l]=a,t.push({value:l,major:!1});return 0!==r&&e?function Um(n,i,e,t){const o=n._adapter,r=+o.startOf(i[0].value,t),a=i[i.length-1].value;let l,c;for(l=r;l<=a;l=+o.add(l,1,t))c=e[l],c>=0&&(i[c].major=!0);return i}(n,t,o,e):t}let es=(()=>{class n extends oe{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const o=e.time||(e.time={}),r=this._adapter=new xp._date(e.adapters.date);r.init(t),Oe(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Ta(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,o=e.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(h){!l&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!c)&&(d(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&d(this.getMinMax(!1))),r=Q(r)&&!isNaN(r)?r:+t.startOf(Date.now(),o),a=Q(a)&&!isNaN(a)?a:+t.endOf(Date.now(),o)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],o=e[e.length-1]),{min:t,max:o}}buildTicks(){const e=this.options,t=e.time,o=e.ticks,r="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,c=function eu(n,i,e){let t=0,o=n.length;for(;t<o&&n[t]<i;)t++;for(;o>t&&n[o-1]>e;)o--;return t>0||o<n.length?n.slice(t,o):n}(r,a,this.max);return this._unit=t.unit||(o.autoSkip?Ca(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function Om(n,i,e,t,o){for(let r=ut.length-1;r>=ut.indexOf(e);r--){const a=ut[r];if(Vi[a].common&&n._adapter.diff(o,t,a)>=i-1)return a}return ut[e?ut.indexOf(e):0]}(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function Em(n){for(let i=ut.indexOf(n)+1,e=ut.length;i<e;++i)if(Vi[ut[i]].common)return ut[i]}(this._unit):void 0,this.initOffsets(r),e.reverse&&c.reverse(),Sa(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let r,a,t=0,o=0;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),t=1===e.length?1-r:(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),o=1===e.length?a:(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=ot(t,0,l),o=ot(o,0,l),this._offsets={start:t,end:o,factor:1/(t+1+o)}}_generate(){const e=this._adapter,t=this.min,o=this.max,r=this.options,a=r.time,l=a.unit||Ca(a.minUnit,t,o,this._getLabelCapacity(t)),c=E(a.stepSize,1),d="week"===l&&a.isoWeekday,h=fe(d)||!0===d,u={};let p,g,f=t;if(h&&(f=+e.startOf(f,"isoWeek",d)),f=+e.startOf(f,h?"day":l),e.diff(o,t,l)>1e5*c)throw new Error(t+" and "+o+" are too far apart with stepSize of "+c+" "+l);const _="data"===r.ticks.source&&this.getDataTimestamps();for(p=f,g=0;p<o;p=+e.add(p,c,l),g++)Aa(u,p,_);return(p===o||"ticks"===r.bounds||1===g)&&Aa(u,p,_),Object.keys(u).sort((b,v)=>b-v).map(b=>+b)}getLabelForValue(e){const o=this.options.time;return this._adapter.format(e,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}_tickFormatFunction(e,t,o,r){const a=this.options,l=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=d&&l[d],f=o[t],g=this._adapter.format(e,r||(d&&u&&f&&f.major?u:c&&l[c])),_=a.ticks.callback;return _?Y(_,[g,t,o],this):g}generateTickLabels(e){let t,o,r;for(t=0,o=e.length;t<o;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+o)*t.factor)}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,o=this.ctx.measureText(e).width,r=vt(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(r),l=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:o*a+c*l,h:o*l+c*a}}_getLabelCapacity(e){const t=this.options.time,o=t.displayFormats,r=o[t.unit]||o.millisecond,a=this._tickFormatFunction(e,0,Sa(this,[e],this._majorUnit),r),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t,o,e=this._cache.data||[];if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,o=r.length;t<o;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,o;if(e.length)return e;const r=this.getLabels();for(t=0,o=r.length;t<o;++t)e.push(Ta(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ao(e.sort(Zm))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function Yi(n,i,e){let r,a,l,c,t=0,o=n.length-1;e?(i>=n[t].pos&&i<=n[o].pos&&({lo:t,hi:o}=Mt(n,"pos",i)),({pos:r,time:l}=n[t]),({pos:a,time:c}=n[o])):(i>=n[t].time&&i<=n[o].time&&({lo:t,hi:o}=Mt(n,"time",i)),({time:r,pos:l}=n[t]),({time:a,pos:c}=n[o]));const d=a-r;return d?l+(c-l)*(i-r)/d:l}class is extends es{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=Yi(e,this.min),this._tableRange=Yi(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:t}=this,o=[],r=[];let a,l,c,d,h;for(a=0,l=i.length;a<l;++a)d=i[a],d>=e&&d<=t&&o.push(d);if(o.length<2)return[{time:e,pos:0},{time:t,pos:1}];for(a=0,l=o.length;a<l;++a)h=o[a+1],c=o[a-1],d=o[a],Math.round((h+c)/2)!==d&&r.push({time:d,pos:a/(l-1)});return r}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),t=this.getLabelTimestamps();return i=e.length&&t.length?this.normalize(e.concat(t)):e.length?e:t,i=this._cache.all=i,i}getDecimalForValue(i){return(Yi(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,t=this.getDecimalForPixel(i)/e.factor-e.end;return Yi(this._table,t*this._tableRange+this._minPos,!0)}}is.id="timeseries",is.defaults=es.defaults;const Lm=[vp,Ig,mm,Object.freeze({__proto__:null,CategoryScale:zi,LinearScale:Qn,LogarithmicScale:Xn,RadialLinearScale:ei,TimeScale:es,TimeSeriesScale:is})];var Rm=U(3997);const Wi=function Bm(n,i){return n===i||n!=n&&i!=i},Ji=function qm(n,i){for(var e=n.length;e--;)if(Wi(n[e][0],i))return e;return-1};var Hm=Array.prototype.splice;function ve(n){var i=-1,e=null==n?0:n.length;for(this.clear();++i<e;){var t=n[i];this.set(t[0],t[1])}}ve.prototype.clear=function jm(){this.__data__=[],this.size=0},ve.prototype.delete=function Vm(n){var i=this.__data__,e=Ji(i,n);return!(e<0||(e==i.length-1?i.pop():Hm.call(i,e,1),--this.size,0))},ve.prototype.get=function Wm(n){var i=this.__data__,e=Ji(i,n);return e<0?void 0:i[e][1]},ve.prototype.has=function Km(n){return Ji(this.__data__,n)>-1},ve.prototype.set=function $m(n,i){var e=this.__data__,t=Ji(e,n);return t<0?(++this.size,e.push([n,i])):e[t][1]=i,this};const Ki=ve,wa="object"==typeof global&&global&&global.Object===Object&&global;var l_="object"==typeof self&&self&&self.Object===Object&&self;const xe=wa||l_||Function("return this")();var d_=xe.Symbol,Ma=Object.prototype,h_=Ma.hasOwnProperty,u_=Ma.toString,ii=d_?d_.toStringTag:void 0;var m_=Object.prototype.toString;var Da=d_?d_.toStringTag:void 0;const $i=function y_(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":Da&&Da in Object(n)?function f_(n){var i=h_.call(n,ii),e=n[ii];try{n[ii]=void 0;var t=!0}catch{}var o=u_.call(n);return t&&(i?n[ii]=e:delete n[ii]),o}(n):function __(n){return m_.call(n)}(n)},ae=function k_(n){var i=typeof n;return null!=n&&("object"==i||"function"==i)},ns=function w_(n){if(!ae(n))return!1;var i=$i(n);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i};var n,M_=xe["__core-js_shared__"],Pa=(n=/[^.]+$/.exec(M_&&M_.keys&&M_.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var Z_=Function.prototype.toString;var F_=/^\[object .+?Constructor\]$/,B_=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const z_=function q_(n){return!(!ae(n)||function D_(n){return!!Pa&&Pa in n}(n))&&(ns(n)?B_:F_).test(function O_(n){if(null!=n){try{return Z_.call(n)}catch{}try{return n+""}catch{}}return""}(n))},os=function Y_(n,i){var e=function H_(n,i){return n?.[i]}(n,i);return z_(e)?e:void 0},Ia=os(xe,"Map"),ni=os(Object,"create");var eb=Object.prototype.hasOwnProperty;var ob=Object.prototype.hasOwnProperty;function ye(n){var i=-1,e=null==n?0:n.length;for(this.clear();++i<e;){var t=n[i];this.set(t[0],t[1])}}ye.prototype.clear=function K_(){this.__data__=ni?ni(null):{},this.size=0},ye.prototype.delete=function $_(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i},ye.prototype.get=function ib(n){var i=this.__data__;if(ni){var e=i[n];return"__lodash_hash_undefined__"===e?void 0:e}return eb.call(i,n)?i[n]:void 0},ye.prototype.has=function rb(n){var i=this.__data__;return ni?void 0!==i[n]:ob.call(i,n)},ye.prototype.set=function cb(n,i){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=ni&&void 0===i?"__lodash_hash_undefined__":i,this};const Za=ye,Qi=function gb(n,i){var e=n.__data__;return function fb(n){var i=typeof n;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n}(i)?e["string"==typeof i?"string":"hash"]:e.map};function ke(n){var i=-1,e=null==n?0:n.length;for(this.clear();++i<e;){var t=n[i];this.set(t[0],t[1])}}ke.prototype.clear=function hb(){this.size=0,this.__data__={hash:new Za,map:new(Ia||Ki),string:new Za}},ke.prototype.delete=function mb(n){var i=Qi(this,n).delete(n);return this.size-=i?1:0,i},ke.prototype.get=function bb(n){return Qi(this,n).get(n)},ke.prototype.has=function xb(n){return Qi(this,n).has(n)},ke.prototype.set=function kb(n,i){var e=Qi(this,n),t=e.size;return e.set(n,i),this.size+=e.size==t?0:1,this};const Cb=ke;function Te(n){var i=this.__data__=new Ki(n);this.size=i.size}Te.prototype.clear=function Xm(){this.__data__=new Ki,this.size=0},Te.prototype.delete=function e_(n){var i=this.__data__,e=i.delete(n);return this.size=i.size,e},Te.prototype.get=function n_(n){return this.__data__.get(n)},Te.prototype.has=function o_(n){return this.__data__.has(n)},Te.prototype.set=function Sb(n,i){var e=this.__data__;if(e instanceof Ki){var t=e.__data__;if(!Ia||t.length<199)return t.push([n,i]),this.size=++e.size,this;e=this.__data__=new Cb(t)}return e.set(n,i),this.size=e.size,this};const Mb=Te;var Db=function(){try{var n=os(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Xi=Db,rs=function Pb(n,i,e){"__proto__"==i&&Xi?Xi(n,i,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[i]=e},as=function Ib(n,i,e){(void 0!==e&&!Wi(n[i],e)||void 0===e&&!(i in n))&&rs(n,i,e)};var Ob=function Zb(n){return function(i,e,t){for(var o=-1,r=Object(i),a=t(i),l=a.length;l--;){var c=a[n?l:++o];if(!1===e(r[c],c,r))break}return i}}();const Eb=Ob;var Oa="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ea=Oa&&"object"==typeof module&&module&&!module.nodeType&&module,Ua=Ea&&Ea.exports===Oa?xe.Buffer:void 0,Fa=Ua?Ua.allocUnsafe:void 0;const La=xe.Uint8Array,qb=function Bb(n,i){var e=i?function jb(n){var i=new n.constructor(n.byteLength);return new La(i).set(new La(n)),i}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var Ra=Object.create,Vb=function(){function n(){}return function(i){if(!ae(i))return{};if(Ra)return Ra(i);n.prototype=i;var e=new n;return n.prototype=void 0,e}}();const Yb=Vb;var Jb=function Wb(n,i){return function(e){return n(i(e))}}(Object.getPrototypeOf,Object);const ja=Jb;var Kb=Object.prototype;const Na=function Gb(n){var i=n&&n.constructor;return n===("function"==typeof i&&i.prototype||Kb)},si=function Xb(n){return null!=n&&"object"==typeof n},Ba=function ev(n){return si(n)&&"[object Arguments]"==$i(n)};var qa=Object.prototype,iv=qa.hasOwnProperty,nv=qa.propertyIsEnumerable,sv=Ba(function(){return arguments}())?Ba:function(n){return si(n)&&iv.call(n,"callee")&&!nv.call(n,"callee")};const ls=sv,cs=Array.isArray,za=function av(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},ds=function lv(n){return null!=n&&za(n.length)&&!ns(n)};var Ha="object"==typeof exports&&exports&&!exports.nodeType&&exports,Va=Ha&&"object"==typeof module&&module&&!module.nodeType&&module,Ya=Va&&Va.exports===Ha?xe.Buffer:void 0;const Wa=(Ya?Ya.isBuffer:void 0)||function hv(){return!1};var Ja=Function.prototype.toString,vv=Object.prototype.hasOwnProperty,xv=Ja.call(Object);var W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var Ka="object"==typeof exports&&exports&&!exports.nodeType&&exports,oi=Ka&&"object"==typeof module&&module&&!module.nodeType&&module,hs=oi&&oi.exports===Ka&&wa.process,Qv=function(){try{return oi&&oi.require&&oi.require("util").types||hs&&hs.binding&&hs.binding("util")}catch{}}(),$a=Qv&&Qv.isTypedArray;const Qa=$a?function Kv(n){return function(i){return n(i)}}($a):function Wv(n){return si(n)&&za(n.length)&&!!W[$i(n)]},us=function t1(n,i){if(("constructor"!==i||"function"!=typeof n[i])&&"__proto__"!=i)return n[i]};var n1=Object.prototype.hasOwnProperty;const o1=function s1(n,i,e){var t=n[i];(!n1.call(n,i)||!Wi(t,e)||void 0===e&&!(i in n))&&rs(n,i,e)};var h1=/^(?:0|[1-9]\d*)$/;const Xa=function u1(n,i){var e=typeof n;return!!(i=i??9007199254740991)&&("number"==e||"symbol"!=e&&h1.test(n))&&n>-1&&n%1==0&&n<i};var p1=Object.prototype.hasOwnProperty;const m1=function g1(n,i){var e=cs(n),t=!e&&ls(n),o=!e&&!t&&Wa(n),r=!e&&!t&&!o&&Qa(n),a=e||t||o||r,l=a?function l1(n,i){for(var e=-1,t=Array(n);++e<n;)t[e]=i(e);return t}(n.length,String):[],c=l.length;for(var d in n)(i||p1.call(n,d))&&(!a||!("length"==d||o&&("offset"==d||"parent"==d)||r&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Xa(d,c)))&&l.push(d);return l};var x1=Object.prototype.hasOwnProperty;const k1=function y1(n){if(!ae(n))return function _1(n){var i=[];if(null!=n)for(var e in Object(n))i.push(e);return i}(n);var i=Na(n),e=[];for(var t in n)"constructor"==t&&(i||!x1.call(n,t))||e.push(t);return e},tl=function T1(n){return ds(n)?m1(n,!0):k1(n)},A1=function C1(n){return function r1(n,i,e,t){var o=!e;e||(e={});for(var r=-1,a=i.length;++r<a;){var l=i[r],c=t?t(e[l],n[l],l,e,n):void 0;void 0===c&&(c=n[l]),o?rs(e,l,c):o1(e,l,c)}return e}(n,tl(n))},w1=function S1(n,i,e,t,o,r,a){var l=us(n,e),c=us(i,e),d=a.get(c);if(d)as(n,e,d);else{var h=r?r(l,c,e+"",n,i,a):void 0,u=void 0===h;if(u){var f=cs(c),p=!f&&Wa(c),g=!f&&!p&&Qa(c);h=c,f||p||g?cs(l)?h=l:function cv(n){return si(n)&&ds(n)}(l)?h=function zb(n,i){var e=-1,t=n.length;for(i||(i=Array(t));++e<t;)i[e]=n[e];return i}(l):p?(u=!1,h=function Fb(n,i){if(i)return n.slice();var e=n.length,t=Fa?Fa(e):new n.constructor(e);return n.copy(t),t}(c,!0)):g?(u=!1,h=qb(c,!0)):h=[]:function yv(n){if(!si(n)||"[object Object]"!=$i(n))return!1;var i=ja(n);if(null===i)return!0;var e=vv.call(i,"constructor")&&i.constructor;return"function"==typeof e&&e instanceof e&&Ja.call(e)==xv}(c)||ls(c)?(h=l,ls(l)?h=A1(l):(!ae(l)||ns(l))&&(h=function $b(n){return"function"!=typeof n.constructor||Na(n)?{}:Yb(ja(n))}(c))):u=!1}u&&(a.set(c,h),o(h,c,t,r,a),a.delete(c)),as(n,e,h)}},M1=function el(n,i,e,t,o){n!==i&&Eb(i,function(r,a){if(o||(o=new Mb),ae(r))w1(n,i,a,e,el,t,o);else{var l=t?t(us(n,a),r,a+"",n,i,o):void 0;void 0===l&&(l=r),as(n,a,l)}},tl)},il=function D1(n){return n};var nl=Math.max;const U1=function E1(n){return function(){return n}};var F1=Xi?function(n,i){return Xi(n,"toString",{configurable:!0,enumerable:!1,value:U1(i),writable:!0})}:il,N1=Date.now,q1=function B1(n){var i=0,e=0;return function(){var t=N1(),o=16-(t-e);if(e=t,o>0){if(++i>=800)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}(F1);const z1=q1,V1=function H1(n,i){return z1(function Z1(n,i,e){return i=nl(void 0===i?n.length-1:i,0),function(){for(var t=arguments,o=-1,r=nl(t.length-i,0),a=Array(r);++o<r;)a[o]=t[i+o];o=-1;for(var l=Array(i+1);++o<i;)l[o]=t[o];return l[i]=e(a),function P1(n,i,e){switch(e.length){case 0:return n.call(i);case 1:return n.call(i,e[0]);case 2:return n.call(i,e[0],e[1]);case 3:return n.call(i,e[0],e[1],e[2])}return n.apply(i,e)}(n,this,l)}}(n,i,il),n+"")};var K1=function J1(n){return V1(function(i,e){var t=-1,o=e.length,r=o>1?e[o-1]:void 0,a=o>2?e[2]:void 0;for(r=n.length>3&&"function"==typeof r?(o--,r):void 0,a&&function Y1(n,i,e){if(!ae(e))return!1;var t=typeof i;return!!("number"==t?ds(e)&&Xa(i,e.length):"string"==t&&i in e)&&Wi(e[i],n)}(e[0],e[1],a)&&(r=o<3?void 0:r,o=1),i=Object(i);++t<o;){var l=e[t];l&&n(i,l,t,r)}return i})}(function(n,i,e){M1(n,i,e)});const sl=K1;let G1=(()=>{var n;class i{constructor(){this.colorschemesOptions=new Zt.X(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})(),$1=(()=>{var n;class i{constructor(t,o,r){this.zone=o,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new s.vpe,this.chartHover=new s.vpe,this.subs=[],this.themeOverrides={},this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,Rm.x)()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(t){const o=["type"],r=Object.getOwnPropertyNames(t);if(r.some(a=>o.includes(a))||r.every(a=>t[a].isFirstChange()))this.render();else{const a=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,a.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,a.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,a.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Xe(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,o){this.chart&&(this.chart.getDatasetMeta(t).hidden=o,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return sl({onHover:(t,o)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:o}))},onClick:(t,o)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:o}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(G1))},n.\u0275dir=s.lG2({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[s.TTD]}),i})();const Q1=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],X1={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>Vt(Yt(n.datasetIndex),.4),borderColor:n=>Vt(Yt(n.datasetIndex),1),pointBackgroundColor:n=>Vt(Yt(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>Vt(Yt(n.datasetIndex),.6),borderColor:n=>Vt(Yt(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Vt(Yt(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Vt(Yt(n.dataIndex),.6),borderColor:n=>Vt(Yt(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Vt(n,i){return"rgba("+n.concat(i).join(",")+")"}function fs(n,i){return Math.floor(Math.random()*(i-n+1))+n}function Yt(n=0){return Q1[n]||function tx(){return[fs(0,255),fs(0,255),fs(0,255)]}()}let ol=(()=>{var n;class i{constructor(){this.generateColors=!0}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();Xe.register(...Lm);let ex=(()=>{var n;class i{constructor(t){t?.plugins&&Xe.register(...t.plugins);const o=sl(t?.generateColors?X1:{},t?.defaults||{});L.set(o)}static forRoot(t){return{ngModule:i,providers:[{provide:ol,useValue:t}]}}}return(n=i).\u0275fac=function(t){return new(t||n)(s.LFG(ol,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),i})();function ix(n,i){1&n&&s._UZ(0,"app-loader")}function nx(n,i){if(1&n&&(s.TgZ(0,"div",2)(1,"section",3)(2,"div",4)(3,"h1",5),s._uU(4,"My Performace Metrics"),s.qZA()()(),s._UZ(5,"br"),s.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),s._uU(11,"Tasks Completed per Day"),s.qZA(),s._UZ(12,"canvas",11),s.qZA()()(),s.TgZ(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5",10),s._uU(17,"Completion Rate"),s.qZA(),s._UZ(18,"canvas",12),s.TgZ(19,"div",13)(20,"span",14),s._uU(21),s.qZA()()()()(),s.TgZ(22,"div",7)(23,"div",15)(24,"div",16)(25,"h5",17),s._uU(26,"Daily Average"),s.qZA(),s.TgZ(27,"div",18),s._uU(28),s.qZA(),s.TgZ(29,"div",19),s._uU(30,"Tasks completed/day"),s.qZA()()()()()()),2&n){const e=s.oxw();s.xp6(12),s.Q6J("data",e.barChartData)("options",e.barChartOptions)("type",e.barChartType),s.xp6(6),s.Q6J("data",e.pieChartData)("options",e.pieChartOptions)("type",e.pieChartType),s.xp6(3),s.hij("",e.completionRate,"%"),s.xp6(7),s.Oqu(e.avgTasksPerDay)}}let sx=(()=>{var n;class i{constructor(t,o,r){this.taskAssignationService=t,this.taskService=o,this.authService=r,this.isLoading=!0,this.assignedTasks=[],this.completedTasks=[],this.periodLabels=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.completedTasksData=[0,0,0,0,0,0,0],this.barChartData={labels:this.periodLabels,datasets:[{data:this.completedTasksData,label:"Completed Tasks",backgroundColor:"#42A5F5"}]},this.barChartOptions={responsive:!0,plugins:{legend:{display:!0}}},this.barChartType="bar",this.pieChartData={labels:["Completed","Pending"],datasets:[{data:[0,0],backgroundColor:["#66BB6A","#EF5350"]}]},this.pieChartOptions={responsive:!0,plugins:{legend:{display:!0}}},this.pieChartType="pie"}ngOnInit(){this.authService.getUserRole().subscribe({next:t=>{this.userId=t.id,this.loadAssignedTasks()},error:()=>{this.isLoading=!1}})}loadAssignedTasks(){this.taskAssignationService.getTaskAssignationByUserId(this.userId).subscribe({next:t=>{this.assignedTasks=t,this.completedTasks=t.filter(o=>o.completed),this.updateCharts(),this.isLoading=!1},error:()=>{this.isLoading=!1}})}updateCharts(){this.completedTasksData=[0,0,0,0,0,0,0],this.completedTasks.forEach(r=>{const a=Math.floor(7*Math.random());this.completedTasksData[a]++}),this.barChartData={labels:this.periodLabels,datasets:[{data:this.completedTasksData,label:"Completed Tasks",backgroundColor:"#42A5F5"}]};const t=this.completedTasks.length;this.pieChartData={labels:["Completed","Pending"],datasets:[{data:[t,Math.max(this.assignedTasks.length-t,0)],backgroundColor:["#66BB6A","#EF5350"]}]}}get completionRate(){const t=this.assignedTasks.length;return t?Math.round(this.completedTasks.length/t*100):0}get avgTasksPerDay(){return this.completedTasks.length?Math.round(this.completedTasks.length/7):0}}return(n=i).\u0275fac=function(t){return new(t||n)(s.Y36(Ut),s.Y36(pt),s.Y36(Gt.e))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-my-performance"]],decls:3,vars:2,consts:[[4,"ngIf"],["class","container metrics-container",4,"ngIf"],[1,"container","metrics-container"],[1,"jumbotron","text-center"],[1,"container"],[1,"jumbotron-heading"],[1,"row","g-4","justify-content-center"],[1,"col-12","col-md-6","col-lg-4"],[1,"card","shadow-sm","h-100"],[1,"card-body","d-flex","flex-column","align-items-center"],[1,"card-title","text-center","mb-3"],["baseChart","",2,"max-height","260px","width","100%",3,"data","options","type"],["baseChart","",2,"max-height","220px","width","100%",3,"data","options","type"],[1,"mt-3"],[1,"badge","bg-success","fs-4"],[1,"card","shadow-sm","h-100","d-flex","flex-column","align-items-center","justify-content-center"],[1,"card-body","text-center"],[1,"card-title","mb-3"],[1,"display-4","text-primary","fw-bold"],[1,"text-muted"]],template:function(t,o){1&t&&(s.YNc(0,ix,1,0,"app-loader",0),s._UZ(1,"br"),s.YNc(2,nx,31,8,"div",1)),2&t&&(s.Q6J("ngIf",o.isLoading),s.xp6(2),s.Q6J("ngIf",!o.isLoading))},dependencies:[I.O5,$1,uo]}),i})();const ox=[{path:"",component:ul,children:[{path:"home",component:Gl,canActivate:[q.a],canLoad:[q.a]},{path:"administrators",component:xl,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"projects",component:hc,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"project-members",component:Nh,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"tasks",component:Wl,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"subtasks",component:Nc,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"kanban",component:Pl,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"buckets",component:yc,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"badges",component:wc,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"project-boards",component:qc,canActivate:[q.a],canLoad:[q.a]},{path:"board",component:th,canActivate:[q.a],canLoad:[q.a]},{path:"my-projects",component:ih,canActivate:[q.a],canLoad:[q.a]},{path:"my-tasks",component:xh,canActivate:[q.a],canLoad:[q.a]},{path:"my-profile",component:yh,canActivate:[q.a],canLoad:[q.a]},{path:"my-performance",component:sx,canActivate:[q.a,st],canLoad:[q.a,st]},{path:"**",redirectTo:"home"}]}];let rx=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rt.Bz.forChild(ox),rt.Bz]}),i})(),ax=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[I.ez,rx,m.UX,m.u5,ex]}),i})()}}]);